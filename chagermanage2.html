<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title id="title">后台管理系统</title>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="css/bootstrap-table.min.css">
    <link rel="stylesheet" href="css/bootstrap-editable.css">
    <link rel="stylesheet" href="assets/index.css">
    <script src="assets/index.js"></script>
    <script src="js/vue1.js"></script>
    <script src="js/axios.js"></script>
    <script src="assets/jquery.min.js"></script>
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=upXkuuhfOOuQkOlW7yxP0cVHRKIseXmc"></script>
    <!-- echart-->
    <script src="https://cdn.bootcss.com/echarts/4.0.2/echarts.min.js"></script>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <!-- 最新版本的 Bootstrap 核心 CSS 文件 -->
    <link rel="stylesheet" href="css/style.css"/>

    <link rel="stylesheet" href="css/bootstrap-datetimepicker.css"/>
    <!-- bootstrap-datetimepicker插件CSS-->

    <!-- Latest compiled and minified JavaScript -->
    <script src="js/bootstrap-table.min.js"></script>

    <!-- Latest compiled and minified Locales -->
    <script src="js/bootstrap-table-zh-CN.min.js"></script>


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/json2/20140204/json2.min.js"></script>
    <script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js "></script>
    <script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

    <![endif]-->
    <style>
        body{  font-family: "Microsoft YaHei","微软雅黑 Light","Helvetica Neue",Helvetica,"PingFang SC","Hiragino Sans GB","Microsoft YaHei","微软雅黑",Arial,sans-serif; font-size:13px;}
        .like{
            width: 20%;
            height: 30%;
        }
        .smallImg{
            width: 30px;
            height: 30px;
        }
        .red{
            color: #8e8e8e
        }
        .green{
            color:#20d44a
        }
        .yellow{
            color:#FF9200
        }
        .orange{
            color:#FF7100}
        .nowwrp1{
            overflow: hidden;

            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            width:90px;

        }
        .nowwrp{
            white-space: nowrap;

        }
        .wrap-btn{
            background: red;

        }
        .nav>li>a{
            font-size:16px;
            font-weight:400;}
        .nav>li>a:hover{

            background:none;
        }
        .nav>li>a:focus{
            color:#FFF;
            background:none;
        }
        .navbar-inverse .navbar-nav>li>a {
            color: #9d9d9d;
            font-size: 18px;
        }
        .nav{
            -ms-overflow-y:scroll;}

        .nav-pills{
            -ms-overflow-y:scroll;}
        .nav-stacked{
            -ms-overflow-y:scroll;}
        .nav nav-pills nav-stacked{
            -ms-overflow-y:scroll;}

        .my-container {
            float: left;
            display: inline-block;
            margin-right:30px;
            margin-bottom: 4px;
            margin-top: -3px;
        }

        .myLabel-content ,.myText-content,.myBtn-content{
            float: left;
            display: inline-block;

        }
        .myLabel-content,.myText-content input[type='text'],.myBtn-content .btn {
            height: 34px;

        }
        .myBtn-content .btn {
            margin-bottom: 10px;
        }
        .btn-default {


        }
        .btnchart{

            color:black;

        }
        .btnchart1{
            background-color: rgba(46, 46, 46, 0.74);
            border: 1px solid rgba(46, 46, 46, 0.14);
            color: white;

        }
        .btnchart1:hover {
            background-color: rgba(46, 46, 46, 0.69);
            color: white;
        }


        /*active 要在后面 否则会被hover覆盖*/


        .btnchart1:focus {
            background-color: rgba(46, 46, 46, 0.74);
            color: white;
        }


        .btnchart:active {
            background-color: rgba(46, 46, 46, 0.8);
            color: white;
        }
        .topinline{height: 60px;
        }
        .anchorBL{display:none;}
        .nav-tabs>li>a{
            font-size: 14px;
        }
    </style>

</head>
<body>
<div id="wrap-show"></div>
<!--网点-->
<div id="wrap" style="position: fixed; top: 0px; width: 100%; height: 100%; display: none;z-index:909;left:0px;">
    <div style="width: 800px;height: 32px;background: #636161;margin: 0 auto;margin-top: 100px;opacity: 1">
        <p style="font-size: 18px; color:#FFF; font-weight:600;line-height: 28px;margin-left: 15px">网点列表</p>
    </div>
    <div style="width: 800px;height: 480px;background: #FFF;margin: 0 auto;opacity: 1;box-shadow:0 4px 10px rgba(0,0,0,0.46);">
        <p style="font-size: 20px;font-weight: 700;padding: 10px">车辆序列号&nbsp;<span class="carNumber">{{carid}}</span></p>

        <div data-toggle="distpicker"  class="form-group form-inline">
            <select data-province="---- 选择省 ----" class="form-control selpr" style="margin-left: 20px;"></select>
            <select data-city="---- 选择市 ----" class="form-control selci" ></select>
            <select data-district="---- 选择区 ----" class="form-control selco" ></select>
            <button type="button" class="btn btn-default searchWD2" style="margin-top: 0px;" >筛选</button>
        </div>
        <div id="app" >
            <label  style="display: block;margin-top: 0px" >
                <ul class="nav nav-pills nav-stacked" style="overflow-y: scroll;-ms-overflow-y:scroll; height:300px;" id="app1">
                    <li  v-for="(item,index) in message"  style="font-size:15px; font-weight:400;" class="removeD"><a  @click="online(index,item.id,$event)"  class="hoverE">{{item.name}}({{item.address}})</a></li>
                </ul>
            </label>
        </div>

        <div style="float: right;margin-top: 10px;margin-right: 45px">
            <button type="button" class="btn btn-default  "  id="wrap-btn-on" style="width: 100px;background: #636161;color:#F3F3F3;display: inline-block; margin-right:10px;">确定</button>
            <!--  提示框-->
            <button type="button" class="btn btn-default " id="wrap-btn-off" style="width: 100px;display: inline-block;float: right">取消</button>
        </div>
    </div>
</div>
<!--删除-->
<div id="wrap-delet" style="position: fixed; top: 0px; width: 100%; height: 100%; display: none;z-index:909;left:0px;">
    <div style="width: 450px;height: 32px;background: #636161;margin: 0 auto;margin-top: 100px;opacity: 1">
        <p style="font-size: 18px; color:#FFF; font-weight:600;line-height: 28px;margin-left: 15px">删除车辆</p>
    </div>
    <div style="width: 450px;height: 150px;background: #FFF;margin: 0 auto;opacity: 1;box-shadow:0 4px 10px rgba(0,0,0,0.46);">
        <p style="font-size: 18px;font-weight: 500; font-family:'等线';padding: 10px">是否确认取消车辆&nbsp;<span class="carNumber2">{{carid}}</span>&nbsp;的分配</p>

        <div style="float: right;margin-top: 50px;margin-right: 25px">
            <button type="button" class="btn btn-default " id="222" style="width: 90px;background: #636161;color:#F3F3F3;display: inline-block">是</button>
            <button type="button" class="btn btn-default " id="111" style="width: 90px;background: #636161;color:#F3F3F3;display: inline-block">否</button>
        </div>
    </div>
</div>
<!-- Fixed navbar -->

<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="">
        <div class="navbar-header;">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar"
                    aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li  class="dropdown" id="name"><a class="dropdown-toggle" data-target="#" data-toggle="dropdown"  style="margin-left: 10%;     white-space: nowrap;"  id="navbarID" >{{navname}}</a>
                    <ul class="dropdown-menu" style="margin-left: 10%; white-space: nowrap;">
                        <li ><a href="#" @click="changeName(index)" v-for="(item,index) in message">{{item.name}}</a></li>
                    </ul>
                </li>
                <li style="margin-left: 20px;"><a href="#">地图展示</a></li>
                <li id="tabOption"><a href="index.html">车况列表</a></li>
                <li><a href="#">车辆管理</a></li>
                <li><a href="wangdian.html">网点管理</a></li>
                <li><a href="#">用户管理</a></li>
            </ul>
        </div><!--/.nav-collapse -->
    </div>
</nav>

<div class="content">
    <div class="container" style="width:97%; margin-top:-24px;">
        <div class="fixed-table-toolbar">
            <ul class="nav nav-tabs mytabs" id="mytabs">
                <li class="item active" id="tabletab1"><a href="#">正常属性电池</a></li>
                <li class="item" id="tabletab2"><a href="#" >异常属性电池</a></li>
                <li class="item" id="tabletab3"><a href="#" >退库属性电池</a></li>
            </ul>
        </div>
        <div id="toolbar">
            <div class="my-container">

                <div data-toggle="distpicker" id="table1"  class="form-inline topinline" style="margin-top: 5px;margin-bottom: -25px;">
                    <input type="text" class="form-control searchResult"  style="display: inline-block;width: 200px;"
                           placeholder="输入序列号" onblur="if(this.placeholder==''){this.placeholder='输入序列号'}"
                           onfocus="if(this.placeholder=='输入序列号'){this.placeholder=''}" >
                    <button type="button" class="btn btn-default searchCcu" style=";border-bottom-right-radius: 5px;border-top-right-radius: 5px;">
                        <span class="glyphicon glyphicon-search"></span></button>

                    <select  data-province="---- 选择省 ----" class="form-control selpr1" style="margin-left: 20px;"></select>
                    <select  data-city="---- 选择市 ----" class="form-control selci1" ></select>
                    <select  data-district="---- 选择区 ----" class="form-control selco1" ></select>

                    <select type="text" name="sectionName-s" id="sectionName-s" class="form-control wangdianse"
                            style="display: inline-block;width: 140px;margin-left: 2px;">
                        <option selected = "selected" value="0">---选择网点---</option>
                        <option value="100">无</option>
                    </select>

                    <select type="text" class="form-control guigese" id="guigese" style="display: inline-block;width: 140px;margin-left: 2px;">
                        <option selected = "selected" value="0">---选择规格---</option>

                    </select>
                    <button type="button" class="btn btn-default searchDQ" >查询</button>
                </div>
                <div data-toggle="distpicker" id="table2"  class="form-inline topinline" style="margin-top: 5px;margin-bottom: -25px;">
                    <input type="text" class="form-control searchResult2"  style="display: inline-block;width: 200px;"
                           placeholder="输入序列号" onblur="if(this.placeholder==''){this.placeholder='输入序列号'}"
                           onfocus="if(this.placeholder=='输入序列号'){this.placeholder=''}" >
                    <button type="button" class="btn btn-default searchCcu2" style=";border-bottom-right-radius: 5px;border-top-right-radius: 5px;">
                        <span class="glyphicon glyphicon-search"></span></button>

                    <select  data-province="---- 选择省 ----" class="form-control selpr2" style="margin-left: 20px;"></select>
                    <select  data-city="---- 选择市 ----" class="form-control selci2" ></select>
                    <select  data-district="---- 选择区 ----" class="form-control selco2" ></select>

                    <select type="text" name="sectionName-s" id="sectionName-s2" class="form-control wangdianse"
                            style="display: inline-block;width: 140px;margin-left: 2px;">
                        <option selected = "selected" value="0">---选择网点---</option>
                        <option value="100">无</option>
                    </select>

                    <select type="text" class="form-control guigese" id="guigese2" style="display: inline-block;width: 140px;margin-left: 2px;">
                        <option selected = "selected" value="0">---选择规格---</option>

                    </select>
                    <button type="button" class="btn btn-default searchDQ2" >查询</button>
                </div>
                <div data-toggle="distpicker" id="table3"  class="form-inline topinline" style="margin-top: 5px;margin-bottom: -25px;">
                    <input type="text" class="form-control searchResult3"  style="display: inline-block;width: 200px;"
                           placeholder="输入序列号" onblur="if(this.placeholder==''){this.placeholder='输入序列号'}"
                           onfocus="if(this.placeholder=='输入序列号'){this.placeholder=''}" >
                    <button type="button" class="btn btn-default searchCcu3" style=";border-bottom-right-radius: 5px;border-top-right-radius: 5px;">
                        <span class="glyphicon glyphicon-search"></span></button>

                    <select  data-province="---- 选择省 ----" class="form-control selpr3" style="margin-left: 20px;"></select>
                    <select  data-city="---- 选择市 ----" class="form-control selci3" ></select>
                    <select  data-district="---- 选择区 ----" class="form-control selco3" ></select>

                    <select type="text" name="sectionName-s" id="sectionName-s3" class="form-control wangdianse"
                            style="display: inline-block;width: 140px;margin-left: 2px;">
                        <option selected = "selected" value="0">---选择网点---</option>
                        <option value="100">无</option>
                    </select>

                    <select type="text" class="form-control guigese" id="guigese3" style="display: inline-block;width: 140px;margin-left: 2px;">
                        <option selected = "selected" value="0">---选择规格---</option>

                    </select>
                    <button type="button" class="btn btn-default searchDQ3" >查询</button>
                </div>
                <script type="text/javascript">
                    document.getElementById("table1").style.display="block";
                    document.getElementById("table2").style.display="none";
                    document.getElementById("table3").style.display="none";

                </script>
            </div>
        </div>
        <table id="table"
               data-search="false"
               data-show-refresh="true"
               data-show-toggle="false"
               data-show-columns="true"
               data-show-export="false"
               data-toolbar="#toolbar"
               data-minimum-count-columns="2"
               data-pagination="true"
               data-id-field="ccuSn"
               data-page-list="[10, 20, 50, 100, ALL]"
               data-show-footer="false"
               data-side-pagination="server"
               data-url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&productFilter=1&lifeStatusFilter=1"
               data-cache="true"
               data-response-handler="responseHandler">
        </table>

    </div>
</div>

</body>
<!--/jquery.文件-->
<!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
<script type="text/javascript" src="js/moment.js"></script>
<!-- 最新的 Bootstrap 核心 Moment文件 -->
<script type="text/javascript" src="js/bootstrap-datetimepicker.min.js"></script>
<!-- 最新的 Bootstrap 核心 DateTime文件 -->


<script>
    window.onload = function(){
        document.getElementById('name').disabled=true;
    };
    var nameindex=0;
    document.getElementById("tabOption").getElementsByTagName("a")[0].style.color="white";
    var $table = $('#table');
    var dataResult;
    var rr=1;
    var orFault;
    var  orOnLine;
    var timer=0;
    var cc=0;
    var  timer2=0;
    $("#tabletab1").on("click",function () {
        document.getElementById("table1").style.display="block";
        document.getElementById("table2").style.display="none";
        document.getElementById("table3").style.display="none";


    });
    $("#tabletab2").on("click",function () {
        document.getElementById("table1").style.display="none";
        document.getElementById("table2").style.display="block";
        document.getElementById("table3").style.display="none";


    });
    $("#tabletab3").on("click",function () {
        document.getElementById("table1").style.display="none";
        document.getElementById("table2").style.display="none";
        document.getElementById("table3").style.display="block";


    });
    var url;
    url ="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&productFilter=1&lifeStatusFilter=1";
    $(function(){

        $("#mytabs li").click(function() {
            $(this).siblings('li').removeClass('active');  // 删除其他兄弟元素的样式

            $(this).addClass('active');                            // 添加当前元素的样式
            $(".item").each(function(index, element) {
                if($(this).hasClass("active")){

                    if($(this).text()=="正常属性电池"){
                        url ="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&productFilter=1&lifeStatusFilter=1";

                    }else if($(this).text()=="异常属性电池"){
                        url ="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidProduct=true"
                    }else {
                        url ="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidDevice=true"
                    }
                    console.log(url)

                }
            });
            initTable();
        });

    });




    var  title=document.getElementById("title");
    var navid=document.getElementById("navbarID");

    function initTable() {
        $table.bootstrapTable("destroy");
        $table.bootstrapTable({
            height: getHeight(),
            url:url,
            method: 'GET',
            dataType: 'json',
            contentType: "application/json; charset=utf-8",
            cache: false,
            striped: true,                              //是否显示行间隔色
            onLoadError: function (data) {
                $table.bootstrapTable("refresh",{silent: true});
            },
            ajaxOptions: {
                headers: {
                    "firm":JSON.parse(sessionStorage.name)[sessionStorage.Vname].flag,
                    "Authorization":sessionStorage.token
                }
            },
            queryParams:     function queryParams(params) {
                var param = {
                    limit: this.pageSize, // 页面大小
                    page: this.pageNumber
                };
                return param;
            },
            minimumCountColumns: 2,
            pageNumber: 1,                       //初始化加载第一页，默认第一页
            pageSize: 100,                       //每页的记录行数（*）
            pageList: [10, 20, 100],        //可供选择的每页的行数（*）
            columns: [
                {
                    field: '',
                    title: '',
                    align: 'center',
                    valign: 'middle',
                    formatter: function (value, row, index) {
                        /*console.log((dataResult.pageSize * (dataResult.currPage - 1)) + index + 1)*/
                        return (dataResult.pageSize * (dataResult.currPage - 1)) + index + 1;
                    }
                },
                {
                    field: 'createTime',
                    title: '入库时间',
                    align: 'center',
                    valign: 'middle'

                },
                {
                    field: 'stand',
                    title: '规格',
                    align: 'center',
                    valign: 'middle',
                    formatter:standFormatter

                },



                {
                    field: 'ueSn',
                    title: '序列号',
                    align: 'center',
                    valign: 'middle'

                },
                {
                    field: 'orderStatusDesc',
                    title: '租赁',
                    align: 'center',
                    valign: 'middle',
                    formatter:orderFormatter

                },
                {
                    field: 'a',
                    title: '省',
                    align: 'center',
                    valign: 'middle',
                    formatter:function provinceFormatter(value,row,index) {
                        if(row.ebikeStoreEntity!=null){
                            if(row.ebikeStoreEntity.province==null||row.ebikeStoreEntity.province=="null"){inner=""}

                            else{
                                var inner=row.ebikeStoreEntity?row.ebikeStoreEntity.province:""}
                        }
                        else{inner=""}
                        var color='nowwrp'
                        return [

                            '<span class='+color+'>'+inner+'</span>'


                        ].join("")
                    }

                },
                {
                    field: 'b',
                    title: '市',
                    align: 'center',
                    valign: 'middle',
                    formatter:   function cityFormatter(value,row,index) {
                        if(row.ebikeStoreEntity!=null){
                            if(row.ebikeStoreEntity.city==null||row.ebikeStoreEntity.city=="null"){inner=""}

                            else{
                                var inner=row.ebikeStoreEntity?row.ebikeStoreEntity.city:""}
                        }
                        else{inner=""}
                        var color='nowwrp'
                        return [

                            '<span class='+color+'>'+inner+'</span>'


                        ].join("")
                    }

                },
                {
                    field: 'c',
                    title: '区/县',
                    align: 'center',
                    valign: 'middle',
                    formatter:    function countyFormatter(value,row,index) {
                        if(row.ebikeStoreEntity!=null){
                            if(row.ebikeStoreEntity.county==null||row.ebikeStoreEntity.county=="null"){inner=""}

                            else{
                                var inner=row.ebikeStoreEntity?row.ebikeStoreEntity.county:""}
                        }
                        else{inner=""}
                        var color='nowwrp'
                        return [

                            '<span class='+color+'>'+inner+'</span>'


                        ].join("")
                    }

                },
                {
                    field: 'branch',
                    title: '网点',
                    align: 'left',
                    valign: 'middle',
                    events: operateEvents, //11
                    formatter:   function storeFormatter(value,row,index) {
                        var color='nowwrp'
                        var name=row.ebikeStoreEntity?row.ebikeStoreEntity.name:""
                        return [
                            '<a class="like1" href="#">',
                            '<i class="glyphicon glyphicon-edit" title="选择所属网点">',
                            '</i>',
                            '</a>',
                            "&nbsp;&nbsp;&nbsp;",
                            '<span class='+color+'>'+name+'</span>'
                        ].join("")

                    }
                },
                {
                    field: 'd',
                    title: '编辑',
                    align: 'center',
                    valign: 'middle',
                    formatter:   function carFormatter(value,row,index) {



                        return [


                            '<a class="delcar1" href="#">',
                            '<i class="glyphicon glyphicon-remove" title="取消车辆分配">',
                            '</i>',
                            '</a>'


                        ].join("")

                    },
                    events: operateEvents

                }

            ]
        });
        // sometimes footer render error.
    }
    function orderFormatter(value,row,index) {
        var inner;
        if(row.orderStatusDesc==null||row.orderStatusDesc=="null"){
            inner=""
        }
        else{inner=row.orderStatusDesc}
        return [
            '<span>'+inner+'</span>'
        ].join("")
    }//租赁属性
    function jingxiaoFormatter(value,row,index) {
        if(row.dealerEntity!=null){
            if(row.dealerEntity.nickname==null){inner=""}

            else{
                var inner=row.dealerEntity?row.dealerEntity.nickname:""}
        }
        else{inner=""}
        var color='nowwrp'
        return [

            '<span class='+color+'>'+inner+'</span>'


        ].join("")
    }//分站
    function dailiFormatter(value,row,index) {
        if(row.agentEntity!=null){
            if(row.agentEntity.nickname==null){inner=""}

            else{
                var inner=row.agentEntity?row.agentEntity.nickname:""}
        }
        else{inner=""}
        var color='nowwrp'
        return [

            '<span class='+color+'>'+inner+'</span>'


        ].join("")
    }//代理商
    function standFormatter(value,row,index) {
        var inner;
        if(row.productEntity!=null && row.productEntity!="null"){
            if(row.productEntity.name!=null && row.productEntity.name!="null") {
                inner = row.productEntity.name;
            }
            else{
                inner="-";
            }
        }
        else{
            inner="-";
        }
        return [
            '<span>'+inner+'</span>'
        ].join('');
    }//规格
    function responseHandler(res) {
        dataResult = res;
        if (res) {
            return {
                "rows": res.list,
                "total": res.totalCount
            };
        } else {
            return {
                "rows": 10,
                "total": 20
            };
        }
        console.log(res);
    }
    function ajax(url,method,success,err) {
        $.ajax({
            url: url,
            method: method,
            contentType: "application/json; charset=utf-8",
            cache: false,
            beforeSend: function (xhr) {
                xhr.setRequestHeader("firm", sessionStorage.firmFlag);
                xhr.setRequestHeader("Authorization", sessionStorage.token);
            },
            success: success,
            error: err
        });
    }  //ajax 封装


    var DELETE_ARR=[]

    var operateEvents = {
        'click  .createdDiv':function (e,value,row,index) {
            console.log(row)
            createdWrap("wrap-show",row)
        },
        'click .like1':function (e,value,row,index) {
            rowsn=row.ueSn;
            ueId=row.id;
            $(".carNumber").html(row.ueSn);
            $(".selpr").val("");
            $(".selci").val("");
            $(".selco").val("");
            $("#wrap").show()
        },
        'click .delcar1':function (e,value,row,index) {
            $(".carNumber2").html(row.ueSn);
            $("#wrap-delet").show()
        },
        'click .devide1':function (e,value,row,index) {

            $(".carNumber3").html(row.ueSn);
            $("#devide").show()

        },
    };

    $.ajax({
        url: "http://cjl3.rokyinfo.net:7200/api-user/v3.1/ebikestores?types=2,3,5,6,20,40,60&sort=code,asc&limit=900&page=1",
        method: "get",
        contentType: "application/json; charset=utf-8",
        cache: false,
        beforeSend: function (xhr) {
            /* Authorization header */
            xhr.setRequestHeader("firm", sessionStorage.flag);
            xhr.setRequestHeader("Authorization", sessionStorage.token);
        },
        success: function (data) {
            app = new Vue({
                el: '#app',
                data: {message: data.list
                },
                methods:{
                    online:function (index,id,ev) {
                        for(var i=0;i<document.getElementsByClassName("hoverE").length;i++){
                            document.getElementsByClassName("hoverE")[i].style.background="white";
                            document.getElementsByClassName("hoverE")[i].style.color="#337ab7"
                        }
                        console.log(id);
                        id1=id;
                        ev.target.style.background="#d1c9c9";
                        ev.target.style.color="white";
                        console.log(id1+":"+ueId)
                    }
                }
            })
        },
        error: function (jqXHR, textStatus, errorThrown) {
            console.log("失败")
            console.log(jqXHR);
        }
    });	 //list
    $("#wrap-btn-on").on("click",function () {
        console.log("cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues/update_storeId?storeId="+id1+"&ueId="+ueId);
        console.log("已发送")
        $.ajax({
            url: "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues/update_storeId?storeId="+id1+"&ueId="+ueId,
            method: "put",
            contentType: "application/json; charset=utf-8",
            cache: false,
            beforeSend: function (xhr) {
                /* Authorization header */
                xhr.setRequestHeader("firm", sessionStorage.flag);
                xhr.setRequestHeader("Authorization", sessionStorage.token);
            },success:function (data) {
                console.log("成功")
                $table.bootstrapTable("refresh",{silent: true});
                $("#wrap").hide()
            },
            error:function (err) {
                console.log(err)
            }})
    });
    $("#wrap-btn-off").on("click",function () {
        $("#wrap").hide()
    });
    $(".searchDQ").on("click",function () {
        var url;
        var a=$(".selpr1").val();
        console.log(a);
        var b=$(".selci1").val();
        var c=$(".selco1").val();

        var myselect=document.getElementById("sectionName-s");
        var index=myselect.selectedIndex ;
        idstore=myselect.options[index].value;
        console.log(idstore);
        var myselect2=document.getElementById("guigese");
        var index2=myselect2.selectedIndex ;
        idpro=myselect2.options[index2].value;
        console.log(idpro);
        if(idstore=="100") {
            if (a == "" && idstore == "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&productFilter=1&lifeStatusFilter=1"
            } else if (a == "" && idstore == "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&productFilter=1&lifeStatusFilter=1&productId=" + idpro
            } else if (a == "" && idstore != "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&productFilter=1&lifeStatusFilter=1&productId=" + idpro + "&storeId=" + idstore
            } else if (a == "" && idstore != "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&productFilter=1&lifeStatusFilter=1&storeId=" + idstore
            } else if (a != "" && b == "" && c == "" && idstore == "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&productFilter=1&lifeStatusFilter=1&province=" + a
            } else if (a != "" && b != "" && c == "" && idstore == "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&productFilter=1&lifeStatusFilter=1&province=" + a + "&city=" + b
            } else if (a != "" && b != "" && c != "" && idstore == "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&productFilter=1&lifeStatusFilter=1&province=" + a + "&city=" + b + "&county=" + c
            } else if (a != "" && b != "" && c != "" && idstore != "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&productFilter=1&lifeStatusFilter=1&province=" + a + "&city=" + b + "&county=" + c + "&storeId=" + idstore
            } else if (a != "" && b != "" && c != "" && idstore != "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&productFilter=1&lifeStatusFilter=1&province=" + a + "&city=" + b + "&county=" + c + "&storeId=" + idstore + "&productId=" + idpro
            } else if (a != "" && b != "" && c != "" && idstore == "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&productFilter=1&lifeStatusFilter=1&province=" + a + "&city=" + b + "&county=" + c + "&productId=" + idpro
            } else if (a != "" && b == "" && c == "" && idstore != "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&productFilter=1&lifeStatusFilter=1&province=" + a + "&storeId=" + idstore
            } else if (a != "" && b == "" && c == "" && idstore == "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&productFilter=1&lifeStatusFilter=1&province=" + a + "&productId=" + idpro
            } else if (a != "" && b == "" && c == "" && idstore != "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&productFilter=1&lifeStatusFilter=1&province=" + a + "&productId=" + idpro + "&storeId=" + idstore
            } else if (a != "" && b != "" && c == "" && idstore != "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&productFilter=1&lifeStatusFilter=1&province=" + a + "&city=" + b + "&storeId=" + idstore
            } else if (a != "" && b != "" && c == "" && idstore == "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&productFilter=1&lifeStatusFilter=1&province=" + a + "&city=" + b + "&productId=" + idpro
            } else if (a != "" && b != "" && c == "" && idstore != "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&productFilter=1&lifeStatusFilter=1&province=" + a + "&city=" + b + "&productId=" + idpro + "&storeId=" + idstore
            } else if (a != "" && b != "" && c != "" && idstore != "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&productFilter=1&lifeStatusFilter=1&province=" + a + "&city=" + b + "&county=" + c + "&storeId=" + idstore
            } else if (a != "" && b != "" && c != "" && idstore == "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&productFilter=1&lifeStatusFilter=1&province=" + a + "&city=" + b + "&county=" + c + "&productId=" + idpro
            } else if (a != "" && b != "" && c != "" && idstore != "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&productFilter=1&lifeStatusFilter=1&province=" + a + "&city=" + b + "&county=" + c + "&productId=" + idpro + "&storeId=" + idstore
            }
            url=url.replace('&storeId='+ idstore,'')+"&invalidStore=true";
        }else {
            if (a == "" && idstore == "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&productFilter=1&lifeStatusFilter=1"
            } else if (a == "" && idstore == "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&productFilter=1&lifeStatusFilter=1&productId=" + idpro
            } else if (a == "" && idstore != "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&productFilter=1&lifeStatusFilter=1&productId=" + idpro + "&storeId=" + idstore
            } else if (a == "" && idstore != "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&productFilter=1&lifeStatusFilter=1&storeId=" + idstore
            } else if (a != "" && b == "" && c == "" && idstore == "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&productFilter=1&lifeStatusFilter=1&province=" + a
            } else if (a != "" && b != "" && c == "" && idstore == "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&productFilter=1&lifeStatusFilter=1&province=" + a + "&city=" + b
            } else if (a != "" && b != "" && c != "" && idstore == "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&productFilter=1&lifeStatusFilter=1&province=" + a + "&city=" + b + "&county=" + c
            } else if (a != "" && b != "" && c != "" && idstore != "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&productFilter=1&lifeStatusFilter=1&province=" + a + "&city=" + b + "&county=" + c + "&storeId=" + idstore
            } else if (a != "" && b != "" && c != "" && idstore != "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&productFilter=1&lifeStatusFilter=1&province=" + a + "&city=" + b + "&county=" + c + "&storeId=" + idstore + "&productId=" + idpro
            } else if (a != "" && b != "" && c != "" && idstore == "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&productFilter=1&lifeStatusFilter=1&province=" + a + "&city=" + b + "&county=" + c + "&productId=" + idpro
            } else if (a != "" && b == "" && c == "" && idstore != "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&productFilter=1&lifeStatusFilter=1&province=" + a + "&storeId=" + idstore
            } else if (a != "" && b == "" && c == "" && idstore == "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&productFilter=1&lifeStatusFilter=1&province=" + a + "&productId=" + idpro
            } else if (a != "" && b == "" && c == "" && idstore != "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&productFilter=1&lifeStatusFilter=1&province=" + a + "&productId=" + idpro + "&storeId=" + idstore
            } else if (a != "" && b != "" && c == "" && idstore != "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&productFilter=1&lifeStatusFilter=1&province=" + a + "&city=" + b + "&storeId=" + idstore
            } else if (a != "" && b != "" && c == "" && idstore == "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&productFilter=1&lifeStatusFilter=1&province=" + a + "&city=" + b + "&productId=" + idpro
            } else if (a != "" && b != "" && c == "" && idstore != "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&productFilter=1&lifeStatusFilter=1&province=" + a + "&city=" + b + "&productId=" + idpro + "&storeId=" + idstore
            } else if (a != "" && b != "" && c != "" && idstore != "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&productFilter=1&lifeStatusFilter=1&province=" + a + "&city=" + b + "&county=" + c + "&storeId=" + idstore
            } else if (a != "" && b != "" && c != "" && idstore == "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&productFilter=1&lifeStatusFilter=1&province=" + a + "&city=" + b + "&county=" + c + "&productId=" + idpro
            } else if (a != "" && b != "" && c != "" && idstore != "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&productFilter=1&lifeStatusFilter=1&province=" + a + "&city=" + b + "&county=" + c + "&productId=" + idpro + "&storeId=" + idstore
            }
        }

        $.ajax({
            url: url,
            method: "get",
            contentType: "application/json; charset=utf-8",
            cache: false,
            beforeSend: function (xhr) {
                /* Authorization header */
                xhr.setRequestHeader("firm", sessionStorage.firmFlag);
                xhr.setRequestHeader("Authorization", sessionStorage.token);
            },
            success: function (data) {

                $("#table").bootstrapTable('refresh', {'url': url});

            },
            error: function (jqXHR, textStatus, errorThrown) {
                console.log("失败");
                console.log(jqXHR);
            }
        });

    });
    $(".searchDQ2").on("click",function () {
        var url;
        var a=$(".selpr2").val();
        console.log(a);
        var b=$(".selci2").val();
        var c=$(".selco2").val();

        var myselect=document.getElementById("sectionName-s2");
        var index=myselect.selectedIndex ;
        idstore=myselect.options[index].value;
        console.log(idstore);
        var myselect2=document.getElementById("guigese2");
        var index2=myselect2.selectedIndex ;
        idpro=myselect2.options[index2].value;
        console.log(idpro);
        if(idstore=="100") {
            if (a == "" && idstore == "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidProduct=true"
            } else if (a == "" && idstore == "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidProduct=true&productId=" + idpro
            } else if (a == "" && idstore != "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidProduct=true&productId=" + idpro + "&storeId=" + idstore
            } else if (a == "" && idstore != "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidProduct=true&storeId=" + idstore
            } else if (a != "" && b == "" && c == "" && idstore == "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidProduct=true&province=" + a
            } else if (a != "" && b != "" && c == "" && idstore == "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidProduct=true&province=" + a + "&city=" + b
            } else if (a != "" && b != "" && c != "" && idstore == "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidProduct=true&province=" + a + "&city=" + b + "&county=" + c
            } else if (a != "" && b != "" && c != "" && idstore != "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidProduct=true&province=" + a + "&city=" + b + "&county=" + c + "&storeId=" + idstore
            } else if (a != "" && b != "" && c != "" && idstore != "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidProduct=true&province=" + a + "&city=" + b + "&county=" + c + "&storeId=" + idstore + "&productId=" + idpro
            } else if (a != "" && b != "" && c != "" && idstore == "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidProduct=true&province=" + a + "&city=" + b + "&county=" + c + "&productId=" + idpro
            } else if (a != "" && b == "" && c == "" && idstore != "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidProduct=true&province=" + a + "&storeId=" + idstore
            } else if (a != "" && b == "" && c == "" && idstore == "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidProduct=true&province=" + a + "&productId=" + idpro
            } else if (a != "" && b == "" && c == "" && idstore != "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidProduct=true&province=" + a + "&productId=" + idpro + "&storeId=" + idstore
            } else if (a != "" && b != "" && c == "" && idstore != "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidProduct=true&province=" + a + "&city=" + b + "&storeId=" + idstore
                console.log(url);
            } else if (a != "" && b != "" && c == "" && idstore == "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidProduct=true&province=" + a + "&city=" + b + "&productId=" + idpro
            } else if (a != "" && b != "" && c == "" && idstore != "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidProduct=true&province=" + a + "&city=" + b + "&productId=" + idpro + "&storeId=" + idstore
            } else if (a != "" && b != "" && c != "" && idstore != "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidProduct=true&province=" + a + "&city=" + b + "&county=" + c + "&storeId=" + idstore
                console.log(url);
            } else if (a != "" && b != "" && c != "" && idstore == "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidProduct=true&province=" + a + "&city=" + b + "&county=" + c + "&productId=" + idpro
            } else if (a != "" && b != "" && c != "" && idstore != "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidProduct=true&province=" + a + "&city=" + b + "&county=" + c + "&productId=" + idpro + "&storeId=" + idstore
            }
            url=url.replace('&storeId='+ idstore,'')+"&invalidStore=true";
        }else {
            if (a == "" && idstore == "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidProduct=true"
            } else if (a == "" && idstore == "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidProduct=true&productId=" + idpro
            } else if (a == "" && idstore != "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidProduct=true&productId=" + idpro + "&storeId=" + idstore
            } else if (a == "" && idstore != "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidProduct=true&storeId=" + idstore
            } else if (a != "" && b == "" && c == "" && idstore == "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidProduct=true&province=" + a
            } else if (a != "" && b != "" && c == "" && idstore == "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidProduct=true&province=" + a + "&city=" + b
            } else if (a != "" && b != "" && c != "" && idstore == "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidProduct=true&province=" + a + "&city=" + b + "&county=" + c
            } else if (a != "" && b != "" && c != "" && idstore != "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidProduct=true&province=" + a + "&city=" + b + "&county=" + c + "&storeId=" + idstore
            } else if (a != "" && b != "" && c != "" && idstore != "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidProduct=true&province=" + a + "&city=" + b + "&county=" + c + "&storeId=" + idstore + "&productId=" + idpro
            } else if (a != "" && b != "" && c != "" && idstore == "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidProduct=true&province=" + a + "&city=" + b + "&county=" + c + "&productId=" + idpro
            } else if (a != "" && b == "" && c == "" && idstore != "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidProduct=true&province=" + a + "&storeId=" + idstore
            } else if (a != "" && b == "" && c == "" && idstore == "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidProduct=true&province=" + a + "&productId=" + idpro
            } else if (a != "" && b == "" && c == "" && idstore != "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidProduct=true&province=" + a + "&productId=" + idpro + "&storeId=" + idstore
            } else if (a != "" && b != "" && c == "" && idstore != "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidProduct=true&province=" + a + "&city=" + b + "&storeId=" + idstore
                console.log(url);
            } else if (a != "" && b != "" && c == "" && idstore == "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidProduct=true&province=" + a + "&city=" + b + "&productId=" + idpro
            } else if (a != "" && b != "" && c == "" && idstore != "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidProduct=true&province=" + a + "&city=" + b + "&productId=" + idpro + "&storeId=" + idstore
            } else if (a != "" && b != "" && c != "" && idstore != "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidProduct=true&province=" + a + "&city=" + b + "&county=" + c + "&storeId=" + idstore
                console.log(url);
            } else if (a != "" && b != "" && c != "" && idstore == "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidProduct=true&province=" + a + "&city=" + b + "&county=" + c + "&productId=" + idpro
            } else if (a != "" && b != "" && c != "" && idstore != "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidProduct=true&province=" + a + "&city=" + b + "&county=" + c + "&productId=" + idpro + "&storeId=" + idstore
            }
        }
        $.ajax({
            url: url,
            method: "get",
            contentType: "application/json; charset=utf-8",
            cache: false,
            beforeSend: function (xhr) {
                /* Authorization header */
                xhr.setRequestHeader("firm", sessionStorage.firmFlag);
                xhr.setRequestHeader("Authorization", sessionStorage.token);
            },
            success: function (data) {

                $("#table").bootstrapTable('refresh', {'url': url});

            },
            error: function (jqXHR, textStatus, errorThrown) {
                console.log("失败");
                console.log(jqXHR);
            }
        });

    });
    $(".searchDQ3").on("click",function () {
        var url;
        var a=$(".selpr3").val();
        console.log(a);
        var b=$(".selci3").val();
        var c=$(".selco3").val();

        var myselect=document.getElementById("sectionName-s3");
        var index=myselect.selectedIndex ;
        idstore=myselect.options[index].value;
        console.log(idstore);
        var myselect2=document.getElementById("guigese3");
        var index2=myselect2.selectedIndex ;
        idpro=myselect2.options[index2].value;
        console.log(idpro);
        if(idstore=="100") {
            if (a == "" && idstore == "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidDevice=true"
            } else if (a == "" && idstore == "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidDevice=true&productId=" + idpro
            } else if (a == "" && idstore != "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidDevice=true&productId=" + idpro + "&storeId=" + idstore
            } else if (a == "" && idstore != "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidDevice=true&storeId=" + idstore
            } else if (a != "" && b == "" && c == "" && idstore == "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidDevice=true&province=" + a
            } else if (a != "" && b != "" && c == "" && idstore == "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidDevice=true&province=" + a + "&city=" + b
            } else if (a != "" && b != "" && c != "" && idstore == "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidDevice=true&province=" + a + "&city=" + b + "&county=" + c
            } else if (a != "" && b != "" && c != "" && idstore != "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidDevice=true&province=" + a + "&city=" + b + "&county=" + c + "&storeId=" + idstore
            } else if (a != "" && b != "" && c != "" && idstore != "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidDevice=true&province=" + a + "&city=" + b + "&county=" + c + "&storeId=" + idstore + "&productId=" + idpro
            } else if (a != "" && b != "" && c != "" && idstore == "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidDevice=true&province=" + a + "&city=" + b + "&county=" + c + "&productId=" + idpro
            } else if (a != "" && b == "" && c == "" && idstore != "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidDevice=true&province=" + a + "&storeId=" + idstore
            } else if (a != "" && b == "" && c == "" && idstore == "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidDevice=true&province=" + a + "&productId=" + idpro
            } else if (a != "" && b == "" && c == "" && idstore != "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidDevice=true&province=" + a + "&productId=" + idpro + "&storeId=" + idstore
            } else if (a != "" && b != "" && c == "" && idstore != "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidDevice=true&province=" + a + "&city=" + b + "&storeId=" + idstore
            } else if (a != "" && b != "" && c == "" && idstore == "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidDevice=true&province=" + a + "&city=" + b + "&productId=" + idpro
            } else if (a != "" && b != "" && c == "" && idstore != "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidDevice=true&province=" + a + "&city=" + b + "&productId=" + idpro + "&storeId=" + idstore
            } else if (a != "" && b != "" && c != "" && idstore != "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidDevice=true&province=" + a + "&city=" + b + "&county=" + c + "&storeId=" + idstore
            } else if (a != "" && b != "" && c != "" && idstore == "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidDevice=true&province=" + a + "&city=" + b + "&county=" + c + "&productId=" + idpro
            } else if (a != "" && b != "" && c != "" && idstore != "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidDevice=true&province=" + a + "&city=" + b + "&county=" + c + "&productId=" + idpro + "&storeId=" + idstore
            }
            url=url.replace('&storeId='+ idstore,'')+"&invalidStore=true";
        }else {
            if (a == "" && idstore == "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidDevice=true"
            } else if (a == "" && idstore == "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidDevice=true&productId=" + idpro
            } else if (a == "" && idstore != "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidDevice=true&productId=" + idpro + "&storeId=" + idstore
            } else if (a == "" && idstore != "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidDevice=true&storeId=" + idstore
            } else if (a != "" && b == "" && c == "" && idstore == "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidDevice=true&province=" + a
            } else if (a != "" && b != "" && c == "" && idstore == "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidDevice=true&province=" + a + "&city=" + b
            } else if (a != "" && b != "" && c != "" && idstore == "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidDevice=true&province=" + a + "&city=" + b + "&county=" + c
            } else if (a != "" && b != "" && c != "" && idstore != "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidDevice=true&province=" + a + "&city=" + b + "&county=" + c + "&storeId=" + idstore
            } else if (a != "" && b != "" && c != "" && idstore != "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidDevice=true&province=" + a + "&city=" + b + "&county=" + c + "&storeId=" + idstore + "&productId=" + idpro
            } else if (a != "" && b != "" && c != "" && idstore == "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidDevice=true&province=" + a + "&city=" + b + "&county=" + c + "&productId=" + idpro
            } else if (a != "" && b == "" && c == "" && idstore != "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidDevice=true&province=" + a + "&storeId=" + idstore
            } else if (a != "" && b == "" && c == "" && idstore == "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidDevice=true&province=" + a + "&productId=" + idpro
            } else if (a != "" && b == "" && c == "" && idstore != "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidDevice=true&province=" + a + "&productId=" + idpro + "&storeId=" + idstore
            } else if (a != "" && b != "" && c == "" && idstore != "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidDevice=true&province=" + a + "&city=" + b + "&storeId=" + idstore
            } else if (a != "" && b != "" && c == "" && idstore == "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidDevice=true&province=" + a + "&city=" + b + "&productId=" + idpro
            } else if (a != "" && b != "" && c == "" && idstore != "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidDevice=true&province=" + a + "&city=" + b + "&productId=" + idpro + "&storeId=" + idstore
            } else if (a != "" && b != "" && c != "" && idstore != "0" && idpro == "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidDevice=true&province=" + a + "&city=" + b + "&county=" + c + "&storeId=" + idstore
            } else if (a != "" && b != "" && c != "" && idstore == "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidDevice=true&province=" + a + "&city=" + b + "&county=" + c + "&productId=" + idpro
            } else if (a != "" && b != "" && c != "" && idstore != "0" && idpro != "0") {
                url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidDevice=true&province=" + a + "&city=" + b + "&county=" + c + "&productId=" + idpro + "&storeId=" + idstore
            }
        }
        $.ajax({
            url: url,
            method: "get",
            contentType: "application/json; charset=utf-8",
            cache: false,
            beforeSend: function (xhr) {
                /* Authorization header */
                xhr.setRequestHeader("firm", sessionStorage.firmFlag);
                xhr.setRequestHeader("Authorization", sessionStorage.token);
            },
            success: function (data) {

                $("#table").bootstrapTable('refresh', {'url': url});

            },
            error: function (jqXHR, textStatus, errorThrown) {
                console.log("失败");
                console.log(jqXHR);
            }
        });

    });
    $(".searchWD").on("click",function () {
        var myselect=document.getElementById("sectionName-s");
        var index=myselect.selectedIndex ;
        idstore=myselect.options[index].value;
        $.ajax({
            url: "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&productFilter=1&lifeStatusFilter=1&storeId="+idstore,
            method: "get",
            contentType: "application/json; charset=utf-8",
            cache: false,
            beforeSend: function (xhr) {
                /* Authorization header */
                xhr.setRequestHeader("firm", sessionStorage.flag);
                xhr.setRequestHeader("Authorization", sessionStorage.token);
            },
            success: function (data) {
                $("#table").bootstrapTable('refresh', {'url': "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&productFilter=1&lifeStatusFilter=1&storeId="+idstore});
                console.log("http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&productFilter=1&lifeStatusFilter=1&storeId="+idstore)
            },
            error: function (jqXHR, textStatus, errorThrown) {
                console.log("失败")
                console.log(jqXHR);
            }
        });
    });
    $(".searchWD2").on("click",function () {      //wd
        var a=$(".selpr").val()?"&province="+$(".selpr").val():""
        var b=$(".selci").val()?"&city="+$(".selci").val():""
        var c=$(".selco").val()?"&county="+$(".selco").val():""
        console.log("http://cjl3.rokyinfo.net:7200/api-user/v3.1/ebikestores?types=2,3,5,6,20,40,60"+a+b+c)
        $.ajax({
            url: "http://cjl3.rokyinfo.net:7200/api-user/v3.1/ebikestores?types=2,3,5,6,20,40,60"+a+b+c+"&limit=900&page=1",
            method: "get",
            contentType: "application/json; charset=utf-8",
            cache: false,
            beforeSend: function (xhr) {
                xhr.setRequestHeader("firm", sessionStorage.firmFlag);
                xhr.setRequestHeader("Authorization", sessionStorage.token);
            },
            success: function (data) {
                console.log(data)
                $(".removeD").remove()
                var d=document.getElementById("app1")
                for(var  i=0;i<data.list.length;i++){
                    var li=document.createElement("li")
                    var a=document.createElement("a")
                    a.className="hoverE"
                    li.className="removeD"
                    li.index=data.list[i].id
                    li.appendChild(a)
                    d.appendChild(li)
                    li.onclick=function (ev) {
                        for(var i=0;i<document.getElementsByClassName("hoverE").length;i++){
                            document.getElementsByClassName("hoverE")[i].style.background="white"
                        }
                        ev.target.style.background="#d1c9c9"
                        id1=this.index
                    }
                    a.innerHTML=data.list[i].name+"("+data.list[i].address+")"
                }

            },
            error: function (jqXHR, textStatus, errorThrown) {
                console.log("失败")
                console.log(jqXHR);
            }
        });

    });

    $(".searchGG").on("click",function () {
        var myselect=document.getElementById("guigese");
        var index=myselect.selectedIndex ;
        idpro=myselect.options[index].value;
        $.ajax({
            url: "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&productFilter=1&lifeStatusFilter=1&productId="+idpro,
            method: "get",
            contentType: "application/json; charset=utf-8",
            cache: false,
            beforeSend: function (xhr) {
                /* Authorization header */
                xhr.setRequestHeader("firm", sessionStorage.flag);
                xhr.setRequestHeader("Authorization", sessionStorage.token);
            },
            success: function (data) {
                $("#table").bootstrapTable('refresh', {'url': "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&productFilter=1&lifeStatusFilter=1&productId="+idpro});
                console.log("http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&productFilter=1&lifeStatusFilter=1&productId="+idpro)
            },
            error: function (jqXHR, textStatus, errorThrown) {
                console.log("失败")
                console.log(jqXHR);
            }
        });
    });
    function deteleOdd(arr) {
        var odd=[]
        function QC(arr) {
            var s = [];
//遍历数组
            for(var i = 0;i<arr.length;i++){
                if(s.indexOf(arr[i]) == -1){  //判断在s数组中是否存在，不存在则push到s数组中
                    s.push(arr[i]);
                }
            }
            return s
        }
        var  s=QC(arr)

        for (var i = 0; i < s.length; i++) {
            var add=[]
            for (var k = 0; k < arr.length; k++) {
                if(s[i]==arr[k]){
                    add.push(arr[k])
                }

            }
            if(add.length%2!==0){
                odd.push(s[i])
            }
        }

        return odd
    }
    function getHeight() {
        return $(window).height() - $('h1').outerHeight(true) - $('nav').outerHeight(true) -42;
    }
    initTable();
    /*timer=setInterval(function () {
         $table.bootstrapTable("refresh",{silent: true})
        },50000)*/
    $(window).resize(function () {
        $table.bootstrapTable('resetView', {
            height: getHeight()
        });
    });






    function  createdWrap(id,row) {
        var comurl=0;
        function ahhhh(ev) {
            for(var i=0;i<document.getElementsByClassName("navli").length;i++){
                document.getElementsByClassName("navli")[i].style.background="white"
            }
            ev.target.parentNode.style.background="#ccc"
            var ccusn= ev.target.getAttribute("ccusn");
            var xid= ev.target.getAttribute("xid")
            var  url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues/update-rental-flag?ccuSn="+ccusn+"&rentalFlag=1&dealerId="+xid
            console.log(url)
            comurl=url

        }
        document.getElementById(id).innerHTML=""
        var arr=[]
        for (var i=0;i<AjaxnickNameA.length;i++){
            arr.push(`<li role="presentation" class="navli" style=""  ><a   xid="${AjaxnickNameA[i]["id"]}"  ccusn="${row.ueSn}">${AjaxnickNameA[i]["nickname"]}</a></li>`)
        }
        var  com=`<div  style="position: fixed; top: 0px; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); display: block;z-index:909;left:0px;">
                <div style="width: 700px;height: 32px;background: #636161;margin: 0 auto;margin-top: 100px;opacity: 1">
                <p style="font-size: 18px; color:#FFF; font-weight:600;line-height: 28px;margin-left: 15px">分配列表</p>
                </div>
                <div style="width: 700px;height: 420px;background: #FFF;margin: 0 auto;opacity: 1">
                <p style="font-size: 20px;font-weight: 700;padding: 10px">车辆序列号&nbsp;<span class="carNumber">${row.ueSn}</span></p>
                <div id="app" >
                <label  style="display: block;margin-top: 0px" >
                <ul class="nav nav-pills nav-stacked nav-pills-stacked-example" style="overflow-y: scroll;-ms-overflow-y:scroll; height:300px;" >
                ${arr.join("")}
            </ul>
            </label>
            </div>
            <div style="float: right;margin-top: 0px;margin-right: 45px">
                <button type="button" class="btn btn-default  "  id="wrap-on" style="width: 100px;background: #636161;color:#F3F3F3;display: inline-block; margin-right:10px;">确定</button>
                <button type="button" class="btn btn-default " id="wrap-off" style="width: 100px;display: inline-block;float: right">取消</button>
                </div>
                </div>
                </div> `
        document.getElementById(id).innerHTML=com
        $(".navli").on("click",ahhhh)
        $("#wrap-on").on("click",function () {
            ajax(comurl,"put",function (data) {
                console.log("成功")
                $table.bootstrapTable("refresh",{silent: true})
                document.getElementById(id).innerHTML=""
            })
        })
        $("#wrap-off").on("click",function () {
            document.getElementById(id).innerHTML=""
        })
    }  //模板
    $(function(){
        getMissiveType();
        getMissiveType2()
    });
    function getMissiveType(){
        $.ajax({
                url: "http://cjl3.rokyinfo.net:7200/api-user/v3.1/ebikestores?sort=code,asc",
                method: "get",
                contentType: "application/json; charset=utf-8",
                processData:false,
                cache: false,
                beforeSend: function (xhr) {
                    xhr.setRequestHeader("firm", sessionStorage.firmFlag);
                    xhr.setRequestHeader("Authorization", sessionStorage.token);
                },
                success:function(data){
                    var len=data.list.length;
                    $('#sectionName-s').attr("length",'0');
                    for(i=0;i<len;i++){
                        $("#sectionName-s").append($('<option value='+data.list[i].id+'>'+data.list[i].name+'</option>'));
                        $("#sectionName-s2").append($('<option value='+data.list[i].id+'>'+data.list[i].name+'</option>'));
                        $("#sectionName-s3").append($('<option value='+data.list[i].id+'>'+data.list[i].name+'</option>'));
                    }
                }
            }
        );
    }
    function getMissiveType2(){
        $.ajax({
                url: "http://cjl3.rokyinfo.net:7200/api-order/v3.1/specifications?sort=id,asc&categoryIds=3",
                method: "get",
                contentType: "application/json; charset=utf-8",
                processData:false,
                cache: false,
                beforeSend: function (xhr) {
                    xhr.setRequestHeader("firm", sessionStorage.firmFlag);
                    xhr.setRequestHeader("Authorization", sessionStorage.token);
                },
                success:function(data){
                    var len=data.list.length;
                    $('#guigese').attr("length",'0');
                    for(i=0;i<len;i++){
                        $("#guigese").append($('<option value='+data.list[i].id+'>'+data.list[i].name+'</option>'));
                        $("#guigese2").append($('<option value='+data.list[i].id+'>'+data.list[i].name+'</option>'));
                        $("#guigese3").append($('<option value='+data.list[i].id+'>'+data.list[i].name+'</option>'));
                    }
                }
            }
        );
    }








    /* $("#btn-addcar").on("click",function () {

            console.log("已发送")
            $.ajax({
                url: "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues/update-rental-flag?ccuSn="+$(".xulie").val()+"&rentalFlag=1",
                method: "put",
                contentType: "application/json; charset=utf-8",
                cache: false,
                beforeSend: function (xhr) {
                    Authorization header
                    xhr.setRequestHeader("firm", sessionStorage.flag);
                    xhr.setRequestHeader("Authorization", sessionStorage.token);
                },success:function (data) {
                  console.log("cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues/update-rental-flag?ccuSn="+$(".xulie").val()+"&rentalFlag=1")
                    $table.bootstrapTable("refresh",{silent: true})

                },
                error:function (err) {
                    if(err.status==403) alert("您没有权限执行此操作")
               console.log(err)
                }})
        }) */

    $("#222").on("click",function () {
        var carsn=$(".carNumber2").html();

        $.ajax({
            url: "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues/update-rental-flag?ccuSn="+carsn+"&rentalFlag=0",
            method: "put",
            contentType: "application/json; charset=utf-8",
            cache: false,
            beforeSend: function (xhr) {
                xhr.setRequestHeader("firm", sessionStorage.flag);
                xhr.setRequestHeader("Authorization", sessionStorage.token);
            },success:function (data) {
                alert("取消成功");
                $table.bootstrapTable("refresh",{silent: true});
                $("#wrap-delet").hide()
            },
            error:function (err) {
                if(err.status==403) alert("您没有权限执行此操作")
                console.log(err)
            }})
    });
    $("#111").on("click",function () {
        $("#wrap-delet").hide()
    });
    $(".searchCcu").on("click",function () {
        console.log("http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&productFilter=1&lifeStatusFilter=1&ccuSn="+$(".searchResult").val())
        $.ajax({
            url: "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&productFilter=1&lifeStatusFilter=1&ccuSn="+$(".searchResult").val(),
            method: "get",
            contentType: "application/json; charset=utf-8",
            cache: false,
            beforeSend: function (xhr) {
                /* Authorization header */
                xhr.setRequestHeader("firm", sessionStorage.flag);
                xhr.setRequestHeader("Authorization", sessionStorage.token);
            },
            success: function (data) {
                $("#table").bootstrapTable('refresh',{'url':"http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&productFilter=1&lifeStatusFilter=1&ccuSn="+$(".searchResult").val(),pageNumber:1,pageSize:20});
            },
            error: function (jqXHR, textStatus, errorThrown) {
                console.log("失败")
                console.log(jqXHR);
            }
        });


    });
    $(".searchCcu2").on("click",function () {
        $.ajax({
            url: "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidProduct=true&ccuSn="+$(".searchResult2").val(),
            method: "get",
            contentType: "application/json; charset=utf-8",
            cache: false,
            beforeSend: function (xhr) {
                /* Authorization header */
                xhr.setRequestHeader("firm", sessionStorage.flag);
                xhr.setRequestHeader("Authorization", sessionStorage.token);
            },
            success: function (data) {
                $("#table").bootstrapTable('refresh',{'url':"http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidProduct=true&ccuSn="+$(".searchResult2").val(),pageNumber:1,pageSize:20});
            },
            error: function (jqXHR, textStatus, errorThrown) {
                console.log("失败")
                console.log(jqXHR);
            }
        });


    });
    $(".searchCcu3").on("click",function () {
        $.ajax({
            url: "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidDevice=true&ccuSn="+$(".searchResult3").val(),
            method: "get",
            contentType: "application/json; charset=utf-8",
            cache: false,
            beforeSend: function (xhr) {
                /* Authorization header */
                xhr.setRequestHeader("firm", sessionStorage.flag);
                xhr.setRequestHeader("Authorization", sessionStorage.token);
            },
            success: function (data) {
                $("#table").bootstrapTable('refresh',{'url':"http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues?rentalFlag=1&type=10&invalidDevice=true&ccuSn="+$(".searchResult3").val(),pageNumber:1,pageSize:20});
            },
            error: function (jqXHR, textStatus, errorThrown) {
                console.log("失败");
                console.log(jqXHR);
            }
        });


    });
</script>
<script src="js/distpicker.data.js"></script>
<script src="js/distpicker.js"></script>
<script src="js/main.js"></script>
</html>
