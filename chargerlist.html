<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title id="title">后台管理系统</title>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="css/bootstrap-table.min.css">
    <link rel="stylesheet" href="css/bootstrap-editable.css">
    <link rel="stylesheet" href="assets/index.css">
    <script src="assets/index.js"></script>
    <script src="js/vue1.js"></script>
    <script src="js/axios.js"></script>
    <script src="assets/jquery.min.js"></script>
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <!-- 最新版本的 Bootstrap 核心 CSS 文件 -->
    <link rel="stylesheet" href="css/style.css"/>

    <link rel="stylesheet" href="css/bootstrap-datetimepicker.css"/>
    <!-- bootstrap-datetimepicker插件CSS-->

    <!-- Latest compiled and minified JavaScript -->
    <script src="js/bootstrap-table.min.js"></script>

    <!-- Latest compiled and minified Locales -->
    <script src="js/bootstrap-table-zh-CN.min.js"></script>


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/json2/20140204/json2.min.js"></script>
    <script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js "></script>
    <script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

    <![endif]-->
    <style>
        body{  font-family: "Microsoft YaHei","微软雅黑 Light","Helvetica Neue",Helvetica,"PingFang SC","Hiragino Sans GB","Microsoft YaHei","微软雅黑",Arial,sans-serif; font-size:13px;}
        .like{
            width: 20%;
            height: 30%;
        }
        .smallImg{
            width: 30px;
            height: 30px;
        }
        .red{
            color: #FF0000
        }
        .green{
            color:#20d44a
        }
        .yellow{
            color:#FF9200
        }
        .orange{
            color:#FF7100}
        .nowwrp1{
            overflow: hidden;

            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            width:90px;

        }
        .nowwrp{
            white-space: nowrap;

        }
        .wrap-btn{
            background: red;

        }
        .nav>li>a{
            font-size:16px;
            font-weight:400;}
        .nav>li>a:hover{

            background:none;
        }
        .nav>li>a:focus{
            color:#FFF;
            background:none;
        }
        .navbar-inverse .navbar-nav>li>a {
            color: #9d9d9d;
            font-size: 18px;
        }
        .nav{
            -ms-overflow-y:scroll;}

        .nav-pills{
            -ms-overflow-y:scroll;}
        .nav-stacked{
            -ms-overflow-y:scroll;}
        .nav nav-pills nav-stacked{
            -ms-overflow-y:scroll;}

        .my-container {
            float: left;
            display: inline-block;
            margin-right:30px;
            margin-bottom: 3px;
            margin-top: -3px;
        }

        .myLabel-content ,.myText-content,.myBtn-content{
            float: left;
            display: inline-block;

        }
        .myLabel-content,.myText-content input[type='text'],.myBtn-content .btn {
            height: 34px;

        }
        .myBtn-content .btn {
            margin-bottom: 10px;
        }
        .btn-default {

        }
        .nav-tabs>li>a{
            font-size: 14px;
        }
    </style>
</head>
<body>
<!-- rent -->
<div id="wrap-stay" style="position: fixed; top: 0px; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); display: none;left:0px;">
    <div style="width: 830px;height: 32px;background: #636161;margin: 0 auto;margin-top: 100px;opacity: 1">
        <p style="font-size: 18px; color:#FFF; font-weight:600;line-height: 28px;margin-left: 15px">租用信息</p>
    </div>
    <div style="width: 830px;height: 460px;background: #FFF;margin: 0 auto;opacity: 1">
        <p style="font-size: 20px;font-weight: 700;padding: 10px">车辆号&nbsp;<span class="carNumber">B00000001</span></p>
        <p style="padding:10px;">用车人微信号昵称:&nbsp;&nbsp;<span style="font-weight: 700" class="wxName">XXX</span></p>
        <p style="padding:10px;">用车人身份证号:&nbsp;&nbsp;<span style="font-weight: 700" class="idNum" ></span></p>
        <div>
            <p style="padding: 10px; display: inline-block">押金(元): </p><div type="text" class=" money  " style="display: inline-block;width: 160px;margin-left: 15px;color:#777;"></div>
            <p style="padding: 10px; display: inline-block">余额（元）: </p><div type="text" class="  balance " style="display: inline-block;width: 160px;margin-left: 15px; color:#777;"></div>
            <p style="padding: 10px; display: inline-block">费用（元）: </p><div type="text" class=" cost  " style="display: inline-block;width: 160px;margin-left: 15px;color:#777;"></div>
        </div>
        <div>
            <p style="padding: 11px; display: inline-block">用车人姓名: </p><input type="text" class="form-control carmanName disabled" style="display: inline-block;width: 300px">
            <p style="padding: 9px; display: inline-block">用车人手机号：</p><input type="text" class="form-control carmanPhone" style="display: inline-block;width: 300px">
        </div>

        <div>
            <p style="padding: 10px; display: inline-block">租用天数: </p><input type="text" class="form-control  remainday " style="display: inline-block;width: 300px;margin-left: 14px;">
        </div>
        <div >
            <p style="padding: 10px; display: inline-block">开始时间: </p><input type="text" class="form-control startTime"  style="display: inline-block;width: 300px;margin-left: 14px;" id='datetimepicker1' >
            <p style="padding: 8px; display: inline-block">结束时间: </p><input type="text" class="form-control endTime" style="display: inline-block;width: 300px;margin-left: 38px;" id='datetimepicker2' >

        </div>
        <div>

            <p style="padding: 10px; display: inline-block">更换车辆: </p><input type="text" class="form-control  change " value="请输入要更换的车辆序列号" onblur="if(this.value==''){this.value='请输入要更换的车辆序列号'}" onfocus="if(this.value=='请输入要更换的车辆序列号'){this.value=''}" style="display: inline-block;width: 300px;margin-left: 14px;">
            <button type="button" class="btn btn-default "  id="btn-change" style="width: 100px;display: inline-block; margin-left:5px;">确认</button>
        </div>
        <div style="float: right;margin-top: 1px;margin-right: 28px">

            <!--<button type="button" class="btn btn-default  sendAll" style="width: 100px;background: #169BD5;color:#F3F3F3">确定</button>-->



            <button type="button" class="btn btn-default  sendAll" id="sendAll" style="width: 100px;background: #636161;color:#F3F3F3">确定</button>
            <!--  提示框-->


            <button type="button" class="btn btn-default calloff" style="width: 100px">取消</button>
        </div>
    </div>
</div>

<!--666-->

<div id="wrap" style="position: fixed; top: 0px; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); display: none;z-index:909;left:0px;">
    <div style="width: 680px;height: 32px;background: #636161;margin: 0 auto;margin-top: 100px;opacity: 1">
        <p style="font-size: 18px; color:#FFF; font-weight:600;line-height: 28px;margin-left: 15px">网点列表</p>
    </div>
    <div style="width: 680px;height: 340px;background: #FFF;margin: 0 auto;opacity: 1">
        <p style="font-size: 20px;font-weight: 700;padding: 10px">车辆序列号&nbsp;<span class="carNumber">{{carid}}</span></p>
        <div id="app" >
            <label  style="display: block;margin-top: 0px" >
                <ul class="nav nav-pills nav-stacked" style="overflow-y: scroll;-ms-overflow-y:scroll; height:220px;">
                    <li  v-for="(item,index) in message"  style="font-size:15px; font-weight:500;"><a  @click="online(index,item.id,$event)"  class="hoverE">{{item.name}}({{item.address}})</a></li>
                </ul>
            </label>
        </div>

        <div style="float: right;margin-top: 10px;margin-right: 20px">
            <button type="button" class="btn btn-default  "  id="wrap-btn-on" style="width: 100px;background: #636161;color:#F3F3F3;display: inline-block; margin-right:5px;">确定</button>
            <!--  提示框-->
            <button type="button" class="btn btn-default " id="wrap-btn-off" style="width: 100px;display: inline-block;float: right">取消</button>
        </div>
    </div>
</div>
<!-- fault  -->

<div id="wrap2" style="position: fixed; top: 0px; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); display: none;z-index:909;left:0px;">
    <div style="width: 600px;height: 32px;background: #636161;margin: 0 auto;margin-top: 100px;opacity: 1">
        <p style="font-size: 18px; color:#FFF; font-weight:600;line-height: 28px;margin-left: 15px">故障详情</p>
    </div>
    <div style="width: 600px;height: 250px;background: #FFF;margin: 0 auto;opacity: 1">
        <p style="font-size: 20px;font-weight: 700;padding: 10px">车辆序列号&nbsp;<span class="carNumber">{{carid}}</span></p>
        <p style="padding: 10px">故障描述:&nbsp;<span class="miaoshu">{{carid}}</span></p>
        <p style="padding: 10px">维修建议:&nbsp;<span class="jianyi">{{carid}}</span></p>
        <div style="float: right;margin-top: 30px;margin-right: 20px">
            <button type="button" class="btn btn-default  "  id="666" style="width: 100px;background: #636161;color:#F3F3F3;display: inline-block">确定</button>
        </div>
    </div>
</div>
<!-- cardetails  -->

<div id="wrap1" style="position: fixed; top: 0px; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); display: none;z-index:909;left:0px;">
    <div style="width: 650px;height: 32px;background: #636161;margin: 0 auto;margin-top: 100px;opacity: 1">
        <p style="font-size: 18px; color:#FFF; font-weight:600;line-height: 28px;margin-left: 15px">远程操控</p>
    </div>
    <div style="width: 650px;height: 270px;background: #FFF;margin: 0 auto;opacity: 1">
        <p style="font-size: 20px;font-weight: 700;padding: 10px">车辆序列号&nbsp;<span class="carNumber">{{carid}}</span></p>
        <div style="float: left;margin-top: 20px; padding-left:10%;">
            <button type="button" class="btn btn-default "  id="btn-1" style="width: 100px;display: inline-block;float: left; margin-right:5px;">上电</button>
            <button type="button" class="btn btn-default " id="btn-2" style="width: 100px;display: inline-block;float: left;margin-right:5px;">断电</button>
            <button type="button" class="btn btn-default " id="btn-3" style="width: 100px;display: inline-block;float: left;margin-right:5px;">寻车</button>
            <button type="button" class="btn btn-default " id="btn-4" style="width: 100px;display: inline-block;float: left;margin-right:5px;">开座桶</button>
            <button type="button" class="btn btn-default " id="btn-5" style="width: 100px;display: inline-block;float: left;margin-right:5px;">重启</button>
        </div>
        <div style="float: left;margin-top: 30px;  padding-left:34%;">
            <button type="button" class="btn btn-default "  id="btn-6" style="width: 100px;display: inline-block;float: left; margin-right:5px;">冻结电池</button>
            <button type="button" class="btn btn-default " id="btn-7" style="width: 100px;display: inline-block;float: left;margin-right:5px;">取消冻结</button>
        </div>
        <div style="float: right;margin-top: 100px;margin-right: 40px">
            <button type="button" class="btn btn-default " id="555" style="width: 100px;float: right;background: #636161;color:#F3F3F3;display: inline-block">取消</button>
        </div>
    </div>
</div>

<!-- Fixed navbar -->

<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="">
        <div class="navbar-header;">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar"
                    aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li  class="dropdown" id="name"><a class="dropdown-toggle" data-target="#" data-toggle="dropdown"  style="margin-left: 10%;     white-space: nowrap;"  id="navbarID" >{{navname}}</a>
                    <ul class="dropdown-menu" style="margin-left: 10%; white-space: nowrap;">
                        <li ><a href="#" @click="changeName(index)" v-for="(item,index) in message">{{item.name}}</a></li>
                    </ul>
                </li>
                <li style="margin-left: 20px;"><a href="#">地图展示</a></li>
                <li id="tabOption"><a href="index.html">车况列表</a></li>
                <li><a href="#">车辆管理</a></li>
                <li><a href="wangdian.html">网点管理</a></li>
                <li><a href="#">用户管理</a></li>
            </ul>
        </div><!--/.nav-collapse -->
    </div>
</nav>

<div class="content">
    <div class="container" style="width:97%; margin-top:-24px;">
        <div class="fixed-table-toolbar">
            <ul class="nav nav-tabs mytabs" id="mytabs">
                <li class="item active" id="tabletab1"><a href="#">已租赁电池</a></li>
                <li class="item" id="tabletab2"><a href="#" >逾期租赁电池</a></li>
                <li class="item" id="tabletab3"><a href="#" >待租赁电池</a></li>
                <li class="item" id="tabletab4"><a href="#" >库存电池</a></li>
            </ul>
        </div>
        <div id="toolbar">
            <div class="my-container">
                <div class="myText-content">
                    <div data-toggle="distpicker" id="table1"  class="form-inline topinline" style="margin-top: 15px;margin-bottom: 8px">
                    <input type="text" class="form-control searchResult"  style="display: inline-block;width: 200px;"
                           placeholder="输入序列号" onblur="if(this.placeholder==''){this.placeholder='输入序列号'}"
                           onfocus="if(this.placeholder=='输入序列号'){this.placeholder=''}" > <button type="button" class="btn btn-default searchCcu" style=";border-bottom-right-radius: 5px;border-top-right-radius: 5px;">
                    <span class="glyphicon glyphicon-search"></span></button>
                    <select  data-province="---- 选择省 ----" class="form-control selpr" style="margin-left: 20px;"></select>
                    <select  data-city="---- 选择市 ----" class="form-control selci" ></select>
                    <select  data-district="---- 选择区 ----" class="form-control selco" ></select>
                        <select type="text" name="sectionName-s" id="sectionName-s" class="form-control wangdianse"
                                         style="display: inline-block;width: 140px;margin-left: 2px;">
                        <option selected = "selected" value="0">---选择网点---</option>
                    </select>
                        <select type="text" class="form-control guigese" id="guigese" style="display: inline-block;width: 140px;margin-left: 2px;">
                        <option selected = "selected" value="0">---选择规格---</option>
                    </select>
                        <button type="button" class="btn btn-default searchDQ" >查询</button>
                    </div>
                    <div data-toggle="distpicker" id="table2"  class="form-inline topinline" style="margin-top: 15px;margin-bottom: 8px;">
                        <input type="text" class="form-control searchResult2"  style="display: inline-block;width: 200px;"
                               placeholder="输入序列号" onblur="if(this.placeholder==''){this.placeholder='输入序列号'}"
                               onfocus="if(this.placeholder=='输入序列号'){this.placeholder=''}" >
                        <button type="button" class="btn btn-default searchCcu2" style=";border-bottom-right-radius: 5px;border-top-right-radius: 5px;">
                            <span class="glyphicon glyphicon-search"></span></button>

                        <select  data-province="---- 选择省 ----" class="form-control selpr2" style="margin-left: 20px;"></select>
                        <select  data-city="---- 选择市 ----" class="form-control selci2" ></select>
                        <select  data-district="---- 选择区 ----" class="form-control selco2" ></select>

                        <select type="text" name="sectionName-s" id="sectionName-s2" class="form-control wangdianse"
                                style="display: inline-block;width: 140px;margin-left: 2px;">
                            <option selected = "selected" value="0">---选择网点---</option>
                        </select>

                        <select type="text" class="form-control guigese" id="guigese2" style="display: inline-block;width: 140px;margin-left: 2px;">
                            <option selected = "selected" value="0">---选择规格---</option>

                        </select>
                        <button type="button" class="btn btn-default searchDQ2" >查询</button>
                    </div>
                    <div data-toggle="distpicker" id="table3"  class="form-inline topinline" style="margin-top: 15px;margin-bottom: 8px;">
                        <input type="text" class="form-control searchResult3"  style="display: inline-block;width: 200px;"
                               placeholder="输入序列号" onblur="if(this.placeholder==''){this.placeholder='输入序列号'}"
                               onfocus="if(this.placeholder=='输入序列号'){this.placeholder=''}" >
                        <button type="button" class="btn btn-default searchCcu3" style=";border-bottom-right-radius: 5px;border-top-right-radius: 5px;">
                            <span class="glyphicon glyphicon-search"></span></button>

                        <select  data-province="---- 选择省 ----" class="form-control selpr3" style="margin-left: 20px;"></select>
                        <select  data-city="---- 选择市 ----" class="form-control selci3" ></select>
                        <select  data-district="---- 选择区 ----" class="form-control selco3" ></select>

                        <select type="text" name="sectionName-s" id="sectionName-s3" class="form-control wangdianse"
                                style="display: inline-block;width: 140px;margin-left: 2px;">
                            <option selected = "selected" value="0">---选择网点---</option>
                        </select>

                        <select type="text" class="form-control guigese" id="guigese3" style="display: inline-block;width: 140px;margin-left: 2px;">
                            <option selected = "selected" value="0">---选择规格---</option>

                        </select>
                        <button type="button" class="btn btn-default searchDQ3" >查询</button>
                    </div>
                    <div data-toggle="distpicker" id="table4"  class="form-inline topinline" style="margin-top: 15px;margin-bottom: 8px;">
                        <input type="text" class="form-control searchResult4"  style="display: inline-block;width: 200px;"
                               placeholder="输入序列号" onblur="if(this.placeholder==''){this.placeholder='输入序列号'}"
                               onfocus="if(this.placeholder=='输入序列号'){this.placeholder=''}" >
                        <button type="button" class="btn btn-default searchCcu4" style=";border-bottom-right-radius: 5px;border-top-right-radius: 5px;">
                            <span class="glyphicon glyphicon-search"></span></button>

                        <select  data-province="---- 选择省 ----" class="form-control selpr4" style="margin-left: 20px;"></select>
                        <select  data-city="---- 选择市 ----" class="form-control selci4" ></select>
                        <select  data-district="---- 选择区 ----" class="form-control selco4" ></select>

                        <select type="text" name="sectionName-s" id="sectionName-s4" class="form-control wangdianse"
                                style="display: inline-block;width: 140px;margin-left: 2px;">
                            <option selected = "selected" value="0">---选择网点---</option>
                        </select>

                        <select type="text" class="form-control guigese" id="guigese4" style="display: inline-block;width: 140px;margin-left: 2px;">
                            <option selected = "selected" value="0">---选择规格---</option>

                        </select>
                        <button type="button" class="btn btn-default searchDQ4" >查询</button>
                    </div>
                    <script type="text/javascript">
                        document.getElementById("table1").style.display="block";
                        document.getElementById("table2").style.display="none";
                        document.getElementById("table3").style.display="none";
                        document.getElementById("table4").style.display="none";
                    </script>
                </div>
            </div>
        </div>
        <div  id="map"></div>
        <table id="table"
               data-search="false"
               data-show-refresh="true"
               data-show-toggle="false"
               data-show-columns="false"
               data-show-export="false"
               data-minimum-count-columns="2"
               data-pagination="true"
               data-id-field="ccuSn"
               data-page-list="[10, 20, 50, 100, ALL]"
               data-show-footer="false"
               data-side-pagination="server"
               data-url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?sort=ebike.create_time,desc&adminFlag=cjl"
               data-cache="true"
               data-response-handler="responseHandler">
        </table>

    </div>
</div>

</div>
</body>
<!--/jquery.文件-->
<!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
<script type="text/javascript" src="js/moment.js"></script>
<!-- 最新的 Bootstrap 核心 Moment文件 -->
<script type="text/javascript" src="js/bootstrap-datetimepicker.min.js"></script>
<!-- 最新的 Bootstrap 核心 DateTime文件 -->


<script>

    window.onload = function(){
        document.getElementById('name').disabled=true;
    };
    var nameindex=0;
    var name = new Vue({
        el: '#name',
        data() {
            return{message: JSON.parse(sessionStorage.name),
                navname:"车精灵智能后台管理系统"

            }
        },
        mounted(){

            this.navname=this.message[0].name
        },
        methods:{
            changeName:function (index) {
                this.navname=this.message[index].name;
                nameindex=index;
                initTable()
            }
        }
    });
    document.getElementById("tabOption").getElementsByTagName("a")[0].style.color="white";
    var $table = $('#table');
    var dataResult;
    var rr=1;
    var orFault;
    var  orOnLine;
    var timer=0;
    var cc=0;
    var  timer2=0;
    $("#tabletab1").on("click",function () {
        document.getElementById("table1").style.display="block";
        document.getElementById("table2").style.display="none";
        document.getElementById("table3").style.display="none";
        document.getElementById("table4").style.display="none";

    });
    $("#tabletab2").on("click",function () {
        document.getElementById("table1").style.display="none";
        document.getElementById("table2").style.display="block";
        document.getElementById("table3").style.display="none";
        document.getElementById("table4").style.display="none";

    });
    $("#tabletab3").on("click",function () {
        document.getElementById("table1").style.display="none";
        document.getElementById("table2").style.display="none";
        document.getElementById("table3").style.display="block";
        document.getElementById("table4").style.display="none";
    });
    $("#tabletab4").on("click",function () {
        document.getElementById("table1").style.display="none";
        document.getElementById("table2").style.display="none";
        document.getElementById("table3").style.display="none";
        document.getElementById("table4").style.display="block";
    });
    var url;
    url ="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=1&sort=ue.end_time,asc";
    $(function(){

        $("#mytabs li").click(function() {
            $(this).siblings('li').removeClass('active');  // 删除其他兄弟元素的样式

            $(this).addClass('active');                            // 添加当前元素的样式

            $(".item").each(function(index, element) {
                if($(this).hasClass("active")){
                    if($(this).text()=="已租赁电池"){
                        url ="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=1&storeTypes=0,40&sort=ue.end_time,desc";

                    }else if($(this).text()=="逾期租赁电池"){
                        url ="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=2&storeTypes=0,40&sort=ue.end_time,desc"
                    }else if($(this).text()=="待租赁电池"){
                        url ="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=3&storeTypes=0,40&sort=ue.store_code,asc"
                    }else if($(this).text()=="库存电池"){
                        url ="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&storeTypes=20&sort=ue.store_code,asc"
                    }
                    console.log(url)

                }
            });
            initTable();

        });

    });

    var  title=document.getElementById("title");
    var navid=document.getElementById("navbarID");

    function initTable() {
        $table.bootstrapTable("destroy");
        $table.bootstrapTable({
            height: getHeight(),
            url:url,
            method: 'GET',
            dataType: 'json',
            contentType: "application/json; charset=utf-8",
            cache: false,
            striped: true,                              //是否显示行间隔色
            ajaxOptions: {
                headers: {
                    "firm":JSON.parse(sessionStorage.name)[sessionStorage.Vname].flag,
                    "Authorization":sessionStorage.token
                }
            },
            queryParams: queryParams,
            minimumCountColumns: 2,
            pageNumber: 1,                       //初始化加载第一页，默认第一页
            pageSize: 100,                       //每页的记录行数（*）
            pageList: [10, 20, 100],        //可供选择的每页的行数（*）
            columns: [

                {
                    field: '',
                    title: '',
                    align: 'center',
                    valign: 'middle',
                    formatter: function (value, row, index) {
                        /*console.log((dataResult.pageSize * (dataResult.currPage - 1)) + index + 1)*/
                        return (dataResult.pageSize * (dataResult.currPage - 1)) + index + 1;
                    }
                },


                {
                    field: 'stand',
                    title: '规格',
                    align: 'center',
                    valign: 'middle',
                    formatter:standFormatter

                },
                {
                    field: 'ccuSn',
                    title: '序列号',
                    align: 'center',
                    valign: 'middle'
                },
                {
                    field: 'a',
                    title: '省',
                    align: 'center',
                    valign: 'middle',
                    formatter:function provinceFormatter(value,row,index) {
                        if(row.ebikeStoreEntity!=null){
                            if(row.ebikeStoreEntity.province==null||row.ebikeStoreEntity.province=="null"){inner=""}

                            else{
                                var inner=row.ebikeStoreEntity?row.ebikeStoreEntity.province:""}
                        }
                        else{inner=""}
                        var color='nowwrp'
                        return [

                            '<span class='+color+'>'+inner+'</span>'


                        ].join("")
                    }

                },
                {
                    field: 'b',
                    title: '市',
                    align: 'center',
                    valign: 'middle',
                    formatter:function cityFormatter(value,row,index) {
                        if(row.ebikeStoreEntity!=null){
                            if(row.ebikeStoreEntity.city==null||row.ebikeStoreEntity.city=="null"){inner=""}

                            else{
                                var inner=row.ebikeStoreEntity?row.ebikeStoreEntity.city:""}
                        }
                        else{inner=""}
                        var color='nowwrp'
                        return [

                            '<span class='+color+'>'+inner+'</span>'


                        ].join("")
                    }

                },
                {
                    field: 'c',
                    title: '区/县',
                    align: 'center',
                    valign: 'middle',
                    formatter: function countyFormatter(value,row,index) {
                        if(row.ebikeStoreEntity!=null){
                            if(row.ebikeStoreEntity.county==null||row.ebikeStoreEntity.county=="null"){inner=""}

                            else{
                                var inner=row.ebikeStoreEntity?row.ebikeStoreEntity.county:""}
                        }
                        else{inner=""}
                        var color='nowwrp'
                        return [

                            '<span class='+color+'>'+inner+'</span>'


                        ].join("")
                    }

                },
                {
                    field: 'storeName',
                    title: '网点',
                    align: 'center',
                    valign: 'middle',
                    formatter:lineFormatter
                },
                {

                    field: 'realname',
                    title: '用户姓名',
                    align: 'center',
                    valign: 'middle',
                    formatter:realFormatter

                },
                {

                    field: 'link',
                    title: '联系方式',
                    align: 'center',
                    valign: 'middle',
                    formatter:linkFormatter

                },
                {
                    field: 'usedDays',
                    title: '租期',
                    align: 'center',
                    valign: 'middle'
                }, {
                    field: 'surplusTime',
                    title: '有效期',
                    align: 'center',
                    valign: 'middle',
                    formatter:youxFormatter

                }


            ]
        });
        // sometimes footer render error.
    }
    function createTimeFormatter(value,row,index) {
        var inner=row.createTime;
        var color='nowwrp1';
        return [
            '<span class='+color+'>'+inner+'</span>'
        ].join('');
    }
    function reportTimerFormatter(value,row,index) {
        var inner=row.reportTime;
        var color='nowwrp1';
        return [
            '<span class='+color+'>'+inner+'</span>'
        ].join('');
    }
    function standFormatter(value,row,index) {
        var inner;
        if(row.productEntity!=null && row.productEntity!="null"){
            if(row.productEntity.name!=null && row.productEntity.name!="null") {
                inner = row.productEntity.name;
            }
            else{
                inner="-";
            }
        }
        else{
            inner="-";
        }
        return [
            '<span>'+inner+'</span>'
        ].join('');
    }//规格
    function snFormatter(value,row,index){
        return [
            '<div class="nowwrp">',
            '<a class="like2" href="#" title="车辆远程操控">',
            row.ccuSn,
            '</a>',
            '</div>'
        ].join("")

    }//序列号
    function lineFormatter(value,row,index) {
        var color='nowwrp';
        if(row.storeName==null){
            inner="";
            return [
                '<span class='+color+'>'+inner+'</span>'
            ].join("")
        }
        else{

            inner=row.storeName;
            return [
                '<span class='+color+'>'+inner+'</span>'
            ].join("")
        }
    }//网点
    function realFormatter(value, row, index) {
        var inner;
        if(row.owner==null||row.owner=="null"){inner=""}
        else{
            if(row.owner.realname==null){inner=""}
            else {
                inner=row.owner.realname
            }
        }
        var color='nowwrp';
        return [
            '<span class='+color+'>'+inner+'</span>'
        ].join('');
    }//用户姓名
    function linkFormatter(value, row, index) {
        if(row.owner==null||row.owner=="null"){inner=""}
        else{
            var inner=row.owner.phoneNumber}
        var color='nowwrp';
        return [
            '<span class='+color+'>'+inner+'</span>'
        ].join('');
    }//联系方式
    function operateFormatter(value, row, index) {
        var car =row.ebikeStatus==0?"img/u217.png":row.ebikeStatus==100?"img/u209.png":"img/u207.png"
        return [
            '<a class="like" href="#">',
            '<img  class="smallImg" src='+car+' />',
            '</a>'
        ].join('');
    }
    function queryParams(params) {
        var param = {
            limit: this.pageSize, // 页面大小
            page: this.pageNumber,
            onLine:orOnLine,
            fault:orFault
        }

        return param;
    }
    function responseHandler(res) {
        dataResult = res;
        if (res) {
            return {
                "rows": res.list,
                "total": res.totalCount
            };
        } else {
            return {
                "rows": 10,
                "total": 20
            };
        }
        console.log(res);
    }
    function onlineFormatter(value, row, index) {
        if(row.online==null){
            inner=""}
        else{
            var inner=row.online?"在线":"离线 "
            var  color=row.online?"":"red"

        }

        return [
            '<span class='+color+'>'+inner+'</span>'
        ].join('');

    } //在线
    function usestFormatter(value, row, index){
        if(row.useStatus==null){
            inner=""}
        else{
            var inner=row.useStatus?"冻结":"正常 "
            var  color=row.useStatus?"red":""

        }

        return [
            '<span class='+color+'>'+inner+'</span>'
        ].join('');
    }//使用状态
    function useFormatter(value, row, index){
        var inner=row.usedDays+"天"
        return [
            '<span>'+inner+'</span>'
        ].join('');
    }//使用时间
    function youxFormatter(value, row, index){
        var color='nowwrp'
        var inner=row.surplusTime
        return [
            '<span class='+color+'>'+inner+'</span>'
        ].join('');

    }	//有效期
    function simFormatter(value, row, index){
        var color='nowwrp'

        if(row.simValidityTime==null){inner="-"}
        else{inner=row.simValidityTime}
        return [
            '<span class='+color+'>'+inner+'</span>'
        ].join('');

    }	//sim
    function odoFormatter(value, row, index){

        if(row.odo==null){
            inner="0km"}

        else
        {var inner=row.odo+"km"}
        return [
            '<span>'+inner+'</span>'
        ].join('');
    }//里程
    function modoFormatter(value, row, index){

        if(row.odo==null){
            inner="0km"}

        else
        {var inner=row.monthODO+"km"}
        return [
            '<span>'+inner+'</span>'
        ].join('');
    }//本月里程
    function liulFormatter(value, row, index){
        if(row.dataUsage==-1){
            var color='nowwrp'
            inner="第三方SIM"}
        else{
            var inner= (row.dataUsage != "" ?  (row.dataUsage+"M") : "-");
        }
        return [
            '<span class='+color+'>'+inner+'</span>'
        ].join('');
    }//流量
    function flagFormatter(value, row, index) {
        var inner=row.faultFlag?"有故障":"无故障 "
        var  color=row.faultFlag?"red":""
        return [
            '<span class='+color+'>'+inner+'</span>'
        ].join('');
    }  //故障
    function gztimeFormatter(value, row, index){
        var color='nowwrp1'
        if(row.faultTime!=null){
            var inner=row.faultTime
        }
        else{inner=""}
        return [
            '<span class='+color+'>'+inner+'</span>'
        ].join('');
    }//故障时间
    function guzhangFormatter(value, row, index){
        var color='nowwrp'
        if(row.faultDetail==null)
        { inner=""
            return [
                '<span class='+color+'>'+inner+'</span>'
            ].join('');

        }
        else{
            inner=row.faultDetail
            return [
                '<span class='+color+'>'+inner+'</span>'
            ].join('');}
    }//故障详情
    function sourceFormatter(value, row, index) {
        var inner=row.source;
        if(row.source==0){inner='GPRS'}
        else if(row.source==1){inner='BT'}
        else{inner=''}
        return [
            '<span>'+inner+'</span>'
        ].join('');
    }  //来源
    function bmcFormatter(value, row, index) {
        if(row.bmsSoc>100){
            var inner=row.bmsSoc?row.bmsSoc-100+"格":""
            var  color=row.bmsSoc-100==2?"yellow":row.bmsSoc-100==1?"orange":""
        }
        else if(row.bmsSoc==0){
            if(row.bmsSoh>100){
                inner="0格"
                color="red"}
            else{
                inner="0%"
                color="red"
            }


        }
        else if(row.bmsSoc==null){inner="-"}
        else{
            var inner=row.bmsSoc+"%"
        }

        return [
            '<span class='+color+'>'+inner+'</span>'
        ].join('');

    }  //电量
    function addressFormatter(value, row, index) {
        var inner=row.address
        var color='nowwrp'
        if(row.address==null){inner=''}
        return [
            '<span class='+color+'>'+inner+'</span>'
        ].join('');
    }  //地址
    var data1;
    function ajax(url,method,success,err) {
        $.ajax({
            url: url,
            method: method,
            contentType: "application/json; charset=utf-8",
            cache: false,
            beforeSend: function (xhr) {
                /* Authorization header */
                xhr.setRequestHeader("firm", sessionStorage.flag);
                xhr.setRequestHeader("Authorization", sessionStorage.token);
            },
            success: success,
            error: err
        });
    }  //ajax 封装
    ajax("http://cjl3.rokyinfo.net:7200/api-user/v3.1/ebikestores?types=1","get",function (data) {
        data1=data
    }, function (jqXHR, textStatus, errorThrown) {
        console.log("失败");
        console.log(jqXHR);});
    var ueId;
    var id1;
    var operateEvents = {
        'click .like': function (e, value, row, index) {
            console.log("e:"+e+"value:"+value+"row:"+row+"index:"+index)
            var ALL= row
            var A = ALL
            console.log("当前车 :"+ALL.orderId)
            var a = ALL.orderEntity ? ALL.orderEntity.orderUserBean.nikeName : ""
            var b = ALL.ccuSn ? ALL.ccuSn : ""
            var c=ALL.orderEntity ? ALL.orderEntity.orderUserBean.realName : ""
            var d=ALL.orderEntity ? ALL.orderEntity.orderUserBean.phoneNumber : ""
            var e=ALL.orderEntity? ALL.orderEntity.startTime: ""
            var f=ALL.orderEntity? ALL.orderEntity.endTime: ""
            var g=ALL.orderEntity? ALL.orderEntity.accountEntity.securityMoney: ""
            var h=ALL.orderEntity? ALL.orderEntity.accountEntity.availableBalance: ""
            var i=ALL.orderEntity? ALL.orderEntity.accountEntity.cost: ""
            var j = ALL.orderEntity ? ALL.orderEntity.orderUserBean.identityNumber : ""
            $("#btn-change").unbind('click').on("click",function () {
                console.log("http://cjl3.rokyinfo.net:7200/api-order/v3.1/orders/"+ALL.orderId+"/replace/"+$("#wrap-stay .change").val())
                ajax("http://cjl3.rokyinfo.net:7200/api-order/v3.1/orders/"+ALL.orderId+"/replace/"+$("#wrap-stay .change").val(),"put",function (dara) {
                    $table.bootstrapTable("refresh",{silent: true})
                    $("#wrap-stay").hide()
                    console.log("成功")
                },function (err) {
                    console.log(err)
                })
            })

            $("#wrap-stay .change").val("请输入要更换的车辆序列号")
            if(ALL.ebikeStatus!==0) {
                if (ALL.ebikeStatus == 100) {
                    $("#wrap-stay .sendAll").html("结束租车")
                    $("#wrap-stay .carmanName").attr("readonly", "true")
                    $("#wrap-stay .carmanPhone").attr("readonly", "true")
                    $("#wrap-stay .startTime").attr("readonly", "true")
                    $("#wrap-stay .endTime").attr("readonly", "true")
                    $("#wrap-stay .remainday").attr("readonly","true")
                    $("#wrap-stay .money").attr("readonly","true")
                    $("#wrap-stay .balance").attr("readonly","true")
                    $("#wrap-stay .cost").attr("readonly","true")
                } else {
                    $("#wrap-stay .sendAll").html("开始租车")
                    $("#wrap-stay .alert-p").html("应用这些设置?")
                    $("#wrap-stay .carmanName").removeAttr("readonly")
                    $("#wrap-stay .carmanPhone").removeAttr("readonly")
                    $("#wrap-stay .startTime").removeAttr("readonly")
                    $("#wrap-stay .endTime").removeAttr("readonly")
                    $("#wrap-stay .remainday").removeAttr("readonly")
                    $("#wrap-stay .money").removeAttr("readonly")
                    $("#wrap-stay .balance").removeAttr("dreadonly")
                    $("#wrap-stay .cost").removeAttr("readonly")
                    $("#wrap-stay .remainday").click(function () {
                        clearInterval(timer2)
                        timer2=setInterval(function () {
                            if($(".startTime").val()!==null){
                                var arr=$(".startTime").val().split(" ")[0].split("-")//年月日数组
                                var  a  =[1,3,5,7,8,10,12]
                                var day=parseInt($(".remainday").val())+parseInt(arr[2]);
                                /*  console.log(arr)*/
                                var maxday;
                                for(var i=0;i<a.length;i++){
                                    if(a[i]==parseInt(arr[1])){
                                        maxday=31
                                        break
                                    }
                                    else {
                                        maxday=30
                                    }
                                }
                                if(arr[0]==2017){
                                    var month=parseInt(day/maxday)+parseInt(arr[1])
                                    if(day>maxday){
                                        day=parseInt(day-maxday)
                                    }
                                    var  years=parseInt(month/12)+parseInt(arr[0])
                                    $(".endTime").val(years+"-"+month+"-"+day+" "+$(".startTime").val().split(" ")[1])
                                    /*    console.log("years:"+years+"month:"+month+"day:"+day)*/
                                }
                            }
                        },10)
                    })

                }
                console.log(i)
                $("#wrap-stay .wxName").html(a)
                $("#wrap-stay .carNumber").html(b)
                $("#wrap-stay .carmanName").val(c)
                $("#wrap-stay .carmanPhone").val(d)
                $("#wrap-stay .startTime").val(e)
                $("#wrap-stay .endTime").val(f)
                $("#wrap-stay .money").html(g)
                $("#wrap-stay .balance").html(h)
                $("#wrap-stay .cost").html(i)
                $("#wrap-stay .idNum").html(j)
                $("#wrap-stay").css("z-index", "99")
                $("#wrap-stay").show()
                $("#wrap-stay  .calloff").click(function () {
                    $("#wrap-stay").hide()
                })
                $("#sendAll").unbind('click').click(function () {
                    clearTimeout(cc)
                    cc=setTimeout(function () {
                        rr--
                        if (rr == 0) {
                            var orderId = A.orderId;
                            var startTime = $(".startTime").val() == "请输入信息 " ? alert("请输入开始时间 ") : $(".startTime").val();
                            var endTime = $(".endTime").val() == "请输入信息 " ? alert("请输入结束时间 ") : $(".endTime").val();
                            var phoneNumber = $(".carmanPhone").val()
                            var realName = $(".carmanName").val()
                            var parameter = "startTime=" + startTime + "&endTime=" + endTime + "&phoneNumber=" + phoneNumber
                                + "&realName=" + realName;
                            console.log(encodeURI("http://cjl3.rokyinfo.net:7200/api-order/v3.1/orders/" + orderId + "/start?" + parameter))
                            if (A.ebikeStatus == 101) {
                                $.ajax({
                                    url: encodeURI("http://cjl3.rokyinfo.net:7200/api-order/v3.1/orders/" + orderId + "/start?" + parameter),
                                    method: "put",
                                    contentType: "application/json; charset=utf-8",
                                    cache: false,
                                    beforeSend: function (xhr) {
                                        /* Authorization header */
                                        xhr.setRequestHeader("firm", sessionStorage.flag);
                                        xhr.setRequestHeader("Authorization", sessionStorage.token);
                                    },
                                    success: function (data) {
                                        window.location.reload()
                                        console.log("成功");
                                    },
                                    error: function (jqXHR, textStatus, errorThrown) {
                                        console.log("失败")
                                        console.log(jqXHR);
                                    }
                                });
                            }  //红车发送数据
                            if (A.ebikeStatus == 100) {
                                console.log("http://cjl3.rokyinfo.net:7200/api-order/v3.1/orders/" + orderId + "/end")
                                if (confirm('您确定要结束租车吗?')) {
                                    $.ajax({
                                        url: "http://cjl3.rokyinfo.net:7200/api-order/v3.1/orders/" + orderId + "/end",
                                        method: "PUT",
                                        contentType: "application/json; charset=utf-8",
                                        cache: false,
                                        beforeSend: function (xhr) {
                                            /* Authorization header */
                                            xhr.setRequestHeader("firm", sessionStorage.flag);
                                            xhr.setRequestHeader("Authorization", sessionStorage.token);

                                        },
                                        success: function (data) {
                                            window.location.reload();
                                            console.log("成功");
                                        },
                                        error: function (jqXHR, textStatus, errorThrown) {
                                            console.log(jqXHR);
                                        }
                                    });
                                } else {
                                    $("#wrap-stay").hide()
                                    rr = 1
                                    console.log("1")

                                }
                            }//蓝车结束数据
                        }
                    },10)

                })  //发送数据

                $("#wrap-stay .endTime").focus(function(){
                    clearInterval(timer2)
                });
                $(" #wrap-stay .endTime").blur(function(){
                    clearInterval(timer2)
                    console.log(  $('#datetimepicker2').datetimepicker())
                });

            }
        },
        'click .like1':function (e,value,row,index) {
            ueId=row.ueId
            $(".carNumber").html(row.ccuSn)
            $("#wrap").show()
        },
        'click .like2':function (e,value,row,index) {
            $(".carNumber").html(row.ccuSn);
            $("#wrap1").show();
            $("#btn-1").unbind('click').on("click",function () {
                ajax("http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/"+row.ccuSn+"/power-on","get",function (data) {
                    alert("上电成功")
                    console.log("http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/"+row.ccuSn+"/power-on","get")
                }, function (err) {
                    alert("上电失败");
                    console.log(err)});
                return false
            });
            $("#btn-2").unbind('click').on("click",function () {
                ajax("http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/"+row.ccuSn+"/power-off","get",function (data) {
                    alert("断电成功");
                    console.log("http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/"+row.ccuSn+"/power-on","get")
                }, function (err) {
                    alert("断电失败");
                    console.log(err)})
            });
            $("#btn-3").unbind('click').on("click",function () {
                ajax("http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/"+row.ccuSn+"/search","get",function (data) {
                    alert("寻车成功")
                    console.log("http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/"+row.ccuSn+"/power-on","get")
                }, function (err) {
                    alert("寻车失败")
                    console.log(err)})
            })
            $("#btn-4").unbind('click').on("click",function () {
                ajax("http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/"+row.ccuSn+"/open-box","get",function (data) {
                    alert("开座桶成功")
                    console.log("http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/"+row.ccuSn+"/power-on","get")
                }, function (err) {
                    alert("开座桶失败")
                    console.log(err)})
            })
            $("#btn-5").unbind('click').on("click",function () {
                ajax("http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/"+row.ccuSn+"/restart","get",function (data) {
                    alert("重启成功")
                    console.log("http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/"+row.ccuSn+"/power-on","get")
                }, function (err) {
                    alert("重启失败")
                    console.log(err)})
            })
            $("#btn-6").unbind('click').on("click",function () {
                ajax("http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues/update-use-status?ccuSn="+row.ccuSn+"&useStatus=1","put",function (data) {
                    alert("冻结电池成功")
                    $table.bootstrapTable("refresh",{silent: true})
                    console.log("http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues/update-use-status?ccuSn="+row.ccuSn+"&useStatus=1","get")
                }, function (err) {
                    alert("冻结电池失败")
                    console.log(err)})
            })
            $("#btn-7").unbind('click').on("click",function () {
                ajax("http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues/update-use-status?ccuSn="+row.ccuSn+"&useStatus=0","put",function (data) {
                    alert("取消冻结成功")
                    $table.bootstrapTable("refresh",{silent: true})
                    console.log("http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues/update-use-status?ccuSn="+row.ccuSn+"&useStatus=0","get")
                }, function (err) {
                    alert("取消冻结失败")
                    console.log(err)})
            })
            $("#555").on("click",function () {
                $("#wrap1").hide()
            })
        },
        'click .like3':function (e,value,row,index) {
            $(".carNumber").html(row.ccuSn);
            $(".miaoshu").html(row.faultDetail);
            $(".jianyi").html(row.faultAnalyze);
            $("#wrap2").show();
            $("#666").on("click",function () {
                $("#wrap2").hide()
            })
        }
    };
    function getHeight() {
        if(document.body.clientWidth>1389) {
            return $(window).height() - $('h1').outerHeight(true) - $('nav').outerHeight(true)-48;
        }else if(document.body.clientWidth<1389&&document.body.clientWidth>1075){
            return $(window).height() - $('h1').outerHeight(true) - $('nav').outerHeight(true)-78;
        }else {
            return $(window).height() - $('h1').outerHeight(true) - $('nav').outerHeight(true)-98;
        }
    }
    initTable();
    /*timer=setInterval(function () {
         $table.bootstrapTable("refresh",{silent: true})
        },50000)*/
    $(window).resize(function () {
        $table.bootstrapTable('resetView', {
            height: getHeight()
        });
    });
    $.ajax({
        url: "http://cjl3.rokyinfo.net:7200/api-user/v3.1/ebikestores?types=0,1,2,3",
        method: "get",
        contentType: "application/json; charset=utf-8",
        cache: false,
        beforeSend: function (xhr) {
            /* Authorization header */
            xhr.setRequestHeader("firm", sessionStorage.flag);
            xhr.setRequestHeader("Authorization", sessionStorage.token);
        },
        success: function (data) {
            var app = new Vue({
                el: '#app',
                data: {message: data.list
                },
                methods:{
                    online:function (index,id,ev) {
                        for(var i=0;i<document.getElementsByClassName("hoverE").length;i++){
                            document.getElementsByClassName("hoverE")[i].style.background="white"
                        }
                        id1=id
                        ev.target.style.background="#d1c9c9"
                        ev.target.color="white"
                        console.log(id1+":"+ueId)
                    }
                }
            })
        },
        error: function (jqXHR, textStatus, errorThrown) {
            console.log("失败")
            console.log(jqXHR);
        }
    });
    $("#wrap-btn-on").on("click",function () {
        console.log("cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues/update_storeId?storeId="+id1+"&ueId="+ueId)
        console.log("已发送")
        $.ajax({
            url: "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues/update_storeId?storeId="+id1+"&ueId="+ueId,
            method: "put",
            contentType: "application/json; charset=utf-8",
            cache: false,
            beforeSend: function (xhr) {
                /* Authorization header */
                xhr.setRequestHeader("firm", sessionStorage.flag);
                xhr.setRequestHeader("Authorization", sessionStorage.token);
            },success:function (data) {
                console.log("成功")
                $table.bootstrapTable("refresh",{silent: true})
                $("#wrap").hide()
            },
            error:function (err) {
                console.log(err)
            }})
    });
    $("#wrap-btn-off").on("click",function () {
        $("#wrap").hide()
    });
    $(".searchCcu").on("click",function () {
        $.ajax({
            url: "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?ccuSn="+$(".searchResult").val(),
            method: "get",
            contentType: "application/json; charset=utf-8",
            cache: false,
            beforeSend: function (xhr) {
                /* Authorization header */
                xhr.setRequestHeader("firm", sessionStorage.flag);
                xhr.setRequestHeader("Authorization", sessionStorage.token);
            },
            success: function (data) {
                $("#table").bootstrapTable('refresh',{'url':"http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?ccuSn="+$(".searchResult").val(),pageNumber:1,pageSize:20});
            },
            error: function (jqXHR, textStatus, errorThrown) {
                console.log("失败")
                console.log(jqXHR);
            }
        });


    });
    $(".searchCcu2").on("click",function () {
        $.ajax({
            url: "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?ccuSn="+$(".searchResult2").val(),
            method: "get",
            contentType: "application/json; charset=utf-8",
            cache: false,
            beforeSend: function (xhr) {
                /* Authorization header */
                xhr.setRequestHeader("firm", sessionStorage.flag);
                xhr.setRequestHeader("Authorization", sessionStorage.token);
            },
            success: function (data) {
                $("#table").bootstrapTable('refresh',{'url':"http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?ccuSn="+$(".searchResult2").val(),pageNumber:1,pageSize:20});
            },
            error: function (jqXHR, textStatus, errorThrown) {
                console.log("失败")
                console.log(jqXHR);
            }
        });


    });
    $(".searchCcu3").on("click",function () {
        console.log("http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?ccuSn="+$(".searchResult3").val())
        $.ajax({
            url: "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?ccuSn="+$(".searchResult3").val(),
            method: "get",
            contentType: "application/json; charset=utf-8",
            cache: false,
            beforeSend: function (xhr) {
                /* Authorization header */
                xhr.setRequestHeader("firm", sessionStorage.flag);
                xhr.setRequestHeader("Authorization", sessionStorage.token);
            },
            success: function (data) {
                $("#table").bootstrapTable('refresh',{'url':"http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?ccuSn="+$(".searchResult3").val(),pageNumber:1,pageSize:20});
            },
            error: function (jqXHR, textStatus, errorThrown) {
                console.log("失败")
                console.log(jqXHR);
            }
        });


    });
    $(".searchCcu4").on("click",function () {

        $.ajax({
            url: "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?ccuSn="+$(".searchResult4").val(),
            method: "get",
            contentType: "application/json; charset=utf-8",
            cache: false,
            beforeSend: function (xhr) {
                /* Authorization header */
                xhr.setRequestHeader("firm", sessionStorage.flag);
                xhr.setRequestHeader("Authorization", sessionStorage.token);
            },
            success: function (data) {
                $("#table").bootstrapTable('refresh',{'url':"http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?ccuSn="+$(".searchResult4").val(),pageNumber:1,pageSize:20});
            },
            error: function (jqXHR, textStatus, errorThrown) {
                console.log("失败")
                console.log(jqXHR);
            }
        });


    });
    $(".searchDQ").on("click",function () {
        var url;
        var a=$(".selpr").val();
        console.log(a);
        var b=$(".selci").val();
        var c=$(".selco").val();

        var myselect=document.getElementById("sectionName-s");
        var index=myselect.selectedIndex ;
        idstore=myselect.options[index].value;
        console.log(idstore);
        var myselect2=document.getElementById("guigese");
        var index2=myselect2.selectedIndex ;
        idpro=myselect2.options[index2].value;
        console.log(idpro);
        if (a==""&&idstore=="0"&&idpro=="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=1&storeTypes=0,40&sort=ue.end_time,desc"
            console.log(url);
        }else if(a==""&&idstore=="0"&&idpro!="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=1&storeTypes=0,40&sort=ue.end_time,desc&productId="+idpro
            console.log(url);
        }else if(a==""&&idstore!="0"&&idpro!="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=1&storeTypes=0,40&sort=ue.end_time,desc&productId="+idpro+"&storeId="+idstore
            console.log(url);
        }else if (a==""&&idstore!="0"&&idpro=="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=1&storeTypes=0,40&sort=ue.end_time,desc&storeId="+idstore
            console.log(url);
        }else if (a!=""&&b==""&&c==""&&idstore=="0"&&idpro=="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=1&storeTypes=0,40&sort=ue.end_time,desc&province="+a
            console.log(url);
        }else if(a!=""&&b!=""&&c==""&&idstore=="0"&&idpro=="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=1&storeTypes=0,40&sort=ue.end_time,desc&province="+a+"&city="+b
            console.log(url);
        }else if(a!=""&&b!=""&&c!=""&&idstore=="0"&&idpro=="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=1&storeTypes=0,40&sort=ue.end_time,desc&province="+a+"&city="+b+"&county="+c
            console.log(url);
        }else if (a!=""&&b!=""&&c!=""&&idstore!="0"&&idpro=="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=1&storeTypes=0,40&sort=ue.end_time,desc&province="+a+"&city="+b+"&county="+c+"&storeId="+idstore
            console.log(url);
        }else if (a!=""&&b!=""&&c!=""&&idstore!="0"&&idpro!="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=1&storeTypes=0,40&sort=ue.end_time,desc&province="+a+"&city="+b+"&county="+c+"&storeId="+idstore+"&productId="+idpro
            console.log(url);
        }else if (a!=""&&b!=""&&c!=""&&idstore=="0"&&idpro!="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=1&storeTypes=0,40&sort=ue.end_time,desc&province="+a+"&city="+b+"&county="+c+"&productId="+idpro
            console.log(url);
        }else if (a!=""&&b==""&&c==""&&idstore!="0"&&idpro=="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=1&storeTypes=0,40&sort=ue.end_time,desc&province="+a+"&storeId="+idstore
            console.log(url);
        }else if (a!=""&&b==""&&c==""&&idstore=="0"&&idpro!="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=1&storeTypes=0,40&sort=ue.end_time,desc&province="+a+"&productId="+idpro
            console.log(url);
        }else if (a!=""&&b==""&&c==""&&idstore!="0"&&idpro!="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=1&storeTypes=0,40&sort=ue.end_time,desc&province="+a+"&productId="+idpro+"&storeId="+idstore
            console.log(url);
        }else if(a!=""&&b!=""&&c==""&&idstore!="0"&&idpro=="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=1&storeTypes=0,40&sort=ue.end_time,desc&province="+a+"&city="+b+"&storeId="+idstore
            console.log(url);
        }else if(a!=""&&b!=""&&c==""&&idstore=="0"&&idpro!="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=1&storeTypes=0,40&sort=ue.end_time,desc&province="+a+"&city="+b+"&productId="+idpro
            console.log(url);
        }else if(a!=""&&b!=""&&c==""&&idstore!="0"&&idpro!="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=1&storeTypes=0,40&sort=ue.end_time,desc&province="+a+"&city="+b+"&productId="+idpro+"&storeId="+idstore
            console.log(url);
        }else if(a!=""&&b!=""&&c!=""&&idstore!="0"&&idpro=="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=1&storeTypes=0,40&sort=ue.end_time,desc&province="+a+"&city="+b+"&county="+c+"&storeId="+idstore
            console.log(url);
        }else if(a!=""&&b!=""&&c!=""&&idstore=="0"&&idpro!="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=1&storeTypes=0,40&sort=ue.end_time,desc&province="+a+"&city="+b+"&county="+c+"&productId="+idpro
            console.log(url);
        }else if(a!=""&&b!=""&&c!=""&&idstore!="0"&&idpro!="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=1&storeTypes=0,40&sort=ue.end_time,desc&province="+a+"&city="+b+"&county="+c+"&productId="+idpro+"&storeId="+idstore
            console.log(url);
        }

        $.ajax({
            url: url,
            method: "get",
            contentType: "application/json; charset=utf-8",
            cache: false,
            beforeSend: function (xhr) {
                /* Authorization header */
                xhr.setRequestHeader("firm", sessionStorage.firmFlag);
                xhr.setRequestHeader("Authorization", sessionStorage.token);
            },
            success: function (data) {

                $("#table").bootstrapTable('refresh', {'url': url});

            },
            error: function (jqXHR, textStatus, errorThrown) {
                console.log("失败");
                console.log(jqXHR);
            }
        });

    });
    $(".searchDQ2").on("click",function () {
        var url;
        var a=$(".selpr2").val();
        console.log(a);
        var b=$(".selci2").val();
        var c=$(".selco2").val();

        var myselect=document.getElementById("sectionName-s2");
        var index=myselect.selectedIndex ;
        idstore=myselect.options[index].value;
        console.log(idstore);
        var myselect2=document.getElementById("guigese2");
        var index2=myselect2.selectedIndex ;
        idpro=myselect2.options[index2].value;
        console.log(idpro);
        if (a==""&&idstore=="0"&&idpro=="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=2&storeTypes=0,40&sort=ue.end_time,desc"
            console.log(url);
        }else if(a==""&&idstore=="0"&&idpro!="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=2&storeTypes=0,40&sort=ue.end_time,desc&productId="+idpro
            console.log(url);
        }else if(a==""&&idstore!="0"&&idpro!="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=2&storeTypes=0,40&sort=ue.end_time,desc&productId="+idpro+"&storeId="+idstore
            console.log(url);
        }else if (a==""&&idstore!="0"&&idpro=="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=2&storeTypes=0,40&sort=ue.end_time,desc&storeId="+idstore
            console.log(url);
        }else if (a!=""&&b==""&&c==""&&idstore=="0"&&idpro=="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=2&storeTypes=0,40&sort=ue.end_time,desc&province="+a
            console.log(url);
        }else if(a!=""&&b!=""&&c==""&&idstore=="0"&&idpro=="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=2&storeTypes=0,40&sort=ue.end_time,desc&province="+a+"&city="+b
            console.log(url);
        }else if(a!=""&&b!=""&&c!=""&&idstore=="0"&&idpro=="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=2&storeTypes=0,40&sort=ue.end_time,desc&province="+a+"&city="+b+"&county="+c
            console.log(url);
        }else if (a!=""&&b!=""&&c!=""&&idstore!="0"&&idpro=="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=2&storeTypes=0,40&sort=ue.end_time,desc&province="+a+"&city="+b+"&county="+c+"&storeId="+idstore
            console.log(url);
        }else if (a!=""&&b!=""&&c!=""&&idstore!="0"&&idpro!="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=2&storeTypes=0,40&sort=ue.end_time,desc&province="+a+"&city="+b+"&county="+c+"&storeId="+idstore+"&productId="+idpro
            console.log(url);
        }else if (a!=""&&b!=""&&c!=""&&idstore=="0"&&idpro!="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=2&storeTypes=0,40&sort=ue.end_time,desc&province="+a+"&city="+b+"&county="+c+"&productId="+idpro
            console.log(url);
        }else if (a!=""&&b==""&&c==""&&idstore!="0"&&idpro=="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=2&storeTypes=0,40&sort=ue.end_time,desc&province="+a+"&storeId="+idstore
            console.log(url);
        }else if (a!=""&&b==""&&c==""&&idstore=="0"&&idpro!="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=2&storeTypes=0,40&sort=ue.end_time,desc&province="+a+"&productId="+idpro
            console.log(url);
        }else if (a!=""&&b==""&&c==""&&idstore!="0"&&idpro!="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=2&storeTypes=0,40&sort=ue.end_time,desc&province="+a+"&productId="+idpro+"&storeId="+idstore
            console.log(url);
        }else if(a!=""&&b!=""&&c==""&&idstore!="0"&&idpro=="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=2&storeTypes=0,40&sort=ue.end_time,desc&province="+a+"&city="+b+"&storeId="+idstore
            console.log(url);
        }else if(a!=""&&b!=""&&c==""&&idstore=="0"&&idpro!="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=2&storeTypes=0,40&sort=ue.end_time,desc&province="+a+"&city="+b+"&productId="+idpro
            console.log(url);
        }else if(a!=""&&b!=""&&c==""&&idstore!="0"&&idpro!="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=2&storeTypes=0,40&sort=ue.end_time,desc&province="+a+"&city="+b+"&productId="+idpro+"&storeId="+idstore
            console.log(url);
        }else if(a!=""&&b!=""&&c!=""&&idstore!="0"&&idpro=="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=2&storeTypes=0,40&sort=ue.end_time,desc&province="+a+"&city="+b+"&county="+c+"&storeId="+idstore
            console.log(url);
        }else if(a!=""&&b!=""&&c!=""&&idstore=="0"&&idpro!="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=2&storeTypes=0,40&sort=ue.end_time,desc&province="+a+"&city="+b+"&county="+c+"&productId="+idpro
            console.log(url);
        }else if(a!=""&&b!=""&&c!=""&&idstore!="0"&&idpro!="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=2&storeTypes=0,40&sort=ue.end_time,desc&province="+a+"&city="+b+"&county="+c+"&productId="+idpro+"&storeId="+idstore
            console.log(url);
        }

        $.ajax({
            url: url,
            method: "get",
            contentType: "application/json; charset=utf-8",
            cache: false,
            beforeSend: function (xhr) {
                /* Authorization header */
                xhr.setRequestHeader("firm", sessionStorage.firmFlag);
                xhr.setRequestHeader("Authorization", sessionStorage.token);
            },
            success: function (data) {

                $("#table").bootstrapTable('refresh', {'url': url});

            },
            error: function (jqXHR, textStatus, errorThrown) {
                console.log("失败");
                console.log(jqXHR);
            }
        });

    });
    $(".searchDQ3").on("click",function () {
        var url;
        var a=$(".selpr3").val();
        var b=$(".selci3").val();
        var c=$(".selco3").val();

        var myselect=document.getElementById("sectionName-s3");
        var index=myselect.selectedIndex ;
        idstore=myselect.options[index].value;
        console.log(idstore);
        var myselect2=document.getElementById("guigese3");
        var index2=myselect2.selectedIndex ;
        idpro=myselect2.options[index2].value;
        console.log(idpro);
        if (a==""&&idstore=="0"&&idpro=="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=3&storeTypes=0,40&sort=ue.store_code,asc"
            console.log(url);
        }else if(a==""&&idstore=="0"&&idpro!="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=3&storeTypes=0,40&sort=ue.store_code,asc&productId="+idpro
            console.log(url);
        }else if(a==""&&idstore!="0"&&idpro!="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=3&storeTypes=0,40&sort=ue.store_code,asc&productId="+idpro+"&storeId="+idstore
            console.log(url);
        }else if (a==""&&idstore!="0"&&idpro=="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=3&storeTypes=0,40&sort=ue.store_code,asc&storeId="+idstore
            console.log(url);
        }else if (a!=""&&b==""&&c==""&&idstore=="0"&&idpro=="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=3&storeTypes=0,40&sort=ue.store_code,asc&province="+a
            console.log(url);
        }else if(a!=""&&b!=""&&c==""&&idstore=="0"&&idpro=="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=3&storeTypes=0,40&sort=ue.store_code,asc&province="+a+"&city="+b
            console.log(url);
        }else if(a!=""&&b!=""&&c!=""&&idstore=="0"&&idpro=="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=3&storeTypes=0,40&sort=ue.store_code,asc&province="+a+"&city="+b+"&county="+c
            console.log(url);
        }else if (a!=""&&b!=""&&c!=""&&idstore!="0"&&idpro=="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=3&storeTypes=0,40&sort=ue.store_code,asc&province="+a+"&city="+b+"&county="+c+"&storeId="+idstore
            console.log(url);
        }else if (a!=""&&b!=""&&c!=""&&idstore!="0"&&idpro!="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=3&storeTypes=0,40&sort=ue.store_code,asc&province="+a+"&city="+b+"&county="+c+"&storeId="+idstore+"&productId="+idpro
            console.log(url);
        }else if (a!=""&&b!=""&&c!=""&&idstore=="0"&&idpro!="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=3&storeTypes=0,40&sort=ue.store_code,asc&province="+a+"&city="+b+"&county="+c+"&productId="+idpro
            console.log(url);
        }else if (a!=""&&b==""&&c==""&&idstore!="0"&&idpro=="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=3&storeTypes=0,40&sort=ue.store_code,asc&province="+a+"&storeId="+idstore
            console.log(url);
        }else if (a!=""&&b==""&&c==""&&idstore=="0"&&idpro!="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=3&storeTypes=0,40&sort=ue.store_code,asc&province="+a+"&productId="+idpro
            console.log(url);
        }else if (a!=""&&b==""&&c==""&&idstore!="0"&&idpro!="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=3&storeTypes=0,40&sort=ue.store_code,asc&province="+a+"&productId="+idpro+"&storeId="+idstore
            console.log(url);
        }else if(a!=""&&b!=""&&c==""&&idstore!="0"&&idpro=="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=3&storeTypes=0,40&sort=ue.store_code,asc&province="+a+"&city="+b+"&storeId="+idstore
            console.log(url);
        }else if(a!=""&&b!=""&&c==""&&idstore=="0"&&idpro!="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=3&storeTypes=0,40&sort=ue.store_code,asc&province="+a+"&city="+b+"&productId="+idpro
            console.log(url);
        }else if(a!=""&&b!=""&&c==""&&idstore!="0"&&idpro!="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=3&storeTypes=0,40&sort=ue.store_code,asc&province="+a+"&city="+b+"&productId="+idpro+"&storeId="+idstore
            console.log(url);
        }else if(a!=""&&b!=""&&c!=""&&idstore!="0"&&idpro=="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=3&storeTypes=0,40&sort=ue.store_code,asc&province="+a+"&city="+b+"&county="+c+"&storeId="+idstore
            console.log(url);
        }else if(a!=""&&b!=""&&c!=""&&idstore=="0"&&idpro!="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=3&storeTypes=0,40&sort=ue.store_code,asc&province="+a+"&city="+b+"&county="+c+"&productId="+idpro
            console.log(url);
        }else if(a!=""&&b!=""&&c!=""&&idstore!="0"&&idpro!="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&filterType=3&storeTypes=0,40&sort=ue.store_code,asc&province="+a+"&city="+b+"&county="+c+"&productId="+idpro+"&storeId="+idstore
            console.log(url);
        }

        $.ajax({
            url: url,
            method: "get",
            contentType: "application/json; charset=utf-8",
            cache: false,
            beforeSend: function (xhr) {
                /* Authorization header */
                xhr.setRequestHeader("firm", sessionStorage.firmFlag);
                xhr.setRequestHeader("Authorization", sessionStorage.token);
            },
            success: function (data) {

                $("#table").bootstrapTable('refresh', {'url': url});

            },
            error: function (jqXHR, textStatus, errorThrown) {
                console.log("失败");
                console.log(jqXHR);
            }
        });

    });
    $(".searchDQ4").on("click",function () {
        var url;
        var a=$(".selpr4").val();
        console.log(a);
        var b=$(".selci4").val();
        var c=$(".selco4").val();

        var myselect=document.getElementById("sectionName-s4");
        var index=myselect.selectedIndex ;
        idstore=myselect.options[index].value;
        console.log(idstore);
        var myselect2=document.getElementById("guigese4");
        var index2=myselect2.selectedIndex ;
        idpro=myselect2.options[index2].value;
        console.log(idpro);
        if (a==""&&idstore=="0"&&idpro=="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&storeTypes=20&sort=ue.store_code,asc"
            console.log(url);
        }else if(a==""&&idstore=="0"&&idpro!="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&storeTypes=20&sort=ue.store_code,asc&productId="+idpro
            console.log(url);
        }else if(a==""&&idstore!="0"&&idpro!="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&storeTypes=20&sort=ue.store_code,asc&productId="+idpro+"&storeId="+idstore
            console.log(url);
        }else if (a==""&&idstore!="0"&&idpro=="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&storeTypes=20&sort=ue.store_code,asc&storeId="+idstore
            console.log(url);
        }else if (a!=""&&b==""&&c==""&&idstore=="0"&&idpro=="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&storeTypes=20&sort=ue.store_code,asc&province="+a
            console.log(url);
        }else if(a!=""&&b!=""&&c==""&&idstore=="0"&&idpro=="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&storeTypes=20&sort=ue.store_code,asc&province="+a+"&city="+b
            console.log(url);
        }else if(a!=""&&b!=""&&c!=""&&idstore=="0"&&idpro=="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&storeTypes=20&sort=ue.store_code,asc&province="+a+"&city="+b+"&county="+c
            console.log(url);
        }else if (a!=""&&b!=""&&c!=""&&idstore!="0"&&idpro=="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&storeTypes=20&sort=ue.store_code,asc&province="+a+"&city="+b+"&county="+c+"&storeId="+idstore
            console.log(url);
        }else if (a!=""&&b!=""&&c!=""&&idstore!="0"&&idpro!="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&storeTypes=20&sort=ue.store_code,asc&province="+a+"&city="+b+"&county="+c+"&storeId="+idstore+"&productId="+idpro
            console.log(url);
        }else if (a!=""&&b!=""&&c!=""&&idstore=="0"&&idpro!="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&storeTypes=20&sort=ue.store_code,asc&province="+a+"&city="+b+"&county="+c+"&productId="+idpro
            console.log(url);
        }else if (a!=""&&b==""&&c==""&&idstore!="0"&&idpro=="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&storeTypes=20&sort=ue.store_code,asc&province="+a+"&storeId="+idstore
            console.log(url);
        }else if (a!=""&&b==""&&c==""&&idstore=="0"&&idpro!="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&storeTypes=20&sort=ue.store_code,asc&province="+a+"&productId="+idpro
            console.log(url);
        }else if (a!=""&&b==""&&c==""&&idstore!="0"&&idpro!="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&storeTypes=20&sort=ue.store_code,asc&province="+a+"&productId="+idpro+"&storeId="+idstore
            console.log(url);
        }else if(a!=""&&b!=""&&c==""&&idstore!="0"&&idpro=="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&storeTypes=20&sort=ue.store_code,asc&province="+a+"&city="+b+"&storeId="+idstore
            console.log(url);
        }else if(a!=""&&b!=""&&c==""&&idstore=="0"&&idpro!="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&storeTypes=20&sort=ue.store_code,asc&province="+a+"&city="+b+"&productId="+idpro
            console.log(url);
        }else if(a!=""&&b!=""&&c==""&&idstore!="0"&&idpro!="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&storeTypes=20&sort=ue.store_code,asc&province="+a+"&city="+b+"&productId="+idpro+"&storeId="+idstore
            console.log(url);
        }else if(a!=""&&b!=""&&c!=""&&idstore!="0"&&idpro=="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&storeTypes=20&sort=ue.store_code,asc&province="+a+"&city="+b+"&county="+c+"&storeId="+idstore
            console.log(url);
        }else if(a!=""&&b!=""&&c!=""&&idstore=="0"&&idpro!="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&storeTypes=20&sort=ue.store_code,asc&province="+a+"&city="+b+"&county="+c+"&productId="+idpro
            console.log(url);
        }else if(a!=""&&b!=""&&c!=""&&idstore!="0"&&idpro!="0"){
            url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=10&storeTypes=20&sort=ue.store_code,asc&province="+a+"&city="+b+"&county="+c+"&productId="+idpro+"&storeId="+idstore
            console.log(url);
        }

        $.ajax({
            url: url,
            method: "get",
            contentType: "application/json; charset=utf-8",
            cache: false,
            beforeSend: function (xhr) {
                /* Authorization header */
                xhr.setRequestHeader("firm", sessionStorage.firmFlag);
                xhr.setRequestHeader("Authorization", sessionStorage.token);
            },
            success: function (data) {

                $("#table").bootstrapTable('refresh', {'url': url});

            },
            error: function (jqXHR, textStatus, errorThrown) {
                console.log("失败");
                console.log(jqXHR);
            }
        });

    });
    var mapData=(function () {
        ajax("http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?limit=900&page=1&model=map","get",function (data1) {
            var data=[];
            var listdata=data1.list;
            $(".map").removeAttr('disabled');
            $(".map").html("地图");
            for(var i=0;i<listdata.length;i++){
                if(listdata[i]['lon']) {
                    data.push({'lon':listdata[i]['lon'],'lat':listdata[i]['lat']})}
            }
            large=data

        },function (err) {
            console.log(err)
        })
    })();
</script>
<script type="text/javascript">

    $(function () {
        $('#datetimepicker1').datetimepicker({
            format: 'YYYY-MM-DD HH:mm:ss'
        });
        $('#datetimepicker2').datetimepicker({
            format: 'YYYY-MM-DD HH:mm:ss'
        });
    });
    $(function(){
        getMissiveType();
        getMissiveType1();
        getMissiveType2();
    });
    function getMissiveType(){
        $.ajax({
                url: "http://cjl3.rokyinfo.net:7200/api-user/v3.1/ebikestores?types=2,3,6,40&sort=code,asc",
                method: "get",
                contentType: "application/json; charset=utf-8",
                processData:false,
                cache: false,
                beforeSend: function (xhr) {
                    xhr.setRequestHeader("firm", sessionStorage.firmFlag);
                    xhr.setRequestHeader("Authorization", sessionStorage.token);
                },
                success:function(data){
                    var len=data.list.length;
                    console.log(len);
                    $('#sectionName-s').attr("length",'0');
                    for(i=0;i<len;i++){
                        $("#sectionName-s").append($('<option value='+data.list[i].id+'>'+data.list[i].name+'</option>'));
                        $("#sectionName-s2").append($('<option value='+data.list[i].id+'>'+data.list[i].name+'</option>'));
                        $("#sectionName-s3").append($('<option value='+data.list[i].id+'>'+data.list[i].name+'</option>'));
                    }
                }
            }
        );
    }
    function getMissiveType1(){
        $.ajax({
                url: "http://cjl3.rokyinfo.net:7200/api-user/v3.1/ebikestores?types=20&sort=code,asc",
                method: "get",
                contentType: "application/json; charset=utf-8",
                processData:false,
                cache: false,
                beforeSend: function (xhr) {
                    xhr.setRequestHeader("firm", sessionStorage.firmFlag);
                    xhr.setRequestHeader("Authorization", sessionStorage.token);
                },
                success:function(data){
                    var len=data.list.length;
                    console.log(len);
                    $('#sectionName-s4').attr("length",'0');
                    for(i=0;i<len;i++){
                        $("#sectionName-s4").append($('<option value='+data.list[i].id+'>'+data.list[i].name+'</option>'));
                    }
                }
            }
        );
    }
    function getMissiveType2(){
        $.ajax({
                url: "http://cjl3.rokyinfo.net:7200/api-order/v3.1/specifications?sort=id,asc&categoryIds=3",
                method: "get",
                contentType: "application/json; charset=utf-8",
                processData:false,
                cache: false,
                beforeSend: function (xhr) {
                    xhr.setRequestHeader("firm", sessionStorage.firmFlag);
                    xhr.setRequestHeader("Authorization", sessionStorage.token);
                },
                success:function(data){
                    var len=data.list.length;
                    console.log(len);
                    $('#guigese').attr("length",'0');
                    for(i=0;i<len;i++){
                        $("#guigese").append($('<option value='+data.list[i].id+'>'+data.list[i].name+'</option>'));
                        $("#guigese2").append($('<option value='+data.list[i].id+'>'+data.list[i].name+'</option>'));
                        $("#guigese3").append($('<option value='+data.list[i].id+'>'+data.list[i].name+'</option>'));
                        $("#guigese4").append($('<option value='+data.list[i].id+'>'+data.list[i].name+'</option>'));
                    }
                }
            }
        );
    }
</script>
<script src="js/distpicker.data.js"></script>
<script src="js/distpicker.js"></script>
<script src="js/main.js"></script>
</html>
