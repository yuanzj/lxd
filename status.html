<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title id="title">后台管理系统</title>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="css/bootstrap-table.min.css">
    <link rel="stylesheet" href="css/bootstrap-editable.css">
    <link rel="stylesheet" href="assets/index.css">
    <script src="assets/index.js"></script>
    <script src="js/vue1.js"></script>
    <script src="js/axios.js"></script>
    <script src="assets/jquery.min.js"></script>
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=upXkuuhfOOuQkOlW7yxP0cVHRKIseXmc"></script>
    <!-- echart-->
    <script src="https://cdn.bootcss.com/echarts/4.0.2/echarts.min.js"></script>
    <link rel="stylesheet" href="css/bootstrap.min1.css">
    <!-- 最新版本的 Bootstrap 核心 CSS 文件 -->
    <link rel="stylesheet" href="css/public.css"/>

    <link rel="stylesheet" href="css/bootstrap-datetimepicker.css"/>
    <!-- bootstrap-datetimepicker插件CSS-->

    <!-- Latest compiled and minified JavaScript -->
    <script src="js/bootstrap-table.min.js"></script>

    <!-- Latest compiled and minified Locales -->
    <script src="js/bootstrap-table-zh-CN.min.js"></script>


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/json2/20140204/json2.min.js"></script>
    <script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js "></script>
    <script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

    <![endif]-->
</head>
<body>
<!-- rent -->
<div id="wrap-stay" class="wrap-div">
    <div class="wrap-bar">
        <p class="wrap-title">租用信息</p>
    </div>
    <div style="width: 830px;height: 460px;background: #FFF;margin: 0 auto;opacity: 1">
        <p style="font-size: 20px;font-weight: 700;padding: 10px">车辆号&nbsp;<span class="carNumber">B00000001</span></p>
        <p style="padding:10px;">用车人微信号昵称:&nbsp;&nbsp;<span style="font-weight: 700" class="wxName">XXX</span></p>
        <p style="padding:10px;">用车人身份证号:&nbsp;&nbsp;<span style="font-weight: 700" class="idNum" ></span></p>
        <div>
            <p style="padding: 10px; display: inline-block">押金(元): </p><div type="text" class=" money  " style="display: inline-block;width: 160px;margin-left: 15px;color:#777;"></div>
            <p style="padding: 10px; display: inline-block">余额（元）: </p><div type="text" class="  balance " style="display: inline-block;width: 160px;margin-left: 15px; color:#777;"></div>
            <p style="padding: 10px; display: inline-block">费用（元）: </p><div type="text" class=" cost  " style="display: inline-block;width: 160px;margin-left: 15px;color:#777;"></div>
        </div>
        <div>
        <p style="padding: 11px; display: inline-block">用车人姓名: </p><input type="text" class="form-control carmanName disabled" style="display: inline-block;width: 300px">
        <p style="padding: 9px; display: inline-block">用车人手机号：</p><input type="text" class="form-control carmanPhone" style="display: inline-block;width: 300px">
    </div>

        <div>
            <p style="padding: 10px; display: inline-block">租用天数: </p><input type="text" class="form-control  remainday " style="display: inline-block;width: 300px;margin-left: 14px;">
        </div>
        <div >
            <p style="padding: 10px; display: inline-block">开始时间: </p><input type="text" class="form-control startTime"  style="display: inline-block;width: 300px;margin-left: 14px;" id='datetimepicker1' >
            <p style="padding: 8px; display: inline-block">结束时间: </p><input type="text" class="form-control endTime" style="display: inline-block;width: 300px;margin-left: 38px;" id='datetimepicker2' >

        </div>
        <div>

        <p style="padding: 10px; display: inline-block">更换车辆: </p><input type="text" class="form-control  change " value="请输入要更换的车辆序列号" onblur="if(this.value==''){this.value='请输入要更换的车辆序列号'}" onfocus="if(this.value=='请输入要更换的车辆序列号'){this.value=''}" style="display: inline-block;width: 300px;margin-left: 14px;">
        <button type="button" class="mybtn button-primary "  id="btn-change" style="width: 100px;display: inline-block; margin-left:5px;">确认</button>
        </div>
        <div style="float: right;margin-top: 1px;margin-right: 28px">

            <!--<button type="button" class="mybtn button-primary  sendAll" style="width: 100px;background: #169BD5;color:#F3F3F3">确定</button>-->



            <button type="button" class="mybtn button-primary  sendAll" id="sendAll" style="width: 100px;background: #636161;color:#F3F3F3">确定</button>
            <!--  提示框-->


            <button type="button" class="mybtn button-primary calloff" style="width: 100px">取消</button>
        </div>
    </div>
</div>

<!--666-->
<div id="wrap" class="wrap-div">
    <div class="wrap-bar">
        <p class="wrap-title">网点列表</p>
    </div>
    <div style="width: 680px;height: 340px;background: #FFF;margin: 0 auto;opacity: 1">
        <p style="font-size: 20px;font-weight: 700;padding: 10px">车辆序列号&nbsp;<span class="carNumber">{{carid}}</span>
        </p>
        <div id="app">
            <label style="display: block;margin-top: 0px">
                <ul class="nav nav-pills nav-stacked" style="overflow-y: scroll;-ms-overflow-y:scroll; height:220px;">
                    <li v-for="(item,index) in message" style="font-size:15px; font-weight:500;"><a
                            @click="online(index,item.id,$event)" class="hoverE">{{item.name}}({{item.address}})</a>
                    </li>
                </ul>
            </label>
        </div>

        <div style="float: right;margin-top: 10px;margin-right: 20px">
            <button type="button" class="mybtn button-primary  " id="wrap-btn-on"
                    style="width: 100px;background: #636161;color:#F3F3F3;display: inline-block; margin-right:5px;">确定
            </button>
            <!--  提示框-->
            <button type="button" class="mybtn button-primary " id="wrap-btn-off"
                    style="width: 100px;display: inline-block;float: right">取消
            </button>
        </div>
    </div>
</div>
<!-- fault  -->
<div id="wrap2" class="wrap-div">
    <div style="width: 600px;height: 32px;background: #636161;margin: 0 auto;margin-top: 100px;opacity: 1">
        <p style="font-size: 18px; color:#FFF; font-weight:600;line-height: 28px;margin-left: 15px">故障详情</p>
    </div>
    <div style="width: 600px;height: 250px;background: #FFF;margin: 0 auto;opacity: 1">
        <p style="font-size: 20px;font-weight: 700;padding: 10px">车辆序列号&nbsp;<span class="carNumber">{{carid}}</span>
        </p>
        <p style="padding: 10px">故障描述:&nbsp;<span class="miaoshu">{{carid}}</span></p>
        <p style="padding: 10px">维修建议:&nbsp;<span class="jianyi">{{carid}}</span></p>
        <div style="float: right;margin-top: 30px;margin-right: 20px">
            <button type="button" class="mybtn button-primary  " id="666"
                    style="width: 100px;background: #636161;color:#F3F3F3;display: inline-block">确定
            </button>
        </div>
    </div>
</div>
<!-- fault  -->

<!-- cardetails  -->
<div id="wrap1" class="wrap-div">
    <div style="width: 600px;height: 32px;background: #636161;margin: 0 auto;margin-top: 100px;opacity: 1">
        <p style="font-size: 18px; color:#FFF; font-weight:600;line-height: 28px;margin-left: 15px">远程操控</p>
    </div>
    <div style="width: 600px;height: 220px;background: #FFF;margin: 0 auto;opacity: 1">
        <p style="font-size: 20px;font-weight: 700;padding: 10px">车辆序列号&nbsp;<span class="carNumber">{{carid}}</span>
        </p>
        <div style="float: left;margin-top: 20px; padding-left:70px;width: 100%;">
            <button type="button" class="mybtn button-primary my-btngroup" id="btn-7">启用</button>
            <button type="button" class="mybtn button-primary my-btngroup" id="btn-6">停止</button>
            <button type="button" class="mybtn button-primary my-btngroup" id="btn-5">重启</button>
            <button type="button" class="mybtn button-primary my-btngroup" id="btn-tz">退租</button>
        </div>
        <!--<div style="float: left;margin-top: 30px;  padding-left:34%;">-->
        <!--<button type="button" class="mybtn button-primary "  id="btn-6" style="width: 100px;display: inline-block;float: left; margin-right:5px;">冻结电池</button>-->
        <!--<button type="button" class="mybtn button-primary " id="btn-7" style="width: 100px;display: inline-block;float: left;margin-right:5px;">取消冻结</button>-->
        <!--</div>-->
        <div style="float: right;margin-top: 60px;margin-right: 40px">
            <button type="button" class="mybtn button-primary " id="555"
                    style="width: 100px;float: right;background: #636161;color:#F3F3F3;display: inline-block">取消
            </button>
        </div>
    </div>
</div>
<!-- cardetails  -->

<!-- cardetailsyc  -->
<div id="wrap-remov" class="wrap-div">
    <div class="wrap-bar">
        <p class="wrap-title">电池移除</p>
    </div>
    <div style="width: 450px;height: 150px;background: #FFF;margin: 0 auto;opacity: 1">
        <p style="font-size: 18px;font-weight: 500; font-family:'等线';padding: 10px">是否移除异常电池&nbsp;<span
                class="carNumber">{{carid}}</span></p>

        <div style="float: right;margin-top: 50px;margin-right: 25px">
            <button type="button" class="btn btn-default" id="rem-y"
                    style="width: 90px;background: #636161;color:#F3F3F3;display: inline-block">是
            </button>
            <button type="button" class="btn btn-default" id="rem-n"
                    style="width: 90px;background: #636161;color:#F3F3F3;display: inline-block">否
            </button>
        </div>
    </div>
</div>

<!-- cardetailsyc  -->
<div id="guiji" class="wrap-div">
    <div class="wrap-bar">
        <p class="wrap-title">当日轨迹<span class="wrap-close" id="gjclose">×</span></p>
    </div>
    <div class="chart-div">
        <div id="allmap" style="width: 900px;height: 700px;background: #FFF;opacity: 1;margin:0 auto;"></div>
    </div>
</div>

<!-- cardetailsyc  -->
<div id="weizhi" class="wrap-div">
    <div class="wrap-bar">
        <p class="wrap-title">当前定位<span class="wrap-close" id="wzclose">×</span></p>
    </div>
    <div class="chart-div">
        <div id="allmap2" style="width: 900px;height: 700px;background: #FFF;opacity: 1;margin:0 auto;"></div>
    </div>
</div>

<!-- cardetailsyc  -->
<div id="chart1" class="wrap-div">
    <div class="wrap-bar">
        <p class="wrap-title">序列号&nbsp;<span class="carNumber">{{carid}}</span><span
                style="float: right;margin-right: 15px;font-size: 32px;cursor: pointer;color: white;margin-top: -10px"
                id="dyclose">×</span></p>
    </div>
    <div class="chart-div">
        <div id="timeDianya" style="padding-top: 30px">
            <input type="text" class="form-control chartstartTime" placeholder="起始时间"
                   style="display: inline-block;width: 200px;margin-left: 15px" id='datetimepicker3'> — <input
                type="text"
                class="form-control chartendTime" placeholder="结束时间" style="display: inline-block;width: 200px;"
                id='datetimepicker4'>
            <button class="mybtn button-primary" id="chartSearch" style="margin-left: 5px;margin-top: -2px;">
                查询
            </button>
        </div>
        <div id="main" style="width: 900px;height:560px;margin-top: 20px;"></div>


    </div>
</div>

<!-- cardetailsyc  -->
<div id="chart2" class="wrap-div">
    <div class="wrap-bar">

        <p class="wrap-title">序列号&nbsp;<span class="carNumber">{{carid}}</span><span
                style="float: right;margin-right: 15px;font-size: 32px;cursor: pointer;color: white;margin-top: -10px"
                id="lcclose">×</span></p>

    </div>
    <div class="chart-div">
        <div id="timeLicheng" style="padding-top: 30px">
            <input type="text" class="form-control chartstartTime" placeholder="起始时间"
                   style="display: inline-block;width: 200px;margin-left: 15px" id='datetimepicker5'> — <input
                type="text"
                class="form-control chartendTime" placeholder="结束时间" style="display: inline-block;width: 200px;"
                id='datetimepicker6'>
            <button class="mybtn button-primary" id="chartSearch2" style="margin-left: 5px;margin-top: -2px;">
                查询
            </button>
        </div>
        <div id="main2" style="width: 900px;height:560px;margin-top: 20px"></div>

    </div>
</div>

<!--用户里程统计-->
<div id="chart3" class="wrap-div">
    <div class="wrap-bar">

        <p class="wrap-title"><span class="userRealName"></span><span
                style="float: right;margin-right: 15px;font-size: 32px;cursor: pointer;color: white;margin-top: -10px"
                id="userMileage">×</span></p>

    </div>
    <div class="chart-div">
        <div id="main3" style="width: 900px;height:580px"></div>
    </div>
</div>

<!-- Fixed navbar -->

<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="">
        <div class="navbar-header;">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar"
                    aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li class="dropdown" id="name"><a class="dropdown-toggle" data-target="#" data-toggle="dropdown"
                                                  style="margin-left: 10%;     white-space: nowrap;" id="navbarID">{{navname}}</a>
                    <ul class="dropdown-menu" style="margin-left: 10%; white-space: nowrap;">
                        <li><a href="#" @click="changeName(index)" v-for="(item,index) in message">{{item.name}}</a>
                        </li>
                    </ul>
                </li>
                <li style="margin-left: 20px;"><a href="#">地图展示</a></li>
                <li id="tabOption"><a href="index.html">车况列表</a></li>
                <li><a href="#">车辆管理</a></li>
                <li><a href="wangdian.html">网点管理</a></li>
                <li><a href="#">用户管理</a></li>
            </ul>
        </div><!--/.nav-collapse -->
    </div>
</nav>

<div class="content">
    <div class="container">
        <div class="fixed-table-toolbar">
            <ul class="nav nav-tabs mytabs" id="mytabs">
                <li class="item active" id="tabletab5"><a href="#">异常电池</a></li>
                <li class="item" id="tabletab6"><a href="#">售后电池</a></li>
                <li class="item" id="tabletab2"><a href="#">逾期租赁电池</a></li>
                <li class="item" id="tabletab1"><a href="#">已租赁电池</a></li>
                <li class="item" id="tabletab3"><a href="#">待租赁电池</a></li>
                <li class="item" id="tabletab4"><a href="#">仓库电池</a></li>
            </ul>
        </div>
        <div id="toolbar">
            <div class="my-container-status">

                <div data-toggle="distpicker" id="table1" class="form-inline topinline status">
                    <input type="text" class="form-control search-input searchResult"
                           placeholder="输入序列号" onblur="if(this.placeholder==''){this.placeholder='输入序列号'}"
                           onfocus="if(this.placeholder=='输入序列号'){this.placeholder=''}">
                    <button type="button" class="mybtn button-primary searchCcusn searchCcu">
                        <span class="glyphicon glyphicon-search"></span></button>

                    <select data-province="---- 选择省 ----" class="form-control selpr"
                            style="margin-left: 20px;"></select>
                    <select data-city="---- 选择市 ----" class="form-control selci"></select>
                    <select data-district="---- 选择区 ----" class="form-control selco"></select>

                    <select type="text" name="sectionName-s" id="sectionName-s" class="form-control wangdianse"
                            onChange="move1()">
                        <option selected="selected" value="0">---分站---</option>
                    </select>

                    <select type="text" class="form-control erjise" id="erjise">
                        <option selected="selected" value="0">---驿站---</option>

                    </select>

                    <select type="text" class="form-control guigese" id="guigese">
                        <option selected="selected" value="0">---选择规格---</option>

                    </select>
                    <button type="button" class="mybtn button-primary searchDQ">查询</button>
                </div>
                <div data-toggle="distpicker" id="table2" class="form-inline topinline status">
                    <input type="text" class="form-control search-input searchResult2"
                           placeholder="输入序列号" onblur="if(this.placeholder==''){this.placeholder='输入序列号'}"
                           onfocus="if(this.placeholder=='输入序列号'){this.placeholder=''}">
                    <button type="button" class="mybtn button-primary searchCcusn searchCcu2">
                        <span class="glyphicon glyphicon-search"></span></button>

                    <select data-province="---- 选择省 ----" class="form-control selpr2"
                            style="margin-left: 20px;"></select>
                    <select data-city="---- 选择市 ----" class="form-control selci2"></select>
                    <select data-district="---- 选择区 ----" class="form-control selco2"></select>

                    <select type="text" name="sectionName-s" id="sectionName-s2" class="form-control wangdianse"
                            onChange="move2()">
                        <option selected="selected" value="0">---分站---</option>
                    </select>

                    <select type="text" class="form-control erjise" id="erjise2">
                        <option selected="selected" value="0">---驿站---</option>

                    </select>

                    <select type="text" class="form-control guigese" id="guigese2">
                        <option selected="selected" value="0">---选择规格---</option>

                    </select>
                    <button type="button" class="mybtn button-primary  searchDQ2">查询</button>
                </div>
                <div data-toggle="distpicker" id="table3" class="form-inline topinline status">
                    <input type="text" class="form-control search-input searchResult3"
                           placeholder="输入序列号" onblur="if(this.placeholder==''){this.placeholder='输入序列号'}"
                           onfocus="if(this.placeholder=='输入序列号'){this.placeholder=''}">
                    <button type="button" class="mybtn button-primary searchCcusn searchCcu3">
                        <span class="glyphicon glyphicon-search"></span></button>

                    <select data-province="---- 选择省 ----" class="form-control selpr3"
                            style="margin-left: 20px;"></select>
                    <select data-city="---- 选择市 ----" class="form-control selci3"></select>
                    <select data-district="---- 选择区 ----" class="form-control selco3"></select>

                    <select type="text" name="sectionName-s" id="sectionName-s3" class="form-control wangdianse"
                            onChange="move3()">
                        <option selected="selected" value="0">---分站---</option>
                    </select>

                    <select type="text" class="form-control erjise" id="erjise3">
                        <option selected="selected" value="0">---驿站---</option>

                    </select>

                    <select type="text" class="form-control guigese" id="guigese3">
                        <option selected="selected" value="0">---选择规格---</option>

                    </select>
                    <button type="button" class="mybtn button-primary  searchDQ3">查询</button>
                </div>
                <div data-toggle="distpicker" id="table4" class="form-inline topinline status">
                    <input type="text" class="form-control search-input searchResult4"
                           placeholder="输入序列号" onblur="if(this.placeholder==''){this.placeholder='输入序列号'}"
                           onfocus="if(this.placeholder=='输入序列号'){this.placeholder=''}">
                    <button type="button" class="mybtn button-primary searchCcusn searchCcu4">
                        <span class="glyphicon glyphicon-search"></span></button>

                    <select data-province="---- 选择省 ----" class="form-control selpr4"
                            style="margin-left: 20px;"></select>
                    <select data-city="---- 选择市 ----" class="form-control selci4"></select>
                    <select data-district="---- 选择区 ----" class="form-control selco4"></select>

                    <select type="text" name="sectionName-s" id="sectionName-s4" class="form-control wangdianse">
                        <option selected="selected" value="0">---分站---</option>
                    </select>

                    <!--<select type="text" class="form-control erjise" id="erjise4" style="display: inline-block;width: 140px;margin-left: 2px;">-->
                    <!--<option selected = "selected" value="0">-&#45;&#45;驿站-&#45;&#45;</option>-->

                    <!--</select>-->

                    <select type="text" class="form-control guigese" id="guigese4">
                        <option selected="selected" value="0">---选择规格---</option>

                    </select>
                    <button type="button" class="mybtn button-primary  searchDQ4">查询</button>
                </div>
                <div data-toggle="distpicker" id="table5" class="form-inline topinline status">
                    <input type="text" class="form-control search-input searchResult5"
                           placeholder="输入序列号" onblur="if(this.placeholder==''){this.placeholder='输入序列号'}"
                           onfocus="if(this.placeholder=='输入序列号'){this.placeholder=''}">
                    <button type="button" class="mybtn button-primary searchCcusn searchCcu5">
                        <span class="glyphicon glyphicon-search"></span></button>

                    <select data-province="---- 选择省 ----" class="form-control selpr5"
                            style="margin-left: 20px;"></select>
                    <select data-city="---- 选择市 ----" class="form-control selci5"></select>
                    <select data-district="---- 选择区 ----" class="form-control selco5"></select>

                    <select type="text" name="sectionName-s" id="sectionName-s5" class="form-control wangdianse"
                            onChange="move5()">
                        <option selected="selected" value="0">---分站---</option>
                    </select>

                    <select type="text" class="form-control erjise" id="erjise5">
                        <option selected="selected" value="0">---驿站---</option>

                    </select>

                    <select type="text" class="form-control guigese" id="guigese5">
                        <option selected="selected" value="0">---选择规格---</option>

                    </select>
                    <button type="button" class="mybtn button-primary  searchDQ5">查询</button>
                </div>
                <div data-toggle="distpicker" id="table6" class="form-inline topinline status">
                    <input type="text" class="form-control search-input searchResult6"
                           placeholder="输入序列号" onblur="if(this.placeholder==''){this.placeholder='输入序列号'}"
                           onfocus="if(this.placeholder=='输入序列号'){this.placeholder=''}">
                    <button type="button" class="mybtn button-primary searchCcusn searchCcu6">
                        <span class="glyphicon glyphicon-search"></span></button>

                    <select data-province="---- 选择省 ----" class="form-control selpr6"
                            style="margin-left: 20px;"></select>
                    <select data-city="---- 选择市 ----" class="form-control selci6"></select>
                    <select data-district="---- 选择区 ----" class="form-control selco6"></select>

                    <select type="text" name="sectionName-s" id="sectionName-s6" class="form-control wangdianse"
                            onChange="move6()">
                        <option selected="selected" value="0">---分站---</option>
                    </select>

                    <select type="text" class="form-control erjise" id="erjise6">
                        <option selected="selected" value="0">---驿站---</option>

                    </select>

                    <select type="text" class="form-control guigese" id="guigese6">
                        <option selected="selected" value="0">---选择规格---</option>

                    </select>
                    <button type="button" class="mybtn button-primary searchDQ6">查询</button>
                </div>
                <script type="text/javascript">
                    document.getElementById("table1").style.display = "none";
                    document.getElementById("table2").style.display = "none";
                    document.getElementById("table3").style.display = "none";
                    document.getElementById("table4").style.display = "none";
                    document.getElementById("table5").style.display = "block";
                    document.getElementById("table6").style.display = "none";

                </script>
            </div>
        </div>
        <div id="map"></div>
        <table id="table"
               data-ajax="ajaxRequest"
               data-search="false"
               data-show-refresh="true"
               data-show-toggle="false"
               data-show-columns="true"
               data-show-export="false"
               data-toolbar="#toolbar"
               data-minimum-count-columns="2"
               data-pagination="true"
               data-id-field="ccuSn"
               data-page-list="[10, 20, 50, 100, ALL]"
               data-show-footer="false"
               data-side-pagination="server"
               data-url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?sort=ebike.create_time,desc&adminFlag=cjl"
               data-cache="true"
               data-response-handler="responseHandler">
        </table>

    </div>
</div>

</body>
<!--/jquery.文件-->
<!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
<script type="text/javascript" src="js/moment.js"></script>
<!-- 最新的 Bootstrap 核心 Moment文件 -->
<script type="text/javascript" src="js/bootstrap-datetimepicker.min.js"></script>
<!-- 最新的 Bootstrap 核心 DateTime文件 -->


<script>


   window.onload = function(){
   document.getElementById('name').disabled=true;
	};
  var nameindex=0;
   document.getElementById("tabOption").getElementsByTagName("a")[0].style.color="white";
    var $table = $('#table');
    var dataResult;
    var rr=1;
    var orFault;
    var  orOnLine;
    var timer=0;
    var cc=0;
    var  timer2=0;
   $("#tabletab5").on("click",function () {
       document.getElementById("table1").style.display="none";
       document.getElementById("table2").style.display="none";
       document.getElementById("table3").style.display="none";
       document.getElementById("table4").style.display="none";
       document.getElementById("table5").style.display="block";
       document.getElementById("table6").style.display="none";
   });
   $("#tabletab6").on("click",function () {
       document.getElementById("table1").style.display="none";
       document.getElementById("table2").style.display="none";
       document.getElementById("table3").style.display="none";
       document.getElementById("table4").style.display="none";
       document.getElementById("table5").style.display="none";
       document.getElementById("table6").style.display="block";
   });
   $("#tabletab1").on("click",function () {
       document.getElementById("table1").style.display="block";
       document.getElementById("table2").style.display="none";
       document.getElementById("table3").style.display="none";
       document.getElementById("table4").style.display="none";
       document.getElementById("table5").style.display="none";
       document.getElementById("table6").style.display="none";

   });
   $("#tabletab2").on("click",function () {
       document.getElementById("table1").style.display="none";
       document.getElementById("table2").style.display="block";
       document.getElementById("table3").style.display="none";
       document.getElementById("table4").style.display="none";
       document.getElementById("table5").style.display="none";
       document.getElementById("table6").style.display="none";

   });
   $("#tabletab3").on("click",function () {
       document.getElementById("table1").style.display="none";
       document.getElementById("table2").style.display="none";
       document.getElementById("table3").style.display="block";
       document.getElementById("table4").style.display="none";
       document.getElementById("table5").style.display="none";
       document.getElementById("table6").style.display="none";
   });
   $("#tabletab4").on("click",function () {
       document.getElementById("table1").style.display="none";
       document.getElementById("table2").style.display="none";
       document.getElementById("table3").style.display="none";
       document.getElementById("table4").style.display="block";
       document.getElementById("table5").style.display="none";
       document.getElementById("table6").style.display="none";
   });
   var url;
   url ="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=4&exceptionFlag=1&sort=ue.end_time,desc";

   $(function () {
       $("#mytabs li").click(function () {
           $(this).siblings('li').removeClass('active');  // 删除其他兄弟元素的样式

           $(this).addClass('active');                            // 添加当前元素的样式
           $(".item").each(function (index, element) {
               if ($(this).hasClass("active")) {

                   if ($(this).text() == "已租赁电池") {
                       url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=4&storeTypes=0,40&filterType=1&sort=ue.end_time,desc";
                       $(function () {
                           initTable();
                           $table.bootstrapTable("hideColumn", "w");
                           $table.bootstrapTable("hideColumn", "re");
                       });

                   } else if ($(this).text() == "逾期租赁电池") {
                       url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=4&storeTypes=0,40&filterType=2&sort=ue.end_time,desc";
                       $(function () {
                           initTable();
                           $table.bootstrapTable("hideColumn", "w");
                           $table.bootstrapTable("hideColumn", "re");
                       });
                   } else if ($(this).text() == "待租赁电池") {
                       url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=4&storeTypes=0,40&filterType=3&sort=ue.store_code,asc";
                       $(function () {
                           initTable();
                           $table.bootstrapTable("hideColumn", "w");
                           $table.bootstrapTable("hideColumn", "re");
                       });
                   } else if ($(this).text() == "仓库电池") {
                       url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=4&category=0&sort=ue.store_code,asc";
                       $(function () {
                           initTable();
                           $table.bootstrapTable("hideColumn", "w");
                           $table.bootstrapTable("hideColumn", "re");
                       });
                   } else if ($(this).text() == "异常电池") {
                       url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=4&exceptionFlag=1&sort=ue.end_time,desc";
                       initTable();

                   } else if ($(this).text() == "售后电池") {
                       url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=4&afterSaleFlag=1&sort=ue.end_time,desc";
                       $(function () {
                           initTable();
                           $table.bootstrapTable("hideColumn", "w");


                       });

                   }
                   console.log(url)

               }
           });


       });


   });


    var  title=document.getElementById("title");
    var navid=document.getElementById("navbarID");

   var source = null;
   // your custom ajax request here
   function ajaxRequest(params) {
       if (source != null) {
           source.cancel('Operation canceled by the user.');
           source = null
       }

       var CancelToken = axios.CancelToken;
       source = CancelToken.source();

       axios.get(params.url,{
           cancelToken: source.token,
           headers:{
               "Content-Type": "application/json;charset=UTF-8",
               "firm": JSON.parse(sessionStorage.name)[sessionStorage.Vname].flag,
               "Authorization": sessionStorage.token
           },
           params:params.data
       })
           .then(function(response){
               params.success(response.data)

           })
           .catch(function(error){
               console.log(error)
           });
   }

   function initTable() {
       $table.bootstrapTable("destroy");
       $table.bootstrapTable({
           height: getHeight(),
           url: url,
           method: 'GET',
           dataType: 'json',
           contentType: "application/json; charset=utf-8",
           cache: false,
           striped: true,                              //是否显示行间隔色
           onLoadError: function (data) {
               $table.bootstrapTable("refresh", {silent: true});
           },
           ajaxOptions: {
               headers: {
                   "firm": JSON.parse(sessionStorage.name)[sessionStorage.Vname].flag,
                   "Authorization": sessionStorage.token
               }
           },
           queryParams: queryParams,
           minimumCountColumns: 2,
           pageNumber: 1,                       //初始化加载第一页，默认第一页
           pageSize: 100,                       //每页的记录行数（*）
           pageList: [10, 20, 100],        //可供选择的每页的行数（*）
           columns: [

               {
                   field: '',
                   title: '',
                   align: 'center',
                   valign: 'middle',
                   formatter: function (value, row, index) {
                       /*console.log((dataResult.pageSize * (dataResult.currPage - 1)) + index + 1)*/
                       return (dataResult.pageSize * (dataResult.currPage - 1)) + index + 1;
                   }
               },


               {
                   field: 'stand',
                   title: '规格',
                   align: 'center',
                   valign: 'middle',
                   formatter: standFormatter

               },
               {
                   field: 'ccuSn',
                   title: '序列号',
                   align: 'center',
                   valign: 'middle',
                   events: operateEvents, //22
                   formatter: snFormatter
               },
               {
                   field: 'a',
                   title: '省',
                   align: 'center',
                   valign: 'middle',
                   formatter: function provinceFormatter(value, row, index) {
                       if (row.ebikeStoreEntity != null) {
                           if (row.ebikeStoreEntity.province == null || row.ebikeStoreEntity.province == "null") {
                               inner = ""
                           }

                           else {
                               var inner = row.ebikeStoreEntity ? row.ebikeStoreEntity.province : ""
                           }
                       }
                       else {
                           inner = ""
                       }
                       var color = 'nowwrp'
                       return [

                           '<span class=' + color + '>' + inner + '</span>'


                       ].join("")
                   }

               },
               {
                   field: 'b',
                   title: '市',
                   align: 'center',
                   valign: 'middle',
                   formatter: function cityFormatter(value, row, index) {
                       if (row.ebikeStoreEntity != null) {
                           if (row.ebikeStoreEntity.city == null || row.ebikeStoreEntity.city == "null") {
                               inner = ""
                           }

                           else {
                               var inner = row.ebikeStoreEntity ? row.ebikeStoreEntity.city : ""
                           }
                       }
                       else {
                           inner = ""
                       }
                       var color = 'nowwrp'
                       return [

                           '<span class=' + color + '>' + inner + '</span>'


                       ].join("")
                   }

               }
               // ,
               // {
               //     field: 'c',
               //     title: '区/县',
               //     align: 'center',
               //     valign: 'middle',
               //     formatter: function countyFormatter(value, row, index) {
               //         if (row.ebikeStoreEntity != null) {
               //             if (row.ebikeStoreEntity.county == null || row.ebikeStoreEntity.county == "null") {
               //                 inner = ""
               //             }
               //
               //             else {
               //                 var inner = row.ebikeStoreEntity ? row.ebikeStoreEntity.county : ""
               //             }
               //         }
               //         else {
               //             inner = ""
               //         }
               //         var color = 'nowwrp'
               //         return [
               //
               //             '<span class=' + color + '>' + inner + '</span>'
               //
               //
               //         ].join("")
               //     }
               //
               // }
               ,
               {
                   field: 'dealerStoreName',
                   title: '分站',
                   align: 'center',
                   valign: 'middle',
                   formatter: dealerFormatter
               },
               {
                   field: 'storeName',
                   title: '驿站',
                   align: 'center',
                   valign: 'middle',
                   formatter: lineFormatter
               },
               {

                   field: 'realname',
                   title: '用户姓名',
                   align: 'center',
                   valign: 'middle',
                   events: operateEvents,
                   formatter: realFormatter

               },
               {

                   field: 'link',
                   title: '联系方式',
                   align: 'center',
                   valign: 'middle',
                   formatter: linkFormatter

               }, {
                   field: 'deposit',
                   title: '押金',
                   align: 'center',
                   valign: 'middle',
                   formatter: yajin1Formatter
               },
               {
                   field: 'usedDays',
                   title: '租期',
                   align: 'center',
                   valign: 'middle'
               }, {
                   field: 'surplusTime',
                   title: '有效期',
                   align: 'center',
                   valign: 'middle',
                   formatter: youxFormatter

               },
               {
                   field: 'jinyong',
                   title: '禁用状态',
                   align: 'center',
                   valign: 'middle',
                   formatter: jinyongFormatter
               },
               {
                   field: 'status',
                   title: '状态',
                   align: 'center',
                   valign: 'middle',
                   formatter: zhuangtFormatter
               },
               {

                   field: 'voltageString',
                   title: '电压(/V)',
                   align: 'center',
                   valign: 'middle',
                   events: operateEvents,
                   formatter: volFormatter

               },

               {
                   field: 'bmsSoc',
                   title: '电量',
                   align: 'center',
                   valign: 'middle',
                   formatter: bmcFormatter
               },

               {
                   field: 'odo',
                   title: '里程',
                   align: 'center',
                   valign: 'middle',
                   events: operateEvents,
                   formatter: odoFormatter
               },
               {
                   field: 'dayOdo',
                   title: '今日里程',
                   align: 'center',
                   valign: 'middle',
                   events: operateEvents,
                   formatter: dayodoFormatter
               },
               {
                   field: 'address',
                   title: '位置',
                   align: 'center',
                   valign: 'middle',
                   events: operateEvents,
                   formatter: addressFormatter
               },
               {
                   field: 'reportTime',
                   title: '更新时间',
                   align: 'center',
                   valign: 'middle',
                   formatter: reportTimeFormatter
               },
               {
                   field: 'w',
                   title: '异常原因',
                   align: 'center',
                   valign: 'middle',
                   formatter: reasonFormatter
               },
               {
                   field: 're',
                   title: '编辑',
                   align: 'center',
                   valign: 'middle',
                   events: operateEvents,
                   formatter: removeFormatter
               }


           ]
       });
       // sometimes footer render error.
   }
//   var timer2=window.setTimeout(function(){
//       $table.bootstrapTable("refresh", {silent: true});
//   },1000);
   function createTimeFormatter(value, row, index) {
       var inner = row.createTime;
       var color = 'nowwrp1';
       return [
           '<span class=' + color + '>' + inner + '</span>'
       ].join('');
   }//
   function reportTimerFormatter(value, row, index) {
       var inner = row.reportTime;
       var color = 'nowwrp1';
       return [
           '<span class=' + color + '>' + inner + '</span>'
       ].join('');
   }

   function snFormatter(value, row, index) {
       var inner;
       $(".item").each(function (index, element) {
           if ($(this).hasClass("active")) {
               if ($(this).text() == "异常电池") {
                   inner = row.ccuSn;
               }
               else {
                   inner = '<a id="like2" class="like2" href="#" title="车辆远程操控">' + row.ccuSn + '</a>';
               }
               return inner;
           }
           return inner
       });
       return [
           '<span>' + inner + '</span>'
       ].join("")

   }//序列号
   function volFormatter(value, row, index) {
       return [
           '<div class="nowwrp">',
           '<a class="like4" href="#" title="点击查看电压趋势">',
           row.voltageString,
           '</a>',
           '</div>'
       ].join("")

   }//电压
   function standFormatter(value, row, index) {
       var inner;
       if (row.productEntity != null && row.productEntity != "null") {
           if (row.productEntity.name != null && row.productEntity.name != "null") {
               inner = row.productEntity.name;
           }
           else {
               inner = "-";
           }
       }
       else {
           inner = "-";
       }
       return [
           '<span>' + inner + '</span>'
       ].join('');
   }//规格
   function dealerFormatter(value, row, index) {
       var color = 'nowwrp';
       if (row.dealerStoreName == null) {
           inner = "";
           return [
               '<span class=' + color + '>' + inner + '</span>'
           ].join("")
       }
       else {

           inner = row.dealerStoreName;
           return [
               '<span class=' + color + '>' + inner + '</span>'
           ].join("")
       }
   }//分站
   function lineFormatter(value, row, index) {
       var color = 'nowwrp';
       if (row.storeName == null) {
           inner = "";
           return [
               '<span class=' + color + '>' + inner + '</span>'
           ].join("")
       }
       else {

           inner = row.storeName;
           return [
               '<span class=' + color + '>' + inner + '</span>'
           ].join("")
       }
   }//网点
   function realFormatter(value, row, index) {
       var inner;
       if (row.owner == null || row.owner == "null") {
           inner = ""
       }
       else {
           if (row.owner.realname == null) {
               inner = ""
           }
           else {
               inner = row.owner.realname
           }
       }
       var color = 'nowwrp';
       return [
           '<a class="like9" href="#" title="点击查看里程变化">',
           '<span class=' + color + '>' + inner + '</span>',
           '</a>'
       ].join('');
   }//用户姓名
   function linkFormatter(value, row, index) {
       if (row.owner == null || row.owner == "null") {
           inner = ""
       }
       else {
           var inner = row.owner.phoneNumber
       }
       var color = 'nowwrp'
       return [
           '<span class=' + color + '>' + inner + '</span>'
       ].join('');
   }//联系方式
   function yajin1Formatter(value, row, index) {
       if (row.orderEntity != null && row.orderEntity != "null") {
           var inner = row.orderEntity.deposit;
       } else {
           var inner = "-"
       }
       return [
           '<span>' + inner + '</span>'
       ].join("")
   }//押金
   function operateFormatter(value, row, index) {
       var car = row.ebikeStatus == 0 ? "img/u217.png" : row.ebikeStatus == 100 ? "img/u209.png" : "img/u207.png";
       return [
           '<a class="like" href="#">',
           '<img  class="smallImg" src=' + car + ' />',
           '</a>'
       ].join('');
   }

   function queryParams(params) {
       var a = $(".selpr").val();
       var b = $(".selci").val();
       var c = $(".selco").val();
       var a2 = $(".selpr2").val();
       var b2 = $(".selci2").val();
       var c2 = $(".selco2").val();
       var a3 = $(".selpr3").val();
       var b3 = $(".selci3").val();
       var c3 = $(".selco3").val();
       var a4 = $(".selpr4").val();
       var b4 = $(".selci4").val();
       var c4 = $(".selco4").val();
       var a5 = $(".selpr5").val();
       var b5 = $(".selci5").val();
       var c5 = $(".selco5").val();

       var myselect = document.getElementById("sectionName-s");
       var index = myselect.selectedIndex;
       idstore1 = myselect.options[index].value;
       console.log(idstore1);
       var myselect2 = document.getElementById("guigese");
       var index2 = myselect2.selectedIndex;
       idpro = myselect2.options[index2].value;
       console.log(idpro);
       var myselect3 = document.getElementById("erjise");
       var index3 = myselect3.selectedIndex;
       idstore2 = myselect3.options[index3].value;

       var myselect21 = document.getElementById("sectionName-s2");
       var index21 = myselect21.selectedIndex;
       idstore12 = myselect21.options[index21].value;
       var myselect22 = document.getElementById("guigese2");
       var index22 = myselect22.selectedIndex;
       idpro2 = myselect22.options[index22].value;
       var myselect23 = document.getElementById("erjise2");
       var index23 = myselect23.selectedIndex;
       idstore22 = myselect23.options[index23].value;

       var myselect31 = document.getElementById("sectionName-s3");
       var index31 = myselect31.selectedIndex;
       idstore13 = myselect31.options[index31].value;
       var myselect32 = document.getElementById("guigese3");
       var index32 = myselect32.selectedIndex;
       idpro3 = myselect32.options[index32].value;
       var myselect33 = document.getElementById("erjise3");
       var index33 = myselect33.selectedIndex;
       idstore23 = myselect33.options[index33].value;

       var myselect41 = document.getElementById("sectionName-s4");
       var index41 = myselect41.selectedIndex;
       idstore14 = myselect41.options[index41].value;
       var myselect42 = document.getElementById("guigese4");
       var index42 = myselect42.selectedIndex;
       idpro4 = myselect42.options[index42].value;

       var myselect51 = document.getElementById("sectionName-s5");
       var index51 = myselect51.selectedIndex;
       idstore15 = myselect51.options[index51].value;
       var myselect52 = document.getElementById("guigese5");
       var index52 = myselect52.selectedIndex;
       idpro5 = myselect52.options[index52].value;
       var myselect53 = document.getElementById("erjise5");
       var index53 = myselect53.selectedIndex;
       idstore25 = myselect53.options[index53].value;
       var param = {
           limit: this.pageSize, // 页面大小
           page: this.pageNumber,
           onLine: orOnLine,
           fault: orFault
       };
       if (a == "") {
           param = param
       } else {

           var key = "province";
           var value = a
           param[key] = value;
       }
       if (b == "") {
           param = param
       } else {
           var key = "city";
           var value = b;
           param[key] = value;
       }
       if (c == "") {
           param = param
       } else {
           var key = "county";
           var value = c
           param[key] = value;
       }
       if (idstore1 == "0") {
           param = param
       } else {
           var key = "dealerId";
           var value = idstore1
           param[key] = value;
       }
       if (idstore2 == "0") {
           param = param
       } else {
           var key = "storeId";
           var value = idstore2;
           param[key] = value;
       }
       if (idpro == "0") {
           param = param
       } else {
           var key = "productId";
           var value = idpro
           param[key] = value;
       }
       if (a2 == "") {
           param = param
       } else {

           var key = "province";
           var value = a2
           param[key] = value;
       }
       if (b2 == "") {
           param = param
       } else {
           var key = "city";
           var value = b2;
           param[key] = value;
       }
       if (c2 == "") {
           param = param
       } else {
           var key = "county";
           var value = c2;
           param[key] = value;
       }
       if (idstore12 == "0") {
           param = param
       } else {
           var key = "dealerId";
           var value = idstore12
           param[key] = value;
       }
       if (idstore22 == "0") {
           param = param
       } else {
           var key = "storeId";
           var value = idstore22;
           param[key] = value;
       }
       if (idpro2 == "0") {
           param = param
       } else {
           var key = "productId";
           var value = idpro2
           param[key] = value;
       }
       if (a3 == "") {
           param = param
       } else {

           var key = "province";
           var value = a3
           param[key] = value;
       }
       if (b3 == "") {
           param = param
       } else {
           var key = "city";
           var value = b3;
           param[key] = value;
       }
       if (c3 == "") {
           param = param
       } else {
           var key = "county";
           var value = c3;
           param[key] = value;
       }
       if (idstore13 == "0") {
           param = param
       } else {
           var key = "dealerId";
           var value = idstore13
           param[key] = value;
       }
       if (idstore23 == "0") {
           param = param
       } else {
           var key = "storeId";
           var value = idstore23;
           param[key] = value;
       }
       if (idpro3 == "0") {
           param = param
       } else {
           var key = "productId";
           var value = idpro3
           param[key] = value;
       }
       if (a4 == "") {
           param = param
       } else {

           var key = "province";
           var value = a4
           param[key] = value;
       }
       if (b4 == "") {
           param = param
       } else {
           var key = "city";
           var value = b4;
           param[key] = value;
       }
       if (c4 == "") {
           param = param
       } else {
           var key = "county";
           var value = c4;
           param[key] = value;
       }
       if (idstore14 == "0") {
           param = param
       } else {
           var key = "storeId";
           var value = idstore14
           param[key] = value;
       }
       if (idpro4 == "0") {
           param = param
       } else {
           var key = "productId";
           var value = idpro4
           param[key] = value;
       }
       if (a5 == "") {
           param = param
       } else {

           var key = "province";
           var value = a5
           param[key] = value;
       }
       if (b5 == "") {
           param = param
       } else {
           var key = "city";
           var value = b5;
           param[key] = value;
       }
       if (c5 == "") {
           param = param
       } else {
           var key = "county";
           var value = c5;
           param[key] = value;
       }
       if (idstore15 == "0") {
           param = param
       } else {
           var key = "dealerId";
           var value = idstore15
           param[key] = value;
       }
       if (idstore25 == "0") {
           param = param
       } else {
           var key = "storeId";
           var value = idstore25;
           param[key] = value;
       }
       if (idpro5 == "0") {
           param = param
       } else {
           var key = "productId";
           var value = idpro5
           param[key] = value;
       }

       return param;
   }

   function responseHandler(res) {
       dataResult = res;
       if (res) {
           return {
               "rows": res.list,
               "total": res.totalCount
           };
       } else {
           return {
               "rows": 10,
               "total": 20
           };
       }
       console.log('responseHandler：' + res);
   }

   function jinyongFormatter(value, row, index) {
       var inner;
       var gear = row.gear;
       if (gear == 17) {
           inner = "禁用"
       }
       else if (gear == 34) {
           inner = "启用"
       }
       else {
           inner = "-"
       }
       return [
           '<span>' + inner + '</span>'
       ].join('');
   }
   function onlineFormatter(value, row, index) {
       if (row.online == null) {
           inner = ""
       }
       else {
           var inner = row.online ? "在线" : "离线 "
           var color = row.online ? "" : "red"

       }

       return [
           '<span class=' + color + '>' + inner + '</span>'
       ].join('');

   } //在线
   function usestFormatter(value, row, index) {
       if (row.useStatus == null) {
           inner = ""
       }
       else {
           var inner = row.useStatus ? "冻结" : "正常 "
           var color = row.useStatus ? "red" : ""

       }

       return [
           '<span class=' + color + '>' + inner + '</span>'
       ].join('');
   }//使用状态
   function useFormatter(value, row, index) {
       var inner = row.usedDays + "天"
       return [
           '<span>' + inner + '</span>'
       ].join('');
   }//使用时间
   function zhuangtFormatter(value, row, index) {
       var inner;
       if (row.status == 3) {
           inner = "移动"
       }
       else {
           inner = "静止"
       }
       return [
           '<span>' + inner + '</span>'
       ].join('');

   }//状态
   function youxFormatter(value, row, index) {
       var color = 'nowwrp'
       var inner = row.surplusTime
       return [
           '<span class=' + color + '>' + inner + '</span>'
       ].join('');

   }	//有效期
   function simFormatter(value, row, index) {
       var color = 'nowwrp'

       if (row.simValidityTime == null) {
           inner = "-"
       }
       else {
           inner = row.simValidityTime
       }
       return [
           '<span class=' + color + '>' + inner + '</span>'
       ].join('');

   }	//sim
   function odoFormatter(value, row, index) {

       if (row.odo == null) {
           inner = "0km"
       }

       else {
           var inner = row.odo + "km"
       }
       return [
           '<a class="like5" href="#" title="点击查看里程变化">',
           '<span>' + inner + '</span>',
           '</a>'
       ].join('');
   }//里程
   function dayodoFormatter(value, row, index) {
       if (row.dayOdo == null) {
           inner = "0km"
       }
       else {
           var inner = row.dayOdo + "km"
       }
       return [
           '<a class="like6" href="#" title="当日轨迹">',
           '<span>' + inner + '</span>',
           '</a>'
       ].join('');
   }//今日里程
   function modoFormatter(value, row, index) {

       if (row.odo == null) {
           inner = "0km"
       }

       else {
           var inner = row.monthODO + "km"
       }
       return [

           '<span>' + inner + '</span>'

       ].join('');
   }//本月里程
   function liulFormatter(value, row, index) {
       if (row.dataUsage == -1) {
           var color = 'nowwrp'
           inner = "第三方SIM"
       }
       else {
           var inner = (row.dataUsage != "" ? (row.dataUsage + "M") : "-");
       }
       return [
           '<span class=' + color + '>' + inner + '</span>'
       ].join('');
   }//流量
   function flagFormatter(value, row, index) {
       var inner = row.faultFlag ? "有故障" : "无故障 "
       var color = row.faultFlag ? "red" : ""
       return [
           '<span class=' + color + '>' + inner + '</span>'
       ].join('');
   }  //故障
   function gztimeFormatter(value, row, index) {
       var color = 'nowwrp1'
       if (row.faultTime != null) {
           var inner = row.faultTime
       }
       else {
           inner = ""
       }
       return [
           '<span class=' + color + '>' + inner + '</span>'
       ].join('');
   }//故障时间
   function guzhangFormatter(value, row, index) {
       var color = 'nowwrp'
       if (row.faultDetail == null) {
           inner = ""
           return [
               '<span class=' + color + '>' + inner + '</span>'
           ].join('');

       }
       else {
           inner = row.faultDetail
           return [
               '<span class=' + color + '>' + inner + '</span>'
           ].join('');
       }
   }//故障详情
   function sourceFormatter(value, row, index) {
       var inner = row.source;
       if (row.source == 0) {
           inner = 'GPRS'
       }
       else if (row.source == 1) {
           inner = 'BT'
       }
       else {
           inner = ''
       }
       return [
           '<span>' + inner + '</span>'
       ].join('');
   }  //来源
   function bmcFormatter(value, row, index) {
       if (row.bmsSoc > 100) {
           var inner = row.bmsSoc ? row.bmsSoc - 100 + "格" : ""
           var color = row.bmsSoc - 100 == 2 ? "yellow" : row.bmsSoc - 100 == 1 ? "orange" : ""
       }
       else if (row.bmsSoc == 0) {
           if (row.bmsSoh > 100) {
               inner = "0格"
               color = "red"
           }
           else {
               inner = "0%"
               color = "red"
           }


       }
       else if (row.bmsSoc == null) {
           inner = "-"
       }
       else {
           var inner = row.bmsSoc + "%"
       }

       return [
           '<span class=' + color + '>' + inner + '</span>'
       ].join('');

   }  //电量
   function addressFormatter(value, row, index) {
       var inner = row.address;
       if (row.address == null) {
           inner = ''
       }
       return [
           '<a class="like7" href="#" title="查看当前定位">',
           '<i class="glyphicon glyphicon-map-marker">',
           '</i>',
           '</a>'
       ].join('');
   }  //地址
   function reasonFormatter(value, row, index) {
       var inner;
       if (row.bmsExceptionReason == 0) {
           inner = "离线"
       }
       else if (row.bmsExceptionReason == 1) {
           inner = "欠压"
       } else if (row.bmsExceptionReason == 2) {
           inner = "异动"
       } else {
           inner = "-"
       }
       return [
           '<span>' + inner + '</span>'
       ].join('');

   }
   function reportTimeFormatter(value, row, index) {
       var inner;
       if (row.reportTime == null || row.reportTime == "null") {
           inner = "";
           return [
               '<span>' + inner + '</span>'
           ].join('');
       } else {
           var date1 = row.reportTime;  //开始时间
           var date2 = new Date();    //结束时间
           var date3 = date2.getTime() - new Date(date1).getTime();   //时间差的毫秒数
           var xiaps = Math.floor(date3 / (3600 * 1000));
           if (Math.abs(xiaps) > 0) {
               var color = "red";
               inner = row.reportTime;
               return [
                   '<span class=' + color + '>' + inner + '</span>'
               ].join('');
           }
           else if (Math.abs(xiaps) < 0 || xiaps == 0) {
               inner = row.reportTime;
               return [
                   '<span>' + inner + '</span>'
               ].join('');
           }
           else {
               return [
                   '<span>' + inner + '</span>'
               ].join('');
           }
       }
   }//更新时间
   function removeFormatter(value, row, index) {
       return [
           '<div class="nowwrp">',
           '<a class="like8" href="#" title="移除">',
           '<i class="glyphicon glyphicon-remove">',
           '</i>',
           '</a>',
           '</div>'
       ].join("")
   }

   var data1;

   function ajax(url, method, success, err) {
       $.ajax({
           url: url,
           method: method,
           contentType: "application/json; charset=utf-8",
           cache: false,
           beforeSend: function (xhr) {
               /* Authorization header */
               xhr.setRequestHeader("firm", sessionStorage.flag);
               xhr.setRequestHeader("Authorization", sessionStorage.token);
           },
           success: success,
           error: err
       });
   }  //ajax 封装
   ajax("http://cjl3.rokyinfo.net:7200/api-user/v3.1/ebikestores?types=1", "get", function (data) {
       data1 = data
   }, function (jqXHR, textStatus, errorThrown) {
       console.log("失败");
       console.log(jqXHR);
   });
   var ueId;
   var id1;
   var poins=function (data) {

       if (!data) return;
       var points=[];
       var num=parseInt(data.length/10);
       function  sliceArr(arr,size) {
           var result=[];
           for(var i=0;i<Math.ceil(arr.length / size);i++){
               var start=i*size;
               var end=(i+1)*size;
               result.push(arr.slice(start,end))
           }

           return result
       }
       for(var  i=0;i<data.length;i++){
           points.push(new BMap.Point(data[i]['lon'],data[i]['lat']))
       }
       var arr=sliceArr(points,5);
       return arr
   };

   function addMarker(point){

       var marker = new BMap.Marker(point);
       map.addOverlay(marker);
   }
   var operateEvents = {
        'click .like': function (e,value,row,index) {
            console.log("e:"+e+"value:"+value+"row:"+row+"index:"+index)
            var ALL= row
            var A = ALL
            console.log("当前车 :"+ALL.orderId)
            var a = ALL.orderEntity ? ALL.orderEntity.orderUserBean.nikeName : ""
            var b = ALL.ccuSn ? ALL.ccuSn : ""
            var c=ALL.orderEntity ? ALL.orderEntity.orderUserBean.realName : ""
            var d=ALL.orderEntity ? ALL.orderEntity.orderUserBean.phoneNumber : ""
            var e=ALL.orderEntity? ALL.orderEntity.startTime: ""
            var f=ALL.orderEntity? ALL.orderEntity.endTime: ""
			var g=ALL.orderEntity? ALL.orderEntity.accountEntity.securityMoney: ""
			var h=ALL.orderEntity? ALL.orderEntity.accountEntity.availableBalance: ""
			var i=ALL.orderEntity? ALL.orderEntity.accountEntity.cost: ""
			var j = ALL.orderEntity ? ALL.orderEntity.orderUserBean.identityNumber : ""
            $("#btn-change").unbind('click').on("click",function () {
console.log("http://cjl3.rokyinfo.net:7200/api-order/v3.1/orders/"+ALL.orderId+"/replace/"+$("#wrap-stay .change").val())
                ajax("http://cjl3.rokyinfo.net:7200/api-order/v3.1/orders/"+ALL.orderId+"/replace/"+$("#wrap-stay .change").val(),"put",function (dara) {
				$table.bootstrapTable("refresh",{silent: true})
                $("#wrap-stay").hide()
                    console.log("成功")
                },function (err) {
                    console.log(err)
                })
            })

            $("#wrap-stay .change").val("请输入要更换的车辆序列号")
            if(ALL.ebikeStatus!==0) {
                if (ALL.ebikeStatus == 100) {
                    $("#wrap-stay .sendAll").html("结束租车")
                    $("#wrap-stay .carmanName").attr("readonly", "true")
                    $("#wrap-stay .carmanPhone").attr("readonly", "true")
                    $("#wrap-stay .startTime").attr("readonly", "true")
                    $("#wrap-stay .endTime").attr("readonly", "true")
                    $("#wrap-stay .remainday").attr("readonly","true")
					$("#wrap-stay .money").attr("readonly","true")
					$("#wrap-stay .balance").attr("readonly","true")
					$("#wrap-stay .cost").attr("readonly","true")
                } else {
                    $("#wrap-stay .sendAll").html("开始租车")
                    $("#wrap-stay .alert-p").html("应用这些设置?")
                    $("#wrap-stay .carmanName").removeAttr("readonly")
                    $("#wrap-stay .carmanPhone").removeAttr("readonly")
                    $("#wrap-stay .startTime").removeAttr("readonly")
                    $("#wrap-stay .endTime").removeAttr("readonly")
                    $("#wrap-stay .remainday").removeAttr("readonly")
					$("#wrap-stay .money").removeAttr("readonly")
					$("#wrap-stay .balance").removeAttr("dreadonly")
					$("#wrap-stay .cost").removeAttr("readonly")
                    $("#wrap-stay .remainday").click(function () {
                        clearInterval(timer2)
                        timer2=setInterval(function () {
                            if($(".startTime").val()!==null){
                                var arr=$(".startTime").val().split(" ")[0].split("-")//年月日数组
                                var  a  =[1,3,5,7,8,10,12]
                                var day=parseInt($(".remainday").val())+parseInt(arr[2]);
                                /*  console.log(arr)*/
                                var maxday;
                                for(var i=0;i<a.length;i++){
                                    if(a[i]==parseInt(arr[1])){
                                        maxday=31
                                        break
                                    }
                                    else {
                                        maxday=30
                                    }
                                }
                                if(arr[0]==2017){
                                    var month=parseInt(day/maxday)+parseInt(arr[1])
                                    if(day>maxday){
                                        day=parseInt(day-maxday)
                                    }
                                    var  years=parseInt(month/12)+parseInt(arr[0])
                                    $(".endTime").val(years+"-"+month+"-"+day+" "+$(".startTime").val().split(" ")[1])
                                    /*    console.log("years:"+years+"month:"+month+"day:"+day)*/
                                }
                            }
                        },10)
                    })

                }
                console.log(i)
                $("#wrap-stay .wxName").html(a)
                $("#wrap-stay .carNumber").html(b)
                $("#wrap-stay .carmanName").val(c)
                $("#wrap-stay .carmanPhone").val(d)
                $("#wrap-stay .startTime").val(e)
                $("#wrap-stay .endTime").val(f)
				$("#wrap-stay .money").html(g)
				$("#wrap-stay .balance").html(h)
				$("#wrap-stay .cost").html(i)
				$("#wrap-stay .idNum").html(j)
                $("#wrap-stay").css("z-index", "99")
                $("#wrap-stay").show()
                $("#wrap-stay  .calloff").click(function () {
                $("#wrap-stay").hide()
                })
                $("#sendAll").unbind('click').click(function () {
                   clearTimeout(cc)
                    cc=setTimeout(function () {
                        rr--
                        if (rr == 0) {
                            var orderId = A.orderId;
                            var startTime = $(".startTime").val() == "请输入信息 " ? alert("请输入开始时间 ") : $(".startTime").val();
                            var endTime = $(".endTime").val() == "请输入信息 " ? alert("请输入结束时间 ") : $(".endTime").val();
                            var phoneNumber = $(".carmanPhone").val()
                            var realName = $(".carmanName").val()
                            var parameter = "startTime=" + startTime + "&endTime=" + endTime + "&phoneNumber=" + phoneNumber
                                + "&realName=" + realName;
                             console.log(encodeURI("http://cjl3.rokyinfo.net:7200/api-order/v3.1/orders/" + orderId + "/start?" + parameter))
                            if (A.ebikeStatus == 101) {
                                $.ajax({
                                    url: encodeURI("http://cjl3.rokyinfo.net:7200/api-order/v3.1/orders/" + orderId + "/start?" + parameter),
                                    method: "put",
                                    contentType: "application/json; charset=utf-8",
                                    cache: false,
                                    beforeSend: function (xhr) {
                                        /* Authorization header */
                                        xhr.setRequestHeader("firm", sessionStorage.flag);
                                        xhr.setRequestHeader("Authorization", sessionStorage.token);
                                    },
                                    success: function (data) {
                                        window.location.reload()
                                        console.log("成功");
                                    },
                                    error: function (jqXHR, textStatus, errorThrown) {
                                        console.log("失败")
                                        console.log(jqXHR);
                                    }
                                });
                            }  //红车发送数据
                            if (A.ebikeStatus == 100) {
                             console.log("http://cjl3.rokyinfo.net:7200/api-order/v3.1/orders/" + orderId + "/end")
                                if (confirm('您确定要结束租车吗?')) {
                                    $.ajax({
                                        url: "http://cjl3.rokyinfo.net:7200/api-order/v3.1/orders/" + orderId + "/end",
                                        method: "PUT",
                                        contentType: "application/json; charset=utf-8",
                                        cache: false,
                                        beforeSend: function (xhr) {
                                            /* Authorization header */
                                            xhr.setRequestHeader("firm", sessionStorage.flag);
                                            xhr.setRequestHeader("Authorization", sessionStorage.token);

                                        },
                                        success: function (data) {
                                            window.location.reload();
                                            console.log("成功");
                                        },
                                        error: function (jqXHR, textStatus, errorThrown) {
                                            console.log(jqXHR);
                                        }
                                    });
                                } else {
                                    $("#wrap-stay").hide()
                                    rr = 1
                                    console.log("1")

                                }
                            }//蓝车结束数据
                        }
                    },10)

                })  //发送数据

                $("#wrap-stay .endTime").focus(function(){
                    clearInterval(timer2)
                });
                $(" #wrap-stay .endTime").blur(function(){
                    clearInterval(timer2)
                    console.log(  $('#datetimepicker2').datetimepicker())
                });

            }
        },
        'click .like1':function (e,value,row,index) {
            ueId=row.ueId;
            $(".carNumber").html(row.ccuSn);
            $("#wrap").show()
        },
        'click .like2':function (e,value,row,index) {
            $(".item").each(function(index, element) {
                console.log("http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/"+row.ccuSn+"/clean-exception-flag");
                if($(this).hasClass("active")){

                    if($(this).text()=="异常电池"){



                    }
                    else {
                        $(".carNumber").html(row.ccuSn);
                        $("#wrap1").show();
                        $("#btn-1").unbind('click').on("click",function () {
                            ajax("http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/"+row.ccuSn+"/power-on","get",function (data) {
                                alert("上电成功")
                                console.log("http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/"+row.ccuSn+"/power-on","get")
                            }, function (err) {
                                alert("上电失败")
                                console.log(err)})
                            return false
                        });
                        $("#btn-2").unbind('click').on("click",function () {
                            ajax("http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/"+row.ccuSn+"/power-off","get",function (data) {
                                alert("断电成功");
                                console.log("http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/"+row.ccuSn+"/power-on","get")
                            }, function (err) {
                                alert("断电失败");
                                console.log(err)})
                        });
                        $("#btn-3").unbind('click').on("click",function () {
                            ajax("http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/"+row.ccuSn+"/search","get",function (data) {
                                alert("寻车成功");
                                console.log("http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/"+row.ccuSn+"/power-on","get")
                            }, function (err) {
                                alert("寻车失败");
                                console.log(err)})
                        });
                        $("#btn-4").unbind('click').on("click",function () {
                            ajax("http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/"+row.ccuSn+"/open-box","get",function (data) {
                                alert("开座桶成功");
                                console.log("http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/"+row.ccuSn+"/power-on","get")
                            }, function (err) {
                                alert("开座桶失败");
                                console.log(err)})
                        });
                        $("#btn-5").unbind('click').on("click",function () {
                            ajax("http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/"+row.ccuSn+"/restart","get",function (data) {
                                alert("重启成功");
                                console.log("http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/"+row.ccuSn+"/power-on","get")
                            }, function (err) {
                                alert("重启失败");
                                console.log(err)})
                        });
                        $("#btn-6").unbind('click').on("click",function () {
                            ajax("http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues/update-use-status?ccuSn="+row.ccuSn+"&useStatus=1","put",function (data) {
                                alert("冻结电池成功")
                                $table.bootstrapTable("refresh",{silent: true})
                                console.log("http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues/update-use-status?ccuSn="+row.ccuSn+"&useStatus=1","get")
                            }, function (err) {
                                alert("冻结电池失败")
                                console.log(err)})
                        })
                        $("#btn-7").unbind('click').on("click",function () {
                            ajax("http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues/update-use-status?ccuSn="+row.ccuSn+"&useStatus=0","put",function (data) {
                                alert("取消冻结成功")
                                $table.bootstrapTable("refresh",{silent: true})
                                console.log("http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues/update-use-status?ccuSn="+row.ccuSn+"&useStatus=0","get")
                            }, function (err) {
                                alert("取消冻结失败")
                                console.log(err)})
                        })
                        $("#btn-tz").unbind('click').on("click",function () {
                            ajax("http://cjl3.rokyinfo.net:7200/api-order/v3.1/rent-orders/force-finish-order?ccuSn="+row.ccuSn,"put",function (data) {
                                alert("退租成功")
                                $table.bootstrapTable("refresh",{silent: true})
                                console.log("http://cjl3.rokyinfo.net:7200/api-order/v3.1/rent-orders/force-finish-order?ccuSn="+row.ccuSn)
                            }, function (err) {
                                alert("退租失败")
                                console.log(err)})
                        })
                        $("#555").on("click",function () {
                            $("#wrap1").hide()
                        })
                    }


                }
            });


    },
		'click .like3':function (e,value,row,index) {
            $(".carNumber").html(row.ccuSn)
			$(".miaoshu").html(row.faultDetail)
			$(".jianyi").html(row.faultAnalyze)
            $("#wrap2").show()
			$("#666").on("click",function () {
         $("#wrap2").hide()
   })
        },
        'click .like4':function (e,value,row,index) {

        $(".carNumber").html(row.ccuSn);
        $("#chart1").show();

        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('main'));

        // 指定图表的配置项和数据

        myChart.setOption({

            tooltip: {
                trigger: 'axis',
                position: function (pt) {
                    return [pt[0], '10%'];
                }
            },
            toolbox: {
                feature: {
                    dataZoom: {
                        yAxisIndex: 'none'
                    },
                    restore: {},
                    saveAsImage: {}
                }
            },
            legend: {
                data:['电压']
            },
            xAxis: {
                data: []
            },
            yAxis: {},
            dataZoom: [{
                type: 'inside',
                start: 0,
                end: 100
            }, {
                start: 0,
                end: 10,
                handleIcon: 'M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z',
                handleSize: '80%',
                handleStyle: {
                    color: '#fff',
                    shadowBlur: 3,
                    shadowColor: 'rgba(0, 0, 0, 0.6)',
                    shadowOffsetX: 2,
                    shadowOffsetY: 2
                }
            }],
            series: [{
                name:'电压',
                type:'line',
                smooth:true,
                symbol: 'none',
                sampling: 'average',
                itemStyle: {
                    normal: {
                        color: 'rgb(255, 70, 131)'
                    }
                },
                areaStyle: {
                    normal: {
                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                            offset: 0,
                            color: 'rgb(255, 158, 68)'
                        }, {
                            offset: 1,
                            color: 'rgb(255, 70, 131)'
                        }])
                    }
                },

                data: []
            }]
        });
        // 基于准备好的dom，初始化echarts实例


        var names=[];    //类别数组（实际用来盛放X轴坐标值）
        var nums=[];    //销量数组（实际用来盛放Y坐标值）
        myChart.showLoading();
        var cstartTime = $(".chartstartTime").val();
        var cendTime = $(".chartendTime").val();
        var ccusn1 = $(".carNumber").html();
        $.ajax({
            url: "http://cjl3.rokyinfo.net:7200/api-analyze/v3.1/ebikereports?ccSn="+ccusn1+"&startTime=" + cstartTime + "&endTime=" + cendTime,
            method: "get",
            contentType: "application/json; charset=utf-8",
            cache: false,
            beforeSend: function (xhr) {
                /* Authorization header */
                xhr.setRequestHeader("firm", sessionStorage.flag);
                xhr.setRequestHeader("Authorization", sessionStorage.token);
            },
            success: function (data) {

                names=[];    //类别数组
                nums=[];    //
                if (data) {
                    for (var i = 0; i < data.length; i++) {
                        names.push(data[i].reportTime);    //挨个取出类别并填入类别数组
                    }
                    for (var i = 0; i < data.length; i++) {
                        nums.push(data[i].fVoltage);    //挨个取出销量并填入销量数组
                    }
                    function getMaximin(arr,maximin)
                    {
                        if(maximin=="max")
                        {
                            return Math.max.apply(Math,arr);
                        }
                        else if(maximin=="min")
                        {
                            return Math.min.apply(Math, arr);
                        }
                    };
                    var ymax=getMaximin(nums,"max");
                    var ymin=getMaximin(nums,"min");
                    myChart.hideLoading();    //隐藏加载动画
                    myChart.setOption({        //加载数据图表
                        xAxis: {
                            data: names
                        },
                        yAxis: {
                            min: 48,
                            max: ymax+10
                        },
                        series: [{
                            // 根据名字对应到相应的系列
                            name: '电压',
                            data: nums

                        }]
                    });

                }
//                myChart.setOption(myChart.option,true);


            },
            error: function (jqXHR, textStatus, errorThrown) {
                console.log("失败");
                console.log(jqXHR);
            }
        });

        $.get('data.json').done(function (data) {

            // 填入数据
            myChart.setOption({
                xAxis: {
                    data: data.categories
                },

                series: [{
                    // 根据名字对应到相应的系列
                    name: '电压',
                    data: data.data
                }]
            });
            myChart.setOption(myChart.option, true);
        });


        // 使用刚指定的配置项和数据显示图表。

        $("#chartSearch").on("click",function () {
            // 基于准备好的dom，初始化echarts实例
            var myChart = echarts.init(document.getElementById('main'));

            // 指定图表的配置项和数据

            myChart.setOption({

                tooltip: {
                    trigger: 'axis',
                    position: function (pt) {
                        return [pt[0], '10%'];
                    }
                },
                toolbox: {
                    feature: {
                        dataZoom: {
                            yAxisIndex: 'none'
                        },
                        restore: {},
                        saveAsImage: {}
                    }
                },
                legend: {
                    data:['电压']
                },
                xAxis: {
                    data: []
                },
                yAxis: {},
                dataZoom: [{
                    type: 'inside',
                    start: 0,
                    end: 100
                }, {
                    start: 0,
                    end: 10,
                    handleIcon: 'M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z',
                    handleSize: '80%',
                    handleStyle: {
                        color: '#fff',
                        shadowBlur: 3,
                        shadowColor: 'rgba(0, 0, 0, 0.6)',
                        shadowOffsetX: 2,
                        shadowOffsetY: 2
                    }
                }],
                series: [{
                    name:'电压',
                    type:'line',
                    smooth:true,
                    symbol: 'none',
                    sampling: 'average',
                    itemStyle: {
                        normal: {
                            color: 'rgb(255, 70, 131)'
                        }
                    },
                    areaStyle: {
                        normal: {
                            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                                offset: 0,
                                color: 'rgb(255, 158, 68)'
                            }, {
                                offset: 1,
                                color: 'rgb(255, 70, 131)'
                            }])
                        }
                    },

                    data: []
                }]
            });
            // 基于准备好的dom，初始化echarts实例

            var names=[];    //类别数组（实际用来盛放X轴坐标值）
            var nums=[];    //销量数组（实际用来盛放Y坐标值）
            myChart.showLoading();
            var cstartTime = $(".chartstartTime").val();
            var cendTime = $(".chartendTime").val();
            var ccusn1 = $(".carNumber").html();
            $.ajax({
                url: "http://cjl3.rokyinfo.net:7200/api-analyze/v3.1/ebikereports?ccSn="+ccusn1+"&startTime=" + cstartTime + "&endTime=" + cendTime,
                method: "get",
                contentType: "application/json; charset=utf-8",
                cache: false,
                beforeSend: function (xhr) {
                    /* Authorization header */
                    xhr.setRequestHeader("firm", sessionStorage.flag);
                    xhr.setRequestHeader("Authorization", sessionStorage.token);
                },
                success: function (data) {


                    names=[];    //类别数组（实际用来盛放X轴坐标值）
                    nums=[];    //销量数组（实际用来盛放Y坐标值）
                    if (data) {
                        for (var i = 0; i < data.length; i++) {
                            names.push(data[i].reportTime);    //挨个取出类别并填入类别数组
                        }
                        for (var i = 0; i < data.length; i++) {
                            nums.push(data[i].fVoltage);    //挨个取出销量并填入销量数组
                        }
                        function getMaximin(arr,maximin)
                        {
                            if(maximin=="max")
                            {
                                return Math.max.apply(Math,arr);
                            }
                            else if(maximin=="min")
                            {
                                return Math.min.apply(Math, arr);
                            }
                        };
                        var ymax=getMaximin(nums,"max");
                        var ymin=getMaximin(nums,"min");
                        myChart.hideLoading();    //隐藏加载动画
                        myChart.setOption({        //加载数据图表
                            xAxis: {
                                data: names
                            },
                            yAxis: {
                                min: 48,
                                max: ymax+10
                            },
                            series: [{
                                // 根据名字对应到相应的系列
                                name: '电压',
                                data: nums

                            }]
                        });

                    }


                },
                error: function (jqXHR, textStatus, errorThrown) {
                    console.log("失败");
                    console.log(jqXHR);
                }
            });

            $.get('data.json').done(function (data) {
                myChart.setOption(myChart.option,true);
                // 填入数据
                myChart.setOption({
                    xAxis: {
                        data: data.categories
                    },

                    series: [{
                        // 根据名字对应到相应的系列
                        name: '电压',
                        data: data.data
                    }]
                });
            });


            // 使用刚指定的配置项和数据显示图表。
        });

        $("#dyclose").on("click",function () {
            $("#chart1").hide()
        })
    },
        'click .like5':function (e,value,row,index) {
        $(".carNumber").html(row.ccuSn);
        $("#chart2").show();

        // 基于准备好的dom，初始化echarts实例
        var myChart2 = echarts.init(document.getElementById('main2'));

        // 指定图表的配置项和数据

        myChart2.setOption({

            color: ['#3398DB'],
            tooltip : {
                trigger: 'axis',
                axisPointer : {            // 坐标轴指示器，坐标轴触发有效
                    type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
                }
            },
            grid: {
                left: '3%',
                right: '4%',
                bottom: '3%',
                containLabel: true
            },
            legend: {
                data:['里程']
            },
            xAxis : [
                {
                    type : 'category',
                    data : [],
                    axisTick: {
                        alignWithLabel: true
                    }
                }
            ],
            yAxis : [
                {
                    type : 'value'
                }
            ],
            series : [
                {
                    name:'里程',
                    type:'bar',
                    barWidth: '60%',
                    data:[]
                }
            ]
        });


        var names=[];    //类别数组（实际用来盛放X轴坐标值）
        var nums=[];    //销量数组（实际用来盛放Y坐标值）
        myChart2.showLoading();

        var ccusn2 = $(".carNumber").html();
        $.ajax({
            url: "http://cjl3.rokyinfo.net:7200/api-analyze/v3.1/statistics/day/mileage/"+ccusn2,
            method: "get",
            contentType: "application/json; charset=utf-8",
            cache: false,
            beforeSend: function (xhr) {
                /* Authorization header */
                xhr.setRequestHeader("firm", sessionStorage.flag);
                xhr.setRequestHeader("Authorization", sessionStorage.token);
            },
            success: function (data) {

                names=[];    //类别数组（实际用来盛放X轴坐标值）
                nums=[];    //销量数组（实际用来盛放Y坐标值）
                if (data) {
                    for (var i = 0; i < data.length; i++) {
                        names.push(data[i].time);    //挨个取出类别并填入类别数组
                    }
                    for (var i = 0; i < data.length; i++) {
                        nums.push(data[i].miles);    //挨个取出销量并填入销量数组
                    }
                    function getMaximin(arr,maximin)
                    {
                        if(maximin=="max")
                        {
                            return Math.max.apply(Math,arr);
                        }
                        else if(maximin=="min")
                        {
                            return Math.min.apply(Math, arr);
                        }
                    };
                    var ymax=getMaximin(nums,"max");
                    var ymin=getMaximin(nums,"min");
                    myChart2.hideLoading();    //隐藏加载动画
                    myChart2.setOption({        //加载数据图表
                        xAxis: {
                            data: names
                        },
                        yAxis: {
                            min: ymin,
                            max: ymax+10
                        },
                        series: [{
                            // 根据名字对应到相应的系列
                            name: '里程',
                            data: nums

                        }]
                    });

                }


            },
            error: function (jqXHR, textStatus, errorThrown) {
                console.log("失败");
                console.log(jqXHR);
            }
        });

        $.get('data.json').done(function (data) {

            // 填入数据
            myChart2.setOption({
                xAxis: {
                    data: data.categories
                },

                series: [{
                    // 根据名字对应到相应的系列
                    name: '里程',
                    data: data.data
                }]
            });
        });


        // 使用刚指定的配置项和数据显示图表。
        $("#chartSearch2").on("click",function () {
            var names=[];    //类别数组（实际用来盛放X轴坐标值）
            var nums=[];    //销量数组（实际用来盛放Y坐标值）
            myChart2.showLoading();

            var ccusn2 = $(".carNumber").html();
            $.ajax({
                url: "http://cjl3.rokyinfo.net:7200/api-analyze/v3.1/statistics/day/mileage/"+ccusn2,
                method: "get",
                contentType: "application/json; charset=utf-8",
                cache: false,
                beforeSend: function (xhr) {
                    /* Authorization header */
                    xhr.setRequestHeader("firm", sessionStorage.flag);
                    xhr.setRequestHeader("Authorization", sessionStorage.token);
                },
                success: function (data) {

                    names=[];    //类别数组（实际用来盛放X轴坐标值）
                    nums=[];    //销量数组（实际用来盛放Y坐标值）
                    if (data) {
                        for (var i = 0; i < data.length; i++) {
                            names.push(data[i].time);    //挨个取出类别并填入类别数组
                        }
                        for (var i = 0; i < data.length; i++) {
                            nums.push(data[i].miles);    //挨个取出销量并填入销量数组
                        }
                        function getMaximin(arr,maximin)
                        {
                            if(maximin=="max")
                            {
                                return Math.max.apply(Math,arr);
                            }
                            else if(maximin=="min")
                            {
                                return Math.min.apply(Math, arr);
                            }
                        };
                        var ymax=getMaximin(nums,"max");
                        var ymin=getMaximin(nums,"min");
                        myChart2.hideLoading();    //隐藏加载动画
                        myChart2.setOption({        //加载数据图表
                            xAxis: {
                                data: names
                            },
                            yAxis: {
                                min: ymin,
                                max: ymax+10
                            },
                            series: [{
                                // 根据名字对应到相应的系列
                                name: '里程',
                                data: nums

                            }]
                        });

                    }


                },
                error: function (jqXHR, textStatus, errorThrown) {
                    console.log("失败");
                    console.log(jqXHR);
                }
            });

            $.get('data.json').done(function (data) {

                // 填入数据
                myChart2.setOption({
                    xAxis: {
                        data: data.categories
                    },

                    series: [{
                        // 根据名字对应到相应的系列
                        name: '里程',
                        data: data.data
                    }]
                });
            });


            // 使用刚指定的配置项和数据显示图表。
        });

        $("#lcclose").on("click",function () {
            $("#chart2").hide()
        })
    },
        'click .like9':function (e,value,row,index) {
            console.log('===============>' + row.owner.id)
       $(".userRealName").html(row.owner.realname);
       $("#chart3").show();

       // 基于准备好的dom，初始化echarts实例
       var myChart2 = echarts.init(document.getElementById('main3'));

       // 指定图表的配置项和数据

       myChart2.setOption({

           color: ['#3398DB'],
           tooltip : {
               trigger: 'axis',
               axisPointer : {            // 坐标轴指示器，坐标轴触发有效
                   type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
               }
           },
           grid: {
               left: '3%',
               right: '4%',
               bottom: '3%',
               containLabel: true
           },
           legend: {
               data:['里程']
           },
           xAxis : [
               {
                   type : 'category',
                   data : [],
                   axisTick: {
                       alignWithLabel: true
                   }
               }
           ],
           yAxis : [
               {
                   type : 'value'
               }
           ],
           series : [
               {
                   name:'里程',
                   type:'bar',
                   barWidth: '60%',
                   data:[]
               }
           ]
       });


       var names=[];    //类别数组（实际用来盛放X轴坐标值）
       var nums=[];    //销量数组（实际用来盛放Y坐标值）
       myChart2.showLoading();

       var ownerId = row.owner.id;
       $.ajax({
           url: "http://cjl3.rokyinfo.net:7200/api-analyze/v3.1/ebikusermiless?sort=mile_date,asc&userId="+ownerId,
           method: "get",
           contentType: "application/json; charset=utf-8",
           cache: false,
           beforeSend: function (xhr) {
               /* Authorization header */
               xhr.setRequestHeader("firm", sessionStorage.flag);
               xhr.setRequestHeader("Authorization", sessionStorage.token);
           },
           success: function (result) {

               names=[];    //类别数组（实际用来盛放X轴坐标值）
               nums=[];    //销量数组（实际用来盛放Y坐标值）
               var data = result.list;
               if (data) {
                   for (var i = 0; i < data.length; i++) {
                       names.push(data[i].mileDate.split(' ')[0]);    //挨个取出类别并填入类别数组
                   }
                   for (var i = 0; i < data.length; i++) {
                       nums.push(data[i].miles);    //挨个取出销量并填入销量数组
                   }
                   function getMaximin(arr,maximin)
                   {
                       if(maximin=="max")
                       {
                           return Math.max.apply(Math,arr);
                       }
                       else if(maximin=="min")
                       {
                           return Math.min.apply(Math, arr);
                       }
                   };
                   var ymax=getMaximin(nums,"max");
                   var ymin=getMaximin(nums,"min");
                   myChart2.hideLoading();    //隐藏加载动画
                   myChart2.setOption({        //加载数据图表
                       xAxis: {
                           data: names
                       },
                       yAxis: {
                           min: 0,
                           max: ymax+10
                       },
                       series: [{
                           // 根据名字对应到相应的系列
                           name: '里程',
                           data: nums

                       }]
                   });

               }


           },
           error: function (jqXHR, textStatus, errorThrown) {
               console.log("失败");
               console.log(jqXHR);
           }
       });

       $.get('data.json').done(function (data) {

           // 填入数据
           myChart2.setOption({
               xAxis: {
                   data: data.categories
               },

               series: [{
                   // 根据名字对应到相应的系列
                   name: '里程',
                   data: data.data
               }]
           });
       });

       $("#userMileage").on("click",function () {
           $("#chart3").hide()
       })
   },
        'click .like6':function (e,value,row,index) {
                var sn=row.ccuSn;
            var date = new Date();
            var date2 = new Date(date.getTime() - 1 * 3600 * 1000);
            var seperator1 = "-";
            var seperator2 = ":";
            var month = date2.getMonth() + 1;
            var strDate = date2.getDate();
            var strhour = date2.getHours();
            var strminu = date2.getMinutes();
            var strseco = date2.getSeconds();

            var month1 = date.getMonth() + 1;
            var strDate1 = date.getDate();
            var strhour1 = date.getHours();
            var strminu1 = date.getMinutes();
            var strseco1 = date.getSeconds();
            if (month >= 1 && month <= 9) {
                month = "0" + month;
            }
            if (strDate >= 0 && strDate <= 9) {
                strDate = "0" + strDate;
            }
            if (strhour >= 0 && strDate <= 9) {
                strhour = "0" + strhour;
            }
            if (strminu >= 0 && strminu <= 9) {
                strminu = "0" + strminu;
            }
            if (strseco >= 0 && strseco <= 9) {
                strseco = "0" + strseco;
            }

            if (month1 >= 1 && month1 <= 9) {
                month1 = "0" + month1;
            }
            if (strDate1 >= 0 && strDate1 <= 9) {
                strDate1 = "0" + strDate1;
            }
            if (strhour1 >= 0 && strDate1 <= 9) {
                strhour1 = "0" + strhour1;
            }
            if (strminu1 >= 0 && strminu1 <= 9) {
                strminu1 = "0" + strminu1;
            }
            if (strseco1 >= 0 && strseco1 <= 9) {
                strseco1 = "0" + strseco1;
            }
            var currentdate2 = date.getFullYear() + seperator1 + month + seperator1 + strDate
                + "%20" +  "0"  + seperator2 +  "0"
                + seperator2 + "00";
            var currentdate1 = date.getFullYear() + seperator1 + month1 + seperator1 + strDate1
                + "%20" +  date.getHours()  + seperator2 +  date.getMinutes()
                + seperator2 + date.getSeconds();
                $.ajax({
                    url: "http://cjl3.rokyinfo.net:7200/api-analyze/v3.1/ebikereports?ccSn="+sn+"&startTime="+currentdate2+"&endTime="+currentdate1,
                    method: "get",
                    contentType: "application/json; charset=utf-8",
                    cache: false,
                    beforeSend: function (xhr) {
                        /* Authorization header */
                        xhr.setRequestHeader("firm", sessionStorage.flag);
                        xhr.setRequestHeader("Authorization", sessionStorage.token);
                    },
                    success: function (data) {
//                        console.log(data);
                        var data1 = [];
                        var listdata = data;
                        var leng=data.length;
                        console.log(leng);
                        var pois =[];
                        function translateOne(pointArr) {
                            convertor.translate(pointArr, 1, 5, function(data) {
                                 var sy = new BMap.Symbol(BMap_Symbol_SHAPE_BACKWARD_OPEN_ARROW, {
                                      strokeWeight: '2'//设置线宽
                                });
                                 var icons = new BMap.IconSequence(sy, '10', '30');
                                 if (data.status === 0) {
                                 for (var i = 0; i < data.points.length; i++) {
                                    pois.push(data.points[i]);
                                }
                                    var polyline = new BMap.Polyline(pois, {
                                        strokeColor: "#0C8816",
                                        strokeWeight: 3,
                                        setStrokeStyle: "dashed",
                                        strokeOpacity: 1
                                    });
                                    map.addOverlay(polyline);          //增加折线
                                    map.centerAndZoom(pois[0], 10);

                                     var labelStyle = {
                                         color: "#fff",
                                         fontFamily:"微软雅黑",
                                         border:"none",
                                         background:"transparent",
                                         fontWeight:"bold",
                                         fontSize : "12px"
                                     };
                                     var label = new BMap.Label("起", {offset: new BMap.Size(3, 1)
                                     });
                                     label.setStyle(labelStyle);
                                     var marker = new BMap.Marker(pois[0]);
                                     marker.setLabel(label);
                                     map.addOverlay(marker);



                                }
                            });
                        }
                        var shu=listdata.length;
                        if(shu>200) {

                            for (var i = listdata.length-200; i < listdata.length; i++) {
                                var point = new BMap.Point(listdata[i]['lon'], listdata[i]['lat']);
                                var convertor = new BMap.Convertor();
                                var pointArr = [];
                                pointArr.push(point);
                                translateOne(pointArr);

                            }
                        }else{
                            for (var i = 0; i < listdata.length; i++) {
                                var point = new BMap.Point(listdata[i]['lon'], listdata[i]['lat']);
                                var convertor = new BMap.Convertor();
                                var pointArr = [];
                                pointArr.push(point);
                                translateOne(pointArr);

                            }
                        }
                    },
                    error: function (jqXHR, textStatus, errorThrown) {
                        console.log("失败");
                        console.log(jqXHR);
                    }
                });

            // 百度地图API功能
            var map = new BMap.Map("allmap", {
                minZoom: 5,
                maxZoom: 19
            });// 创建Map实例
            map.centerAndZoom(new BMap.Point(90.404, 34.915), 5);
            map.enableScrollWheelZoom();
            map.enableInertialDragging();

            map.enableContinuousZoom();
            function ZoomControl(){
                // 默认停靠位置和偏移量
                this.defaultAnchor = BMAP_ANCHOR_TOP_RIGHT;
                this.defaultOffset = new BMap.Size(10, 25);
            }

            // 通过JavaScript的prototype属性继承于BMap.Control
            ZoomControl.prototype = new BMap.Control();

            var myZoomCtrl = new ZoomControl();
            // 添加到地图当中
            map.addControl(myZoomCtrl);
            var size = new BMap.Size(50, 25);
            map.addControl(new BMap.CityListControl({
                anchor: BMAP_ANCHOR_TOP_RIGHT,
                offset: size

            }));




        $("#guiji").show();
        $("#gjclose").on("click",function () {
            $("#guiji").hide()
        })
    },
        'click .like7':function (e,value,row,index) {
           var sn=row.ccuSn;
           var url;
            $(".item").each(function(index, element) {
                if($(this).hasClass("active")){

                    if($(this).text()=="仓库电池"){
                        url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=4&category=0&ccuSn="+sn
                    }
                    else{
                        url="http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=4&ccuSn="+sn
                    }


                }
            });
                console.log(url)
           $.ajax({
               url: url,
               method: "get",
               contentType: "application/json; charset=utf-8",
               cache: false,
               beforeSend: function (xhr) {
                   /* Authorization header */
                   xhr.setRequestHeader("firm", sessionStorage.flag);
                   xhr.setRequestHeader("Authorization", sessionStorage.token);
               },
               success: function (data) {
                   var x = data.list[0].lon;
                   var y = data.list[0].lat;
                   var pointwz = new BMap.Point(x,y);
                   var bm = new BMap.Map("allmap2");
                   bm.centerAndZoom(pointwz, 15);
                   bm.enableScrollWheelZoom(true);
                   bm.addControl(new BMap.NavigationControl());
                   translateCallback = function (data){
                       if(data.status === 0) {
                           var marker = new BMap.Marker(data.points[0]);
                           bm.addOverlay(marker);
                           bm.setCenter(data.points[0]);
                       }
                   };

                   setTimeout(function(){
                       var convertor = new BMap.Convertor();
                       var pointArr = [];
                       pointArr.push(pointwz);
                       convertor.translate(pointArr, 1, 5, translateCallback)
                   }, 1000);
               },
               error: function (jqXHR, textStatus, errorThrown) {
                   console.log("失败");
                   console.log(jqXHR);
               }
           });

           // 百度地图API功能
           var map = new BMap.Map("allmap");    // 创建Map实例
           map.centerAndZoom(new BMap.Point(108.953365,34.348461), 5);
           map.enableScrollWheelZoom();
           map.enableInertialDragging();

           map.enableContinuousZoom();
           function ZoomControl(){
               // 默认停靠位置和偏移量
               this.defaultAnchor = BMAP_ANCHOR_TOP_RIGHT;
               this.defaultOffset = new BMap.Size(10, 25);
           }

           // 通过JavaScript的prototype属性继承于BMap.Control
           ZoomControl.prototype = new BMap.Control();

           var myZoomCtrl = new ZoomControl();
           // 添加到地图当中
           map.addControl(myZoomCtrl);
           var size = new BMap.Size(50, 25);
           map.addControl(new BMap.CityListControl({
               anchor: BMAP_ANCHOR_TOP_RIGHT,
               offset: size

           }));
//            var mapdata=poins(JSON.parse(sessionStorage.mapData));
//
//            setTimeout(function(){
//
//                var convertor = new BMap.Convertor();
//                for(var i=0;i<mapdata.length;i++){
//                    convertor.translate(mapdata[i], 1, 5, translateCallback);
//
//                }
//            }, 100);
//            var pois =[];
//            translateCallback = function (data){
//                var sy = new BMap.Symbol(BMap_Symbol_SHAPE_BACKWARD_OPEN_ARROW, {
//
//                    strokeWeight: '2'//设置线宽
//                });
//                var icons = new BMap.IconSequence(sy, '10', '30');
//// 创建polyline对象
//                if(data.status === 0) {
//
//                    for (var i = 0; i < data.points.length; i++) {
////                        pois.push(data.points[i].lon['lon'],data.points[i].lat['lat']);
//
//                        pois.push(data.points[i]);
//
//
//
//                    }
////                    console.log(pois);
//
//                    var polyline =new BMap.Polyline(pois, {
//                        enableEditing: false,//是否启用线编辑，默认为false
//                        enableClicking: true,//是否响应点击事件，默认为true
//                        strokeWeight:'5',//折线的宽度，以像素为单位
//                        strokeOpacity: 0.4,//折线的透明度，取值范围0 - 1
//                        strokeColor:"#ff0000" //折线颜色
//                    });
//
//                    map.addOverlay(polyline);          //增加折线
//
//                }
//            };



           $("#weizhi").show();
           $("#wzclose").on("click",function () {
               $("#weizhi").hide()
           })
       },
        'click .like8':function (e,value,row,index) {
            $(".item").each(function(index, element) {
                console.log("http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/"+row.ccuSn+"/clean-exception-flag");
                if($(this).hasClass("active")){

                    if($(this).text()=="异常电池"){
                        ajax("http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/"+row.ccuSn+"/clean-exception-flag","get",function (data) {
                            $("#table").bootstrapTable('refresh');
                        }, function (err) {
                            alert("移除失败");
                            console.log(err)});



                    }
                    else if($(this).text()=="售后电池") {
                        ajax("http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues/update-after-sale-flag?ccuSn="+row.ccuSn+"&afterSaleFlag=0","put",function (data) {
                            $("#table").bootstrapTable('refresh');
                        }, function (err) {
                            alert("移除失败");
                            console.log(err)});
                    }


                }
            });

       }
    };

   function getHeight() {
       if (document.body.clientWidth > 1389) {
           return $(window).height() - $('h1').outerHeight(true) - $('nav').outerHeight(true) - 42;
       } else {
           return $(window).height() - $('h1').outerHeight(true) - $('nav').outerHeight(true) - 70;
       }
   }

   initTable();
   $(window).resize(function () {
       $table.bootstrapTable('resetView', {
           height: getHeight()
       });
   });

   $("#wrap-btn-on").on("click", function () {
       console.log("cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues/update_storeId?storeId=" + id1 + "&ueId=" + ueId);
       console.log("已发送");
       $.ajax({
           url: "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ues/update_storeId?storeId=" + id1 + "&ueId=" + ueId,
           method: "put",
           contentType: "application/json; charset=utf-8",
           cache: false,
           beforeSend: function (xhr) {
               /* Authorization header */
               xhr.setRequestHeader("firm", sessionStorage.flag);
               xhr.setRequestHeader("Authorization", sessionStorage.token);
           }, success: function (data) {
               console.log("成功");
               $table.bootstrapTable("refresh", {silent: true});
               $("#wrap").hide()
           },
           error: function (err) {
               console.log(err)
           }
       })
   });
   $("#wrap-btn-off").on("click", function () {
       $("#wrap").hide()
   });
   $(".searchCcu").on("click", function () {
       $.ajax({
           url: "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=4&storeTypes=0,40&filterType=1&sort=ue.end_time,desc&ccuSn=" + $(".searchResult").val(),
           method: "get",
           contentType: "application/json; charset=utf-8",
           cache: false,
           beforeSend: function (xhr) {
               /* Authorization header */
               xhr.setRequestHeader("firm", sessionStorage.flag);
               xhr.setRequestHeader("Authorization", sessionStorage.token);
           },
           success: function (data) {
               $("#table").bootstrapTable('refresh', {'url': "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=4&storeTypes=0,40&filterType=1&sort=ue.end_time,desc&ccuSn=" + $(".searchResult").val()});
           },
           error: function (jqXHR, textStatus, errorThrown) {
               console.log("失败")
               console.log(jqXHR);
           }
       });


   });
   $(".searchCcu2").on("click", function () {
       $.ajax({
           url: "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=4&storeTypes=0,40&filterType=2&sort=ue.end_time,desc&ccuSn=" + $(".searchResult2").val(),
           method: "get",
           contentType: "application/json; charset=utf-8",
           cache: false,
           beforeSend: function (xhr) {
               /* Authorization header */
               xhr.setRequestHeader("firm", sessionStorage.flag);
               xhr.setRequestHeader("Authorization", sessionStorage.token);
           },
           success: function (data) {
               $("#table").bootstrapTable('refresh', {'url': "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=4&storeTypes=0,40&filterType=2&sort=ue.end_time,desc&ccuSn=" + $(".searchResult2").val()});
           },
           error: function (jqXHR, textStatus, errorThrown) {
               console.log("失败")
               console.log(jqXHR);
           }
       });


   });
   $(".searchCcu3").on("click", function () {
       $.ajax({
           url: "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=4&storeTypes=0,40&filterType=3&sort=ue.store_code,asc&ccuSn=" + $(".searchResult3").val(),
           method: "get",
           contentType: "application/json; charset=utf-8",
           cache: false,
           beforeSend: function (xhr) {
               /* Authorization header */
               xhr.setRequestHeader("firm", sessionStorage.flag);
               xhr.setRequestHeader("Authorization", sessionStorage.token);
           },
           success: function (data) {
               $("#table").bootstrapTable('refresh', {'url': "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=4&storeTypes=0,40&filterType=3&sort=ue.store_code,asc&ccuSn=" + $(".searchResult3").val()});
           },
           error: function (jqXHR, textStatus, errorThrown) {
               console.log("失败")
               console.log(jqXHR);
           }
       });


   });
   $(".searchCcu4").on("click", function () {
       $.ajax({
           url: "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=4&category=0&ccuSn=" + $(".searchResult4").val(),
           method: "get",
           contentType: "application/json; charset=utf-8",
           cache: false,
           beforeSend: function (xhr) {
               /* Authorization header */
               xhr.setRequestHeader("firm", sessionStorage.flag);
               xhr.setRequestHeader("Authorization", sessionStorage.token);
           },
           success: function (data) {
               $("#table").bootstrapTable('refresh', {'url': "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=4&category=0&ccuSn=" + $(".searchResult4").val()});
           },
           error: function (jqXHR, textStatus, errorThrown) {
               console.log("失败")
               console.log(jqXHR);
           }
       });


   });
   $(".searchCcu5").on("click", function () {
       $.ajax({
           url: "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=4&exceptionFlag=1&sort=ue.end_time,desc&ccuSn=" + $(".searchResult5").val(),
           method: "get",
           contentType: "application/json; charset=utf-8",
           cache: false,
           beforeSend: function (xhr) {
               /* Authorization header */
               xhr.setRequestHeader("firm", sessionStorage.flag);
               xhr.setRequestHeader("Authorization", sessionStorage.token);
           },
           success: function (data) {
               $("#table").bootstrapTable('refresh', {'url': "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=4&exceptionFlag=1&sort=ue.end_time,desc&ccuSn=" + $(".searchResult5").val()});
           },
           error: function (jqXHR, textStatus, errorThrown) {
               console.log("失败")
               console.log(jqXHR);
           }
       });


   });
   $(".searchCcu6").on("click", function () {
       $.ajax({
           url: "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=4&afterSaleFlag=1&sort=ue.end_time,desc&ccuSn=" + $(".searchResult6").val(),
           method: "get",
           contentType: "application/json; charset=utf-8",
           cache: false,
           beforeSend: function (xhr) {
               /* Authorization header */
               xhr.setRequestHeader("firm", sessionStorage.flag);
               xhr.setRequestHeader("Authorization", sessionStorage.token);
           },
           success: function (data) {
               $("#table").bootstrapTable('refresh', {'url': "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=4&exceptionFlag=1&sort=ue.end_time,desc&ccuSn=" + $(".searchResult5").val()});
           },
           error: function (jqXHR, textStatus, errorThrown) {
               console.log("失败")
               console.log(jqXHR);
           }
       });


   });
   $(".searchDQ").on("click", function () {
       var url;
       var a = $(".selpr").val();
       console.log(a);
       var b = $(".selci").val();
       var c = $(".selco").val();

       var myselect = document.getElementById("sectionName-s");
       var index = myselect.selectedIndex;
       idstore1 = myselect.options[index].value;
       console.log(idstore1);
       var myselect2 = document.getElementById("guigese");
       var index2 = myselect2.selectedIndex;
       idpro = myselect2.options[index2].value;
       console.log(idpro);
       var myselect3 = document.getElementById("erjise");
       var index3 = myselect3.selectedIndex;
       idstore2 = myselect3.options[index3].value;
       console.log(idstore2);
       url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=4&storeTypes=0,40&filterType=1&sort=ue.end_time,desc"
       if (a == "") {
           url = url
       } else {
           url = url + "&province=" + a
       }
       if (b == "") {
           url = url
       } else {
           url = url + "&city=" + b
       }
       if (c == "") {
           url = url
       } else {
           url = url + "&county=" + c
       }
       if (idstore1 == "0") {
           if (idpro == "0") {
               url = url
           } else {
               url = url + "&productId=" + idpro
           }
       } else {
           if (idstore2 == "0") {
               if (idpro == "0") {
                   url = url + "&dealerId=" + idstore1
               } else {
                   url = url + "&dealerId=" + idstore1 + "&productId=" + idpro
               }
           } else {
               if (idpro == "0") {
                   url = url + "&storeId=" + idstore2
               } else {
                   url = url + "&storeId=" + idstore2 + "&productId=" + idpro
               }
           }
       }
       console.log(url)
       $.ajax({
           url: url,
           method: "get",
           contentType: "application/json; charset=utf-8",
           cache: false,
           beforeSend: function (xhr) {
               /* Authorization header */
               xhr.setRequestHeader("firm", sessionStorage.firmFlag);
               xhr.setRequestHeader("Authorization", sessionStorage.token);
           },
           success: function (data) {
               console.log("liebiao1");
               $("#table").bootstrapTable('refresh', {'url': url});

           },
           error: function (jqXHR, textStatus, errorThrown) {
               console.log("失败");
               console.log(jqXHR);
           }
       });

   });
   $(".searchDQ2").on("click", function () {
       var url;
       var a = $(".selpr2").val();
       console.log(a);
       var b = $(".selci2").val();
       var c = $(".selco2").val();

       var myselect = document.getElementById("sectionName-s2");
       var index = myselect.selectedIndex;
       idstore1 = myselect.options[index].value;
       console.log(idstore1);
       var myselect2 = document.getElementById("guigese2");
       var index2 = myselect2.selectedIndex;
       idpro = myselect2.options[index2].value;
       console.log(idpro);
       var myselect3 = document.getElementById("erjise2");
       var index3 = myselect3.selectedIndex;
       idstore2 = myselect3.options[index3].value;
       console.log(idstore2);
       url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=4&storeTypes=0,40&filterType=2&sort=ue.end_time,desc"
       if (a == "") {
           url = url
       } else {
           url = url + "&province=" + a
       }
       if (b == "") {
           url = url
       } else {
           url = url + "&city=" + b
       }
       if (c == "") {
           url = url
       } else {
           url = url + "&county=" + c
       }
       if (idstore1 == "0") {
           if (idpro == "0") {
               url = url
           } else {
               url = url + "&productId=" + idpro
           }
       } else {
           if (idstore2 == "0") {
               if (idpro == "0") {
                   url = url + "&dealerId=" + idstore1
               } else {
                   url = url + "&dealerId=" + idstore1 + "&productId=" + idpro
               }
           } else {
               if (idpro == "0") {
                   url = url + "&storeId=" + idstore2
               } else {
                   url = url + "&storeId=" + idstore2 + "&productId=" + idpro
               }
           }
       }
       console.log(url)

       $.ajax({
           url: url,
           method: "get",
           contentType: "application/json; charset=utf-8",
           cache: false,
           beforeSend: function (xhr) {
               /* Authorization header */
               xhr.setRequestHeader("firm", sessionStorage.firmFlag);
               xhr.setRequestHeader("Authorization", sessionStorage.token);
           },
           success: function (data) {
               console.log("liebiao2");
               $("#table").bootstrapTable('refresh', {'url': url});

           },
           error: function (jqXHR, textStatus, errorThrown) {
               console.log("失败");
               console.log(jqXHR);
           }
       });

   });
   $(".searchDQ3").on("click", function () {
       var url;
       var a = $(".selpr3").val();
       console.log(a);
       var b = $(".selci3").val();
       var c = $(".selco3").val();

       var myselect = document.getElementById("sectionName-s3");
       var index = myselect.selectedIndex;
       idstore1 = myselect.options[index].value;
       console.log(idstore1);
       var myselect2 = document.getElementById("guigese3");
       var index2 = myselect2.selectedIndex;
       idpro = myselect2.options[index2].value;
       console.log(idpro);
       var myselect3 = document.getElementById("erjise3");
       var index3 = myselect3.selectedIndex;
       idstore2 = myselect3.options[index3].value;
       console.log(idstore2);
       url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=4&storeTypes=0,40&filterType=3&sort=ue.store_code,asc"
       if (a == "") {
           url = url
       } else {
           url = url + "&province=" + a
       }
       if (b == "") {
           url = url
       } else {
           url = url + "&city=" + b
       }
       if (c == "") {
           url = url
       } else {
           url = url + "&county=" + c
       }
       if (idstore1 == "0") {
           if (idpro == "0") {
               url = url
           } else {
               url = url + "&productId=" + idpro
           }
       } else {
           if (idstore2 == "0") {
               if (idpro == "0") {
                   url = url + "&dealerId=" + idstore1
               } else {
                   url = url + "&dealerId=" + idstore1 + "&productId=" + idpro
               }
           } else {
               if (idpro == "0") {
                   url = url + "&storeId=" + idstore2
               } else {
                   url = url + "&storeId=" + idstore2 + "&productId=" + idpro
               }
           }
       }
       console.log(url)

       $.ajax({
           url: url,
           method: "get",
           contentType: "application/json; charset=utf-8",
           cache: false,
           beforeSend: function (xhr) {
               /* Authorization header */
               xhr.setRequestHeader("firm", sessionStorage.firmFlag);
               xhr.setRequestHeader("Authorization", sessionStorage.token);
           },
           success: function (data) {

               $("#table").bootstrapTable('refresh', {'url': url});

           },
           error: function (jqXHR, textStatus, errorThrown) {
               console.log("失败");
               console.log(jqXHR);
           }
       });

   });
   $(".searchDQ4").on("click", function () {
       var url;
       var a = $(".selpr4").val();
       console.log(a);
       var b = $(".selci4").val();
       var c = $(".selco4").val();

       var myselect = document.getElementById("sectionName-s4");
       var index = myselect.selectedIndex;
       idstore1 = myselect.options[index].value;
       console.log(idstore1);
       var myselect2 = document.getElementById("guigese4");
       var index2 = myselect2.selectedIndex;
       idpro = myselect2.options[index2].value;
       console.log(idpro);


       url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=4&category=0&sort=ue.store_code,asc"
       if (a == "") {
           url = url
       } else {
           url = url + "&province=" + a
       }
       if (b == "") {
           url = url
       } else {
           url = url + "&city=" + b
       }
       if (c == "") {
           url = url
       } else {
           url = url + "&county=" + c
       }
       if (idstore1 == "0") {
           url = url
       } else {
           url = url + "&storeId=" + idstore1
       }
       if (idpro == "0") {
           url = url
       } else {
           url = url + "&productId=" + idpro
       }
       console.log(url)

       $.ajax({
           url: url,
           method: "get",
           contentType: "application/json; charset=utf-8",
           cache: false,
           beforeSend: function (xhr) {
               /* Authorization header */
               xhr.setRequestHeader("firm", sessionStorage.firmFlag);
               xhr.setRequestHeader("Authorization", sessionStorage.token);
           },
           success: function (data) {

               $("#table").bootstrapTable('refresh', {'url': url});

           },
           error: function (jqXHR, textStatus, errorThrown) {
               console.log("失败");
               console.log(jqXHR);
           }
       });

   });
   $(".searchDQ5").on("click", function () {
       var url;
       var a = $(".selpr5").val();
       console.log(a);
       var b = $(".selci5").val();
       var c = $(".selco5").val();

       var myselect = document.getElementById("sectionName-s5");
       var index = myselect.selectedIndex;
       idstore1 = myselect.options[index].value;
       console.log(idstore1);
       var myselect2 = document.getElementById("guigese5");
       var index2 = myselect2.selectedIndex;
       idpro = myselect2.options[index2].value;
       console.log(idpro);
       var myselect3 = document.getElementById("erjise5");
       var index3 = myselect3.selectedIndex;
       idstore2 = myselect3.options[index3].value;
       console.log(idstore2);
       url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=4&exceptionFlag=1&sort=ue.end_time,desc"
       if (a == "") {
           url = url
       } else {
           url = url + "&province=" + a
       }
       if (b == "") {
           url = url
       } else {
           url = url + "&city=" + b
       }
       if (c == "") {
           url = url
       } else {
           url = url + "&county=" + c
       }
       if (idstore1 == "0") {
           if (idpro == "0") {
               url = url
           } else {
               url = url + "&productId=" + idpro
           }
       } else {
           if (idstore2 == "0") {
               if (idpro == "0") {
                   url = url + "&dealerId=" + idstore1
               } else {
                   url = url + "&dealerId=" + idstore1 + "&productId=" + idpro
               }
           } else {
               if (idpro == "0") {
                   url = url + "&storeId=" + idstore2
               } else {
                   url = url + "&storeId=" + idstore2 + "&productId=" + idpro
               }
           }
       }
       console.log(url)
       $.ajax({
           url: url,
           method: "get",
           contentType: "application/json; charset=utf-8",
           cache: false,
           beforeSend: function (xhr) {
               /* Authorization header */
               xhr.setRequestHeader("firm", sessionStorage.firmFlag);
               xhr.setRequestHeader("Authorization", sessionStorage.token);
           },
           success: function (data) {

               $("#table").bootstrapTable('refresh', {'url': url});

           },
           error: function (jqXHR, textStatus, errorThrown) {
               console.log("失败");
               console.log(jqXHR);
           }
       });

   });
   $(".searchDQ6").on("click", function () {
       var url;
       var a = $(".selpr6").val();
       console.log(a);
       var b = $(".selci6").val();
       var c = $(".selco6").val();

       var myselect = document.getElementById("sectionName-s6");
       var index = myselect.selectedIndex;
       idstore1 = myselect.options[index].value;
       console.log(idstore1);
       var myselect2 = document.getElementById("guigese6");
       var index2 = myselect2.selectedIndex;
       idpro = myselect2.options[index2].value;
       console.log(idpro);
       var myselect3 = document.getElementById("erjise6");
       var index3 = myselect3.selectedIndex;
       idstore2 = myselect3.options[index3].value;
       console.log(idstore2);
       url = "http://cjl3.rokyinfo.net:7200/api-ebike/v3.1/ebikes/list?adminFlag=ss&type=4&afterSaleFlag=1&sort=ue.end_time,desc"
       if (a == "") {
           url = url
       } else {
           url = url + "&province=" + a
       }
       if (b == "") {
           url = url
       } else {
           url = url + "&city=" + b
       }
       if (c == "") {
           url = url
       } else {
           url = url + "&county=" + c
       }
       if (idstore1 == "0") {
           if (idpro == "0") {
               url = url
           } else {
               url = url + "&productId=" + idpro
           }
       } else {
           if (idstore2 == "0") {
               if (idpro == "0") {
                   url = url + "&dealerId=" + idstore1
               } else {
                   url = url + "&dealerId=" + idstore1 + "&productId=" + idpro
               }
           } else {
               if (idpro == "0") {
                   url = url + "&storeId=" + idstore2
               } else {
                   url = url + "&storeId=" + idstore2 + "&productId=" + idpro
               }
           }
       }
       console.log(url)
       $.ajax({
           url: url,
           method: "get",
           contentType: "application/json; charset=utf-8",
           cache: false,
           beforeSend: function (xhr) {
               /* Authorization header */
               xhr.setRequestHeader("firm", sessionStorage.firmFlag);
               xhr.setRequestHeader("Authorization", sessionStorage.token);
           },
           success: function (data) {

               $("#table").bootstrapTable('refresh', {'url': url});

           },
           error: function (jqXHR, textStatus, errorThrown) {
               console.log("失败");
               console.log(jqXHR);
           }
       });

   });

</script>
<script type="text/javascript">

    $(function () {
        getMissiveType();
        getMissiveType1();
        getMissiveType2();
        getMissiveType3();
    });

    function move1() {
        var myselect2 = document.getElementById("erjise");
        var myselect = document.getElementById("sectionName-s");
        var index = myselect.selectedIndex;
        parentId = myselect.options[index].value;
        var add;
        $.ajax({
            url: "http://cjl3.rokyinfo.net:7200/api-user/v3.1/ebikestores?category=2&parentId=" + parentId + "&showFlag=0&sort=code,asc&limit=100&page=1",
            method: "get",
            contentType: "application/json; charset=utf-8",
            processData: false,
            cache: false,
            beforeSend: function (xhr) {
                xhr.setRequestHeader("firm", sessionStorage.firmFlag);
                xhr.setRequestHeader("Authorization", sessionStorage.token);
            },
            success: function (data) {
                var len = data.list.length;
                myselect2.length = 1;
                for (i = 0; i < len; i++) {
                    $("#erjise").append($('<option value=' + data.list[i].id + '>' + data.list[i].name + '</option>'));
                }
            },
            error: function (jqXHR, textStatus, errorThrown) {
                move1()
            }
        })
    }

    function move2() {
        var myselect2 = document.getElementById("erjise2");
        var myselect = document.getElementById("sectionName-s2");
        var index = myselect.selectedIndex;
        parentId = myselect.options[index].value;
        var add;
        $.ajax({
            url: "http://cjl3.rokyinfo.net:7200/api-user/v3.1/ebikestores?category=2&parentId=" + parentId + "&showFlag=0&sort=code,asc&limit=100&page=1",
            method: "get",
            contentType: "application/json; charset=utf-8",
            processData: false,
            cache: false,
            beforeSend: function (xhr) {
                xhr.setRequestHeader("firm", sessionStorage.firmFlag);
                xhr.setRequestHeader("Authorization", sessionStorage.token);
            },
            success: function (data) {
                var len = data.list.length;
                myselect2.length = 1;
                for (i = 0; i < len; i++) {
                    $("#erjise2").append($('<option value=' + data.list[i].id + '>' + data.list[i].name + '</option>'));
                }
            },
            error: function (jqXHR, textStatus, errorThrown) {
                move2()
            }
        })
    }

    function move3() {
        var myselect2 = document.getElementById("erjise3");
        var myselect = document.getElementById("sectionName-s3");
        var index = myselect.selectedIndex;
        parentId = myselect.options[index].value;
        var add;
        $.ajax({
            url: "http://cjl3.rokyinfo.net:7200/api-user/v3.1/ebikestores?category=2&parentId=" + parentId + "&showFlag=0&sort=code,asc&limit=100&page=1",
            method: "get",
            contentType: "application/json; charset=utf-8",
            processData: false,
            cache: false,
            beforeSend: function (xhr) {
                xhr.setRequestHeader("firm", sessionStorage.firmFlag);
                xhr.setRequestHeader("Authorization", sessionStorage.token);
            },
            success: function (data) {
                var len = data.list.length;
                myselect2.length = 1;
                for (i = 0; i < len; i++) {
                    $("#erjise3").append($('<option value=' + data.list[i].id + '>' + data.list[i].name + '</option>'));
                }
            },
            error: function (jqXHR, textStatus, errorThrown) {
                move3()
            }
        })
    }

    function move5() {
        var myselect2 = document.getElementById("erjise5");
        var myselect = document.getElementById("sectionName-s5");
        var index = myselect.selectedIndex;
        parentId = myselect.options[index].value;
        var add;
        $.ajax({
            url: "http://cjl3.rokyinfo.net:7200/api-user/v3.1/ebikestores?category=2&parentId=" + parentId + "&showFlag=0&sort=code,asc&limit=100&page=1",
            method: "get",
            contentType: "application/json; charset=utf-8",
            processData: false,
            cache: false,
            beforeSend: function (xhr) {
                xhr.setRequestHeader("firm", sessionStorage.firmFlag);
                xhr.setRequestHeader("Authorization", sessionStorage.token);
            },
            success: function (data) {
                var len = data.list.length;
                myselect2.length = 1;
                for (i = 0; i < len; i++) {
                    $("#erjise5").append($('<option value=' + data.list[i].id + '>' + data.list[i].name + '</option>'));
                }
            },
            error: function (jqXHR, textStatus, errorThrown) {
                move5()
            }
        })
    }

    function move6() {
        var myselect2 = document.getElementById("erjise6");
        var myselect = document.getElementById("sectionName-s6");
        var index = myselect.selectedIndex;
        parentId = myselect.options[index].value;
        var add;
        $.ajax({
            url: "http://cjl3.rokyinfo.net:7200/api-user/v3.1/ebikestores?category=2&parentId=" + parentId + "&showFlag=0&sort=code,asc&limit=100&page=1",
            method: "get",
            contentType: "application/json; charset=utf-8",
            processData: false,
            cache: false,
            beforeSend: function (xhr) {
                xhr.setRequestHeader("firm", sessionStorage.firmFlag);
                xhr.setRequestHeader("Authorization", sessionStorage.token);
            },
            success: function (data) {
                var len = data.list.length;
                myselect2.length = 1;
                for (i = 0; i < len; i++) {
                    $("#erjise6").append($('<option value=' + data.list[i].id + '>' + data.list[i].name + '</option>'));
                }
            },
            error: function (jqXHR, textStatus, errorThrown) {
                move6()
            }
        })
    }

    function getMissiveType() {
        $.ajax({
                url: "http://cjl3.rokyinfo.net:7200/api-user/v3.1/ebikestores?category=1&showFlag=0&sort=code,asc&limit=100&page=1",
                method: "get",
                contentType: "application/json; charset=utf-8",
                processData: false,
                cache: false,
                beforeSend: function (xhr) {
                    xhr.setRequestHeader("firm", sessionStorage.firmFlag);
                    xhr.setRequestHeader("Authorization", sessionStorage.token);
                },
                success: function (data) {
                    var len = data.list.length;
                    $('#sectionName-s').attr("length", '0');
                    for (i = 0; i < len; i++) {
                        $("#sectionName-s").append($('<option value=' + data.list[i].id + '>' + data.list[i].name + '</option>'));
                        $("#sectionName-s2").append($('<option value=' + data.list[i].id + '>' + data.list[i].name + '</option>'));
                        $("#sectionName-s3").append($('<option value=' + data.list[i].id + '>' + data.list[i].name + '</option>'));
                        $("#sectionName-s6").append($('<option value=' + data.list[i].id + '>' + data.list[i].name + '</option>'));
                    }
                },
                error: function (jqXHR, textStatus, errorThrown) {
                    getMissiveType()
                }
            }
        );
    }

    function getMissiveType1() {
        $.ajax({
                url: "http://cjl3.rokyinfo.net:7200/api-user/v3.1/ebikestores?category=0&showFlag=0&sort=code,asc&limit=100&page=1",
                method: "get",
                contentType: "application/json; charset=utf-8",
                processData: false,
                cache: false,
                beforeSend: function (xhr) {
                    xhr.setRequestHeader("firm", sessionStorage.firmFlag);
                    xhr.setRequestHeader("Authorization", sessionStorage.token);
                },
                success: function (data) {
                    var len = data.list.length;
                    $('#sectionName-s4').attr("length", '0');
                    for (i = 0; i < len; i++) {
                        $("#sectionName-s4").append($('<option value=' + data.list[i].id + '>' + data.list[i].name + '</option>'));
                    }
                },
                error: function (jqXHR, textStatus, errorThrown) {
                    getMissiveType1()
                }
            }
        );
    }

    function getMissiveType2() {
        $.ajax({
                url: "http://cjl3.rokyinfo.net:7200/api-order/v3.1/specifications?sort=id,asc&categoryIds=1",
                method: "get",
                contentType: "application/json; charset=utf-8",
                processData: false,
                cache: false,
                beforeSend: function (xhr) {
                    xhr.setRequestHeader("firm", sessionStorage.firmFlag);
                    xhr.setRequestHeader("Authorization", sessionStorage.token);
                },
                success: function (data) {
                    var len = data.list.length;
                    $('#guigese').attr("length", '0');
                    for (i = 0; i < len; i++) {
                        $("#guigese").append($('<option value=' + data.list[i].id + '>' + data.list[i].name + '</option>'));
                        $("#guigese2").append($('<option value=' + data.list[i].id + '>' + data.list[i].name + '</option>'));
                        $("#guigese3").append($('<option value=' + data.list[i].id + '>' + data.list[i].name + '</option>'));
                        $("#guigese4").append($('<option value=' + data.list[i].id + '>' + data.list[i].name + '</option>'));
                        $("#guigese5").append($('<option value=' + data.list[i].id + '>' + data.list[i].name + '</option>'));
                        $("#guigese6").append($('<option value=' + data.list[i].id + '>' + data.list[i].name + '</option>'));
                    }
                },
                error: function (jqXHR, textStatus, errorThrown) {
                    getMissiveType2()
                }
            }
        );
    }

    function getMissiveType3() {
        $.ajax({
                url: "http://cjl3.rokyinfo.net:7200/api-user/v3.1/ebikestores?category=1&showFlag=0&sort=code,asc&limit=100&page=1",
                method: "get",
                contentType: "application/json; charset=utf-8",
                processData: false,
                cache: false,
                beforeSend: function (xhr) {
                    xhr.setRequestHeader("firm", sessionStorage.firmFlag);
                    xhr.setRequestHeader("Authorization", sessionStorage.token);
                },
                success: function (data) {
                    var len = data.list.length;
                    $('#sectionName-s').attr("length", '0');
                    for (i = 0; i < len; i++) {
                        $("#sectionName-s5").append($('<option value=' + data.list[i].id + '>' + data.list[i].name + '</option>'));
                    }
                },
                error: function (jqXHR, textStatus, errorThrown) {
                    getMissiveType3()
                }
            }
        );
    }
    $(function () {
        $('#datetimepicker1').datetimepicker({
            format: 'YYYY-MM-DD HH:mm:ss'
        });
        $('#datetimepicker2').datetimepicker({
            format: 'YYYY-MM-DD HH:mm:ss'
        });
        $('#datetimepicker3').datetimepicker({
            format: 'YYYY-MM-DD HH:mm:ss',
            defaultDate : getNowFormatDate()
        });
        $('#datetimepicker4').datetimepicker({
            format: 'YYYY-MM-DD HH:mm:ss',
            defaultDate : getNowFormatDate2()
        });
        $('#datetimepicker5').datetimepicker({
            format: 'YYYY-MM-DD HH:mm:ss',
            defaultDate : getNowFormatDate3()
        });
        $('#datetimepicker6').datetimepicker({
            format: 'YYYY-MM-DD HH:mm:ss',
            defaultDate : getNowFormatDate2()
        });

    });

    function getNowFormatDate() {
        var date = new Date();
        var date2 = new Date(date.getTime() - 7 * 24 * 3600 * 1000);
        var seperator1 = "-";
        var seperator2 = ":";
        var month = date2.getMonth() + 1;
        var strDate = date2.getDate();
        if (month >= 1 && month <= 9) {
            month = "0" + month;
        }
        if (strDate >= 0 && strDate <= 9) {
            strDate = "0" + strDate;
        }
        var currentdate = date2.getFullYear() + seperator1 + month + seperator1 + strDate
            + " " + 00 + seperator2 + 00
            + seperator2 + 00;
        return currentdate;
    }

    function getNowFormatDate2() {
        var date = new Date();
        var seperator1 = "-";
        var seperator2 = ":";
        var month = date.getMonth() + 1;
        var strDate = date.getDate();
        if (month >= 1 && month <= 9) {
            month = "0" + month;
        }
        if (strDate >= 0 && strDate <= 9) {
            strDate = "0" + strDate;
        }
        var currentdate = date.getFullYear() + seperator1 + month + seperator1 + strDate
            + " " + date.getHours() + seperator2 + date.getMinutes()
            + seperator2 + date.getSeconds();
        return currentdate;
    }

    function getNowFormatDate3() {
        var date = new Date();
        var date2 = new Date(date.getTime() - 30 * 24 * 3600 * 1000);
        var seperator1 = "-";
        var seperator2 = ":";
        var month = date2.getMonth() + 1;
        var strDate = date2.getDate();
        if (month >= 1 && month <= 9) {
            month = "0" + month;
        }
        if (strDate >= 0 && strDate <= 9) {
            strDate = "0" + strDate;
        }
        var currentdate = date2.getFullYear() + seperator1 + month + seperator1 + strDate
            + " " + 00 + seperator2 + 00
            + seperator2 + 00;
        return currentdate;
    }

</script>
<script src="js/distpicker.data.js"></script>
<script src="js/distpicker.js"></script>
<script src="js/main.js"></script>
</html>
